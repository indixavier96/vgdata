/*! For license information please see OnboardingTopicsPage.MainContent.a63c74f4.chunk.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1353],{55127:function(e){e.exports=function(){var e=[],n=[],t={},r={},i={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,n){return e===n?n:e===e.toUpperCase()?n.toUpperCase():e[0]===e[0].toUpperCase()?n.charAt(0).toUpperCase()+n.substr(1).toLowerCase():n.toLowerCase()}function l(e,n){return e.replace(n[0],(function(t,r){var i,o,l=(i=n[1],o=arguments,i.replace(/\$(\d{1,2})/g,(function(e,n){return o[n]||""})));return a(""===t?e[r-1]:t,l)}))}function c(e,n,r){if(!e.length||t.hasOwnProperty(e))return n;for(var i=r.length;i--;){var o=r[i];if(o[0].test(n))return l(n,o)}return n}function u(e,n,t){return function(r){var i=r.toLowerCase();return n.hasOwnProperty(i)?a(r,i):e.hasOwnProperty(i)?a(r,e[i]):c(i,r,t)}}function s(e,n,t,r){return function(r){var i=r.toLowerCase();return!!n.hasOwnProperty(i)||!e.hasOwnProperty(i)&&c(i,i,t)===i}}function d(e,n,t){return(t?n+" ":"")+(1===n?d.singular(e):d.plural(e))}return d.plural=u(i,r,e),d.isPlural=s(i,r,e),d.singular=u(r,i,n),d.isSingular=s(r,i,n),d.addPluralRule=function(n,t){e.push([o(n),t])},d.addSingularRule=function(e,t){n.push([o(e),t])},d.addUncountableRule=function(e){"string"!=typeof e?(d.addPluralRule(e,"$0"),d.addSingularRule(e,"$0")):t[e.toLowerCase()]=!0},d.addIrregularRule=function(e,n){n=n.toLowerCase(),e=e.toLowerCase(),i[e]=n,r[n]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach((function(e){return d.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return d.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return d.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(d.addUncountableRule),d}()},61063:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MainContent:()=>de,useLoader:()=>se});var r=t(95964),i=t(96540),o=t(80545),a=t(95765),l=t(64527),c=t(93524),u=t(9942),s=t(8697),d=t(49287),m=t(51260),p=t(39160),f=t(79959),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopicsOnboardingQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicsOnboardingScreen_user"}}]}},{kind:"Field",name:{kind:"Name",value:"onboardingTopicCategories"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicsOnboardingScreen_topicCategory"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicPillColored_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicCategory_topicCategory"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicCategory"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"followerCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPillColored_tag"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicsOnboardingScreen_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"missionControl"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"counts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedTags"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"followedTags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicsOnboardingScreen_topicCategory"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicCategory"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicCategory_topicCategory"}}]}}]},h=t(82284),v=t(10467),y=t(5544),w=t(60436),k=t(52290),b=t(10531),x=t(85050),E=function(){return i.createElement(k.a,{display:"flex",marginBottom:"8px"},i.createElement(k.a,{width:"80px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL"}),i.createElement(k.a,{width:"112px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL",marginLeft:"12px"}),i.createElement(k.a,{width:"128px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL",marginLeft:"12px"}),i.createElement(x.V,{sm:!0,md:!0,lg:!0,xl:!0},i.createElement(k.a,{width:"72px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL",marginLeft:"8px"})))},S=function(){return i.createElement(k.a,{display:"flex",marginBottom:"8px"},i.createElement(k.a,{width:"128px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL"}),i.createElement(k.a,{width:"121px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL",marginLeft:"8px"}),i.createElement(k.a,{width:"63px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL",marginLeft:"8px"}),i.createElement(x.V,{sm:!0,md:!0,lg:!0,xl:!0},i.createElement(k.a,{width:"88px",height:"38px",borderRadius:"18px",backgroundColor:"BASE_NORMAL",marginLeft:"8px"})))},$=function(e){var n=e.numRows;return i.createElement(k.a,{display:"flex",flexDirection:"column",alignItems:"center"},(0,w.A)(Array(n).keys()).map((function(e){return e%2==0?i.createElement(E,{key:e}):i.createElement(S,{key:e})})))},T=function(){return i.createElement(i.Fragment,null,i.createElement(x.V,{xs:!0},i.createElement($,{numRows:7})),i.createElement(x.V,{sm:!0,md:!0,lg:!0,xl:!0},i.createElement($,{numRows:12})))},C=function(){return i.createElement(b.H,{numPlaceholders:1},i.createElement(T,null))},N=t(98817),O=t(18565),_=t(67137),F=t(28072),R=t(99731),A=t(95107),L=t(36557),P=t(34317),D=t(47517),j=t(17756),U=t(85607),I=t(55127),M=t.n(I),B=t(41299),z=t(27049),Z=t(56942),q=t(46989),G=t(46963),J=t(27715),K=t(22381),H=t(86527),W=t(44402),V=function(e,n){return{border:"1px solid ".concat(e),borderRadius:"40px",height:"39px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 16px",cursor:"pointer",transition:"all 200ms ease",backgroundColor:n?e:"transparent",":hover":{backgroundColor:n?e:"".concat(e,"20")}}},Q=function(e){var n=e.tag,t=e.color,r=e.isFollowing,o=e.unfollowTag,a=e.followTag,l=(0,W.l)(),c=n.id||n.normalizedTagSlug||"",u=(0,K.Z)({tagSlug:c||n.id||""}).containerRef;return i.createElement(H.N,{onClick:function(){r?o():a()},linkStyle:"SUBTLE",ref:u},i.createElement("div",{className:l(V(t,r))},i.createElement(k.a,{paddingBottom:"1px"},i.createElement(L.kZ,{scale:"M",color:"DARKER"},n.displayTitle))))},Y=[{selected:q.cZ,unselected:q.cZ},{selected:q.Jf,unselected:q.Jf},{selected:q.T_,unselected:q.T_},{selected:q.JQ,unselected:q.JQ},{selected:q.ZZ,unselected:q.Y0},{selected:q.Dd,unselected:q.Dd}],X=function(e){var n=e.category,t=e.categoryIndex,r=e.topicsToFollow,o=e.topicsToUnfollow,a=e.setTopicsToFollow,l=e.setTopicsToUnfollow,c=(0,G.U)(),u=c===z.i.xs||c===z.i.sm,s=Y[t%Y.length];return i.createElement(k.a,{display:"flex",flexDirection:"column",gap:"16px",textAlign:"left"},i.createElement(Z.DZ,{scale:"XS"},n.name),i.createElement(k.a,{display:"flex",flexWrap:"wrap",gap:"12px"},n.tags.map((function(e){var t,c=!!r.find((function(n){return n.tagSlug===e.id})),m=!!o.find((function(n){return n.tagSlug===e.id})),p=!(null===(t=e.viewerEdge)||void 0===t||!t.isFollowing);return c?p=!0:m&&(p=!1),i.createElement(d.Ne,{key:e.id,source:{topicId:e.id},extendSource:!0},i.createElement(B.R,{darkTheme:!0,targetDistance:15,mouseEnterDelay:100,mouseLeaveDelay:10,placement:"top",isVisible:!!e.followerCount&&!u,popoverRenderFn:function(){return function(e){return e.followerCount?i.createElement(k.a,{padding:"8px"},i.createElement(L.kZ,{scale:"S",color:"WHITE"},(0,J.Ct)(e.followerCount)," ",M()("story",e.followerCount))):null}(e)}},i.createElement(Q,{tag:e,color:p?s.selected:s.unselected,isFollowing:p,unfollowTag:function(){return function(e){var t,r={tagSlug:e.id,displayTitle:e.displayTitle||"",categoryId:n.id};null!==(t=e.viewerEdge)&&void 0!==t&&t.isFollowing&&l((function(e){return[].concat((0,w.A)(e),[r])})),a((function(e){return e.filter((function(e){return e.tagSlug!==r.tagSlug}))}))}(e)},followTag:function(){return function(e){var t,r={tagSlug:e.id,displayTitle:e.displayTitle||"",categoryId:n.id};null!==(t=e.viewerEdge)&&void 0!==t&&t.isFollowing||a((function(e){return[].concat((0,w.A)(e),[r])})),l((function(e){return e.filter((function(e){return e.tagSlug!==r.tagSlug}))}))}(e)}})))}))))};function ee(){var e=ae(),n=e.m(ee),t=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===t||"GeneratorFunction"===(n.displayName||n.name))}var i={throw:1,return:2,break:3,continue:3};function o(e){var n,t;return function(r){n||(n={stop:function(){return t(r.a,2)},catch:function(){return r.v},abrupt:function(e,n){return t(r.a,i[e],n)},delegateYield:function(e,i,o){return n.resultName=i,t(r.d,ne(e),o)},finish:function(e){return t(r.f,e)}},t=function(e,t,i){r.p=n.prev,r.n=n.next;try{return e(t,i)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return e.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(ee=function(){return{wrap:function(n,t,r,i){return e.w(o(n),t,r,i&&i.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,n){return new ce(e,n)},AsyncIterator:oe,async:function(e,n,t,i,a){return(r(n)?ie:re)(o(e),n,t,i,a)},keys:te,values:ne}})()}function ne(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError((0,h.A)(e)+" is not iterable")}function te(e){var n=Object(e),t=[];for(var r in n)t.unshift(r);return function e(){for(;t.length;)if((r=t.pop())in n)return e.value=r,e.done=!1,e;return e.done=!0,e}}function re(e,n,t,r,i){var o=ie(e,n,t,r,i);return o.next().then((function(e){return e.done?e.value:o.next()}))}function ie(e,n,t,r,i){return new oe(ae().w(e,n,t,r),i||Promise)}function oe(e,n){function t(r,i,o,a){try{var l=e[r](i),c=l.value;return c instanceof ce?n.resolve(c.v).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):n.resolve(c).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,a)}))}catch(e){a(e)}}var r;this.next||(le(oe.prototype),le(oe.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),le(this,"_invoke",(function(e,i,o){function a(){return new n((function(n,r){t(e,o,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function ae(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function o(t,r,i,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return le(u,"_invoke",function(t,r,i){var o,l,c,u=0,s=i||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return o=n,l=0,c=e,m.n=t,a}};function p(t,r){for(l=t,c=r,n=0;!d&&u&&!i&&n<s.length;n++){var i,o=s[n],p=m.p,f=o[2];t>3?(i=f===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=t<2&&p<o[1])?(l=0,m.v=r,m.n=o[1]):p<f&&(i=t<3||o[0]>r||r>f)&&(o[4]=t,o[5]=r,m.n=f,l=0))}if(i||t>1)return a;throw d=!0,r}return function(i,s,f){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,f),l=s,c=f;(n=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(m.n=-1),p(l,c)):m.n=c:m.v=c);try{if(u=2,o){if(l||(i="next"),n=o[i]){if(!(n=n.call(o,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=o.return)&&n.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),l=1);o=e}else if((n=(d=m.n<0)?c:t.call(r,m))!==a)break}catch(n){o=e,l=1,c=n}finally{u=1}}return{value:n,done:d}}}(t,i,o),!0),u}var a={};function l(){}function c(){}function u(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(le(n={},r,(function(){return this})),n),d=u.prototype=l.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,le(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,le(d,"constructor",u),le(u,"constructor",c),c.displayName="GeneratorFunction",le(u,i,"GeneratorFunction"),le(d),le(d,i,"Generator"),le(d,r,(function(){return this})),le(d,"toString",(function(){return"[object Generator]"})),(ae=function(){return{w:o,m}})()}function le(e,n,t,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}le=function(e,n,t,r){function o(n,t){le(e,n,(function(e){return this._invoke(n,t,e)}))}n?i?i(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},le(e,n,t,r)}function ce(e,n){this.v=e,this.k=n}var ue=function(e){var n,t,r=e.viewer,o=e.loading,a=e.topicCategories,l=e.redirectUrl,c=(0,U.a)("enable_onboarding_download_app_step"),u=(0,P.$L)(),s=(0,d.jI)(),m=(0,i.useState)(!1),p=(0,y.A)(m,2),f=p[0],g=p[1],h=(0,i.useState)([]),w=(0,y.A)(h,2),b=w[0],x=w[1],E=(0,i.useState)([]),S=(0,y.A)(E,2),$=S[0],T=S[1],I=((null===(n=r.missionControl)||void 0===n||null===(t=n.counts)||void 0===t?void 0:t.followedTags)||0)+b.length-$.length,M=I>=3,B=(0,N.Jb)({followSource:"onboarding"}).followTags,z=(0,N.Qj)({followSource:"onboarding"}).unfollowTags,Z=(0,j.r)(),q=function(){var e=(0,v.A)(ee().mark((function e(){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),(n=[]).push(c()),b.length>0&&n.push(B(b)),$.length>0&&n.push(z($)),e.prev=5,!(n.length>0)){e.next=9;break}return e.next=9,Promise.all(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),D.vF.warn({error:e.t0},"Error saving topics during onboarding");case 14:return e.prev=14,Z(l),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[5,11,14,17]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){u.event("onboarding.followPage.viewed",{entryPoint:O.C.get("susiEntry"),loggedInUserId:r.id,followType:"topic",source:s})}),[r.id]);var G=0===I?"Add 3 more topics":1===I?"Add 2 more topics":2===I?"Add 1 more topic":null;return i.createElement(k.a,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},i.createElement(F.P,{size:"app"},i.createElement(k.a,{display:"flex",flexDirection:"column",alignItems:"center",gap:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},i.createElement(k.a,{display:"flex",flexDirection:"column",alignItems:"center",gap:"32px"},i.createElement(_.w,{miroId:"dd29a272114329235250c56fa5703c380976bfb8402146a584e65476d78eece6",width:{xs:87,sm:87,md:130,lg:130,xl:130},height:{xs:80,sm:80,md:120,lg:120,xl:120}}),i.createElement(k.a,{display:"flex",flexDirection:"column",gap:"16px",width:"100%"},i.createElement(A.mz,{scale:"L"},"What would you like toÂ read?"),i.createElement(L.kZ,{scale:"L",color:"DARKER"},"Choose 3 topics or more to continue."))),o?i.createElement(C,null):i.createElement(k.a,{display:"flex",flexDirection:"column",gap:"32px",width:"100%"},null==a?void 0:a.map((function(e,n){return i.createElement(d.Ne,{key:e.id,source:{index:n},extendSource:!0},i.createElement(X,{topicsToFollow:b,topicsToUnfollow:$,setTopicsToFollow:x,setTopicsToUnfollow:T,category:e,categoryIndex:n}))}))),i.createElement(k.a,{display:"flex",flexDirection:"column",gap:"12px",alignItems:"center",margin:"24px 0 80px"},i.createElement(R.$n,{buttonStyle:"BRAND",padding:"9px 20px",width:"240px",onClick:q,disabled:!M||f},"Continue"),G&&i.createElement(L.kZ,{scale:"M",color:"LIGHTER"},G)))))},se=function(){return(0,r.IT)(g)},de=function(e){var n=e.data,t=e.loading,r=e.error,g=(0,p.d4)((function(e){return e.config.productName})),h=(0,m.au)(),v=(0,c.C)(),y=(0,l.M)(),w=y.onboardingRedirectTo,k=y.loading;if(t||k)return i.createElement(a.x,null);var b="group1"===v||"group2"===v?(0,f.ST)(h("ShowDownloadAppOnboarding",{}),{redirectTo:w}):(0,f.ST)(h("ShowPlansOnboarding",{}),{redirectTo:w});return r||!n?i.createElement(u.r,{to:b,replace:!0}):null!=n&&n.viewer?i.createElement(d.Ne,{source:{name:"onboarding_tags"}},i.createElement(o.mg,null,i.createElement("title",null,"Welcome to ",g)),i.createElement(ue,{viewer:n.viewer,topicCategories:n.onboardingTopicCategories,loading:t,redirectUrl:b})):i.createElement(s.W,null)}},64527:(e,n,t)=>{"use strict";t.d(n,{K:()=>w,M:()=>b});var r=t(96540),i=t(78723),o=t(19723),a=t(18565),l=t(49287),c=t(43835),u=t(51260),s=t(91830),d=t(50684),m=t(75599),p=t(39160),f=t(66973),g=t(85607),h=t(79959),v=t(40728),y=t(46879),w=new f.A("registeredFromPost");function k(e,n){var t=e(n);return t.defaultEntity||t.publication||t.user?[t.defaultEntity,t.publication,t.user].find((function(e){return"post"===(null==e?void 0:e.route.mediumAppPage)})):null}var b=function(){var e=(0,m.w)(),n=(0,p.d4)((function(e){return e.navigation.onboardingRedirectTo})),t=(0,d.pE)("redirectTo"),f=(0,u.Nw)("ShowHome",{}),b=t||f,x=(0,i.L)(),E=(0,o.iT)("enable_fyf_redirection_from_post"),S=E.value,$=E.loading,T=(0,o.iT)("enable_sprig_event_fyf_redirection").value,C=(0,g.a)("enable_fyf_redirection_from_post"),N=(0,c.m)(),O=(0,r.useMemo)((function(){var e;try{e=new URL(b)}catch(e){return b}var n=k(N,b),t=null;if(!n){var r=e.searchParams.get("redirectUrl");if(r){n=k(N,r);try{t=new URL(r)}catch(e){return b}}}if(n){var i,o,a=(0,y.quc)({params:(null===(i=n)||void 0===i?void 0:i.params)||{}})||"",c=(0,v.JO)((null===(o=t)||void 0===o?void 0:o.search)||e.search||""),u=(0,l.PJ)(c.source||"");if(C(),"respond_sidebar"!==u.susiEntry&&S)return w.set("postId",a),t?(e.searchParams.set("redirectUrl",(0,h.ST)(f,c)),e.toString()):(0,h.ST)(f,c)}return b}),[b,N]);return(0,r.useEffect)((function(){n||$||e((0,s.hB)(O))}),[O,n,e,$]),(0,r.useEffect)((function(){if(x&&T&&n){var e,t=function(e){var n=null;try{var t=new URL(e),r=t.searchParams.get("source")||"";if(!r){var i=t.searchParams.get("redirectUrl")||"";i&&(r=new URL(i).searchParams.get("source")||"")}n=(0,l.PJ)(r)}catch(e){return}return n.susiEntry&&a.C.set("susiEntry",n.susiEntry),n}(n);x.setLocalAttribute("susiEntry",null!==(e=null==t?void 0:t.susiEntry)&&void 0!==e?e:"unknown"),x.fireEvent("user.onboardingStarted")}}),[n,x,T]),{onboardingRedirectTo:n,loading:!n}}},93524:(e,n,t)=>{"use strict";t.d(n,{C:()=>i});var r=t(19723),i=function(){return(0,r.iT)("enable_onboarding_download_app_step").value}},8697:(e,n,t)=>{"use strict";t.d(n,{W:()=>s});var r=t(96540),i=t(9942),o=t(44572),a=t(49287),l=t(39160),c=t(79959),u=t(46879),s=function(e){var n=e.opt_isDraft,t=e.opt_params,s=e.operation,d=e.opt_hash,m=e.opt_location,p=(0,l.d4)((function(e){return e.config.authDomain})),f=(0,l.d4)((function(e){return e.navigation.currentLocation})),g=(0,a.jI)(),h=(0,a.Zj)(),v=(0,c.ST)((0,u.cR0)(p),{operation:s||"login",redirect:(0,o.$q)(m||f,g,h,null,null,t,d),isDraft:n?"1":"0"});return r.createElement(i.r,{to:v,temporary:!0})}},91586:(e,n,t)=>{"use strict";t.d(n,{U:()=>u});var r=t(64467),i=t(96540),o=t(39160),a=t(47517);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(){var e=(0,i.useRef)(new Set).current,n=(0,o.d4)((function(e){return e.client.hydrated})),t=(0,i.useCallback)((function(t,r,i){var o=function(e,n,t){return JSON.stringify(c({logFnName:e},"string"==typeof n?{message:n}:c(c({},n),{},{message:t})))}(t,r,i);n&&!e.has(o)&&(function(e,n,t){"string"==typeof n?a.vF[e](n):a.vF[e](n,t)}(t,r,i),e.add(o))}),[n,e]);return c(c({},a.vF),{},{debugClientOnce:(0,i.useCallback)((function(e,n){t("debug",e,n)}),[t]),infoClientOnce:(0,i.useCallback)((function(e,n){t("info",e,n)}),[t]),warnClientOnce:(0,i.useCallback)((function(e,n){t("warn",e,n)}),[t]),errorClientOnce:(0,i.useCallback)((function(e,n){t("error",e,n)}),[t])})}},43835:(e,n,t)=>{"use strict";t.d(n,{m:()=>l});var r=t(96540),i=t(91586),o=t(56742),a=t(51260);function l(){var e=(0,i.U)();return(0,r.useCallback)((function(n){var t;try{t=new URL(n)}catch(t){return e.warnClientOnce('Failed to match route for "'.concat(n,'"')),{}}var r=(0,a.Kw)().pathMatcher,i=(0,a.Kw)({routingEntityType:o.S9.COLLECTION}).pathMatcher,l=(0,a.Kw)({routingEntityType:o.S9.USER}).pathMatcher;return{defaultEntity:r.getMatch(t.pathname),publication:i.getMatch(t.pathname),user:l.getMatch(t.pathname)}}),[e.warnClientOnce])}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/OnboardingTopicsPage.MainContent.a63c74f4.chunk.js.map