performance.mark("js-parse-end:11268-4d2c51b221ed9983.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["11268"],{99947(e,t,n){n.d(t,{A:()=>r});let r={codeFileContents:"CodeLines-module__codeFileContents__TXelD",scrollBarContainer:"CodeLines-module__scrollBarContainer__fsxaw",scrollBarSpacer:"CodeLines-module__scrollBarSpacer__ArS9V",scrollContainerHidden:"CodeLines-module__scrollContainerHidden__g7TeZ",scrollContainerAuto:"CodeLines-module__scrollContainerAuto__KCNMe"}},52463(e,t,n){function r(e){let t=e.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(t){if(1===t.length){let e=s(t[0]);if(!e)return;return Object.freeze({start:e,end:e})}if(2!==t.length)return;{let e=s(t[0]),n=s(t[1]);if(!e||!n)return;return c(Object.freeze({start:e,end:n}))}}}function l(e){let{start:t,end:n}=c(e);return null!=t.column&&null!=n.column?`L${t.line}C${t.column}-L${n.line}C${n.column}`:null!=t.column?`L${t.line}C${t.column}-L${n.line}`:null!=n.column?`L${t.line}-L${n.line}C${n.column}`:t.line===n.line?`L${t.line}`:`L${t.line}-L${n.line}`}function i(e){let t;return{blobRange:r(e),anchorPrefix:(t=e.length<5e3&&e.match(/(file-.+?-)L\d+?/i))&&t[1]?t[1]:""}}function o({anchorPrefix:e,blobRange:t}){return t?`#${e}${l(t)}`:"#"}function s(e){if(!e)return null;let t=e.match(/L(\d+)/),n=e.match(/C(\d+)/);return t&&t[1]?Object.freeze({line:parseInt(t[1]),column:n&&n[1]?parseInt(n[1]):null}):null}function a(e,t){let[n,r]=u(e.start,!0,t),[l,i]=u(e.end,!1,t);if(!n||!l)return;let o=r,s=i;if(-1===o&&(o=0),-1===s&&(s=l.childNodes.length),!n.ownerDocument)throw Error("DOMRange needs to be inside document");let a=n.ownerDocument.createRange();return a.setStart(n,o),a.setEnd(l,s),a}function u(e,t,n){let r=[null,0],l=n(e.line);if(!l)return r;if(null==e.column)return[l,-1];let i=e.column-1,o=function e(t){if(t.nodeType===Node.TEXT_NODE)return[t];if(!t.childNodes||!t.childNodes.length)return[];let n=[];for(let r of t.childNodes)n=n.concat(e(r));return n}(l);for(let e=0;e<o.length;e++){let n=o[e]||null,r=i-(n?.textContent||"").length;if(0===r){let r=o[e+1];if(t&&r)return[r,0];return[n,i]}if(r<0)return[n,i];i=r}return r}function c(e){let t=[e.start,e.end];return(t.sort(d),t[0]===e.start&&t[1]===e.end)?e:Object.freeze({start:t[0],end:t[1]})}function d(e,t){return e.line===t.line&&e.column===t.column?0:e.line===t.line&&"number"==typeof e.column&&"number"==typeof t.column?e.column-t.column:e.line-t.line}n.d(t,{$c:()=>i,JB:()=>o,Kn:()=>l,Py:()=>a,eC:()=>r})},31284(e,t,n){n.d(t,{nB:()=>w,pO:()=>_});var r=n(74848),l=n(16522),i=n(35148),o=n(58388),s=n(38621),a=n(59134),u=n(26108),c=n(10095),d=n(49305),f=n(34164),m=n(96540),h=n(80844);let p="CodeownersValidationBanner-module__Flash__TSfKS";var g=n(24043);let v=["CODEOWNERS","/CODEOWNERS"],x="ERROR",b="LOADING";function w(e){let t,n,s,a,u,c,d,f=(0,l.c)(17),{filePath:p,forceRender:w,full:C,refName:L,repo:_}=e;f[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],f[0]=t):t=f[0];let[N,j]=(0,m.useState)(t),[S,R]=(0,m.useState)(b);f[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,g.G7)("codeowners_validation_in_diff"),f[1]=n):n=f[1];let $=n;f[2]!==p?(s=v.includes(p),f[2]=p,f[3]=s):s=f[3];let k=s,A=w||$&&k,O=(0,m.useRef)(!1);return(f[4]!==p||f[5]!==L||f[6]!==_||f[7]!==A?(a=()=>{!A||O.current||(async()=>{O.current=!0;try{var e,t,n;let r=await (e=_,t={name:L},n=p,(0,o.lS)((0,i.$RX)({owner:e.ownerLogin,repo:e.name,commitish:t.name,filePath:n}),{method:"GET"}));if(r.ok){let e=await r.json();j(e.map(E)),R("VALIDATED")}else R(x)}catch{R(x)}})()},u=[p,L,_,A],f[4]=p,f[5]=L,f[6]=_,f[7]=A,f[8]=a,f[9]=u):(a=f[8],u=f[9]),(0,m.useEffect)(a,u),A)?(f[10]!==C||f[11]!==N||f[12]!==S?(c=(0,r.jsx)(y,{validationErrors:N,validationState:S,full:C}),f[10]=C,f[11]=N,f[12]=S,f[13]=c):c=f[13],f[14]!==c||f[15]!==N?(d=(0,r.jsx)(h.A,{value:N,children:c}),f[14]=c,f[15]=N,f[16]=d):d=f[16],d):null}function y(e){let t,n,i,o,f,h,g,v,w,y,L,E=(0,l.c)(27),{full:_,validationErrors:N,validationState:j}=e,[S,R]=(0,m.useState)(!1),$=(0,m.useRef)(null);if(j===x){let e;return E[0]!==_?(e=(0,r.jsx)(a.A,{variant:"warning",className:p,full:_,children:"Failed to validate this CODEOWNERS file"}),E[0]=_,E[1]=e):e=E[1],e}if(j===b){let e;return E[2]!==_?(e=(0,r.jsx)(a.A,{variant:"default",className:p,full:_,children:"Validating CODEOWNERS rules..."}),E[2]=_,E[3]=e):e=E[3],e}if(0===N.length){let e;return E[4]!==_?(e=(0,r.jsx)(a.A,{variant:"success",className:p,full:_,children:"This CODEOWNERS file is valid."}),E[4]=_,E[5]=e):e=E[5],e}return E[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(c.A,{icon:s.BugIcon}),E[6]=t):t=E[6],E[7]!==S?(n=()=>R(!S),E[7]=S,E[8]=n):n=E[8],E[9]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(u.K,{"aria-label":"View CODEOWNERS errors",tooltipDirection:"s",ref:$,size:"small",icon:s.KebabHorizontalIcon,className:"CodeownersValidationBanner-module__IconButton__deECG"}),E[9]=i):i=E[9],E[10]!==n?(o=(0,r.jsxs)("div",{onClick:n,className:"CodeownersValidationBanner-module__Box__gN1J4",children:["This CODEOWNERS file contains errors",i]}),E[10]=n,E[11]=o):o=E[11],E[12]!==_||E[13]!==o?(f=(0,r.jsxs)(a.A,{variant:"warning",className:"CodeownersValidationBanner-module__Flash_1__QF8oV",full:_,children:[t,o]}),E[12]=_,E[13]=o,E[14]=f):f=E[14],E[15]===Symbol.for("react.memo_cache_sentinel")?(h=()=>R(!1),E[15]=h):h=E[15],E[16]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)(d.A.Header,{children:"CODEOWNERS errors"}),E[16]=g):g=E[16],E[17]!==N?(v=N.map(C),E[17]=N,E[18]=v):v=E[18],E[19]!==v?(w=(0,r.jsx)("div",{className:"CodeownersValidationBanner-module__Box_1__elFSw",children:v}),E[19]=v,E[20]=w):w=E[20],E[21]!==S||E[22]!==w?(y=(0,r.jsxs)(d.A,{isOpen:S,onDismiss:h,returnFocusRef:$,className:"CodeownersValidationBanner-module__Dialog__t75ku",children:[g,w]}),E[21]=S,E[22]=w,E[23]=y):y=E[23],E[24]!==y||E[25]!==f?(L=(0,r.jsxs)(r.Fragment,{children:[f,y]}),E[24]=y,E[25]=f,E[26]=L):L=E[26],L}function C(e,t){return(0,r.jsx)(L,{error:e},t)}function L(e){let t,n,i,o,s=(0,l.c)(10),{error:a}=e,u=`${a.kind} on line ${a.line}${a.suggestion?`: ${a.suggestion}`:""}`;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.$)(p,"CodeownersValidationBanner-module__ErrorCodeBlock__E0i9w"),s[0]=t):t=s[0],s[1]!==a.lineError?(n=(0,r.jsx)("b",{className:"CodeownersValidationBanner-module__Box_3__Xb9rR",children:a.lineError}),s[1]=a.lineError,s[2]=n):n=s[2],s[3]!==a.linePrefix||s[4]!==a.lineSuffix||s[5]!==n?(i=(0,r.jsx)("pre",{className:t,children:(0,r.jsxs)("code",{children:[a.linePrefix,n,a.lineSuffix]})}),s[3]=a.linePrefix,s[4]=a.lineSuffix,s[5]=n,s[6]=i):i=s[6],s[7]!==u||s[8]!==i?(o=(0,r.jsxs)("div",{className:"CodeownersValidationBanner-module__Box_2__Y4FaM",children:[u,i]}),s[7]=u,s[8]=i,s[9]=o):o=s[9],o}function E(e){var t,n,r;let l=e.source.trim(),i=e.column-1,o=(t=i,n=e.end_column,r=l,n||(r.substring(t).indexOf(" ")>0?r.indexOf(" ",t):r.length));if(i>30){let e=i-30;l="\u2026"+l.slice(e),i-=e-1,o-=e-1}return{...e,linePrefix:l.substring(0,i),lineError:l.substring(i,o),lineSuffix:l.substring(o)}}function _(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(c.A,{icon:s.DotFillIcon,"aria-label":"This line contains CODEOWNERS errors",className:"CodeownersValidationBanner-module__Octicon__Hyamu"}),t[0]=e):e=t[0],e}w.displayName="CodeownersValidationBanner",y.displayName="CodeownersValidationBannerInner",L.displayName="CodeownersErrorDetails",_.displayName="CodeownersErrorLineIndicator"},40802(e,t,n){n.d(t,{A:()=>s,m:()=>a});var r=n(74848),l=n(16522),i=n(96540);let o=i.createContext(!1);function s(e){let t,n=(0,l.c)(3),{children:i,isMarketplaceEnabled:s}=e,a=void 0!==s&&s;return n[0]!==i||n[1]!==a?(t=(0,r.jsx)(o,{value:a,children:i}),n[0]=i,n[1]=a,n[2]=t):t=n[2],t}function a(){return i.use(o)}o.displayName="MarketplaceEnabledContext",s.displayName="MarketplaceEnabledProvider"},80844(e,t,n){n.d(t,{A:()=>i,v:()=>o});var r=n(96540);let l=(0,r.createContext)([]);l.displayName="SplitCodeownersErrorsContext";let i=l;function o(){return(0,r.use)(l)}},5381(e,t,n){n.d(t,{om:()=>g,TA:()=>b,bp:()=>C,T4:()=>v,Y:()=>y,$E:()=>w});var r=n(74848),l=n(70730),i=n(5847),o=n(38621),s=n(59134),a=n(83223),u=n(21373),c=n(10095),d=n(30331);let f=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,m=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,h=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,p=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\uDB40\uDC01":"U+E0001","\uDB40\uDC7F":"U+E007F"}));function g(){let[e]=(0,i.I)(()=>l.cg,l.cg,[]);if(!e)return null;let t=new URL(e.location.href,e.location.origin),n="1"===t.searchParams.get("h");return n?t.searchParams.delete("h"):t.searchParams.set("h","1"),(0,r.jsxs)(s.A,{full:!0,variant:"warning",className:"HiddenUnicode-module__Flash__W7rYG",children:[(0,r.jsx)(c.A,{icon:o.AlertIcon}),(0,r.jsxs)("span",{children:["This file contains bidirectional or hidden Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",(0,r.jsx)(a.A,{inline:!0,href:"https://github.co/hiddenchars",target:"_blank",rel:"noreferrer",children:"Learn more about bidirectional Unicode characters"})]}),(0,r.jsx)(u.Q,{as:"a",onClick:()=>{window.location.href=t.href},size:"small",className:"HiddenUnicode-module__Button__YXJk7",children:n?"Hide revealed characters":"Show hidden characters"})]})}function v(){return(0,r.jsx)(d.A,{direction:"e",text:"This line has hidden Unicode characters",children:(0,r.jsx)(c.A,{icon:o.AlertIcon,className:"HiddenUnicode-module__Octicon__zhTmr"})})}function x({char:e}){return(0,r.jsx)("span",{className:"hidden-unicode-replacement padded",children:e})}function b(e){return y(e)?e.replaceAll(m,e=>p.get(e)??""):e}function w(e){return y(e)?e.split(h).map((e,t)=>{let n=p.get(e);return n?(0,r.jsx)(x,{char:n},t):e}):null}function y(e){return f.test(e)}function C(){return!!l.cg&&"1"===new URL(l.cg.location.href,l.cg.location.origin).searchParams.get("h")}g.displayName="HiddenUnicodeAlert",v.displayName="HiddenUnicodeTooltip",x.displayName="HiddenUnicodeCharacter"},4577(e,t,n){n.d(t,{M:()=>u,U:()=>a});var r=n(74848),l=n(38621),i=n(901),o=n(48042),s=n(43954);function a({linesData:e,onLineStickOrUnstick:t,setIsCollapsed:n,tabSize:l,extraLeftPadding:a,contentWidth:c}){let d=[...(0,o.bP)().keys()],f=(0,i.o)("react-line-numbers");return(0,r.jsx)(r.Fragment,{children:d.map(i=>{let d=(0,o.N9)(i,e);if(void 0===d||e[d]?.ownedSection===void 0)return null;let m=e[d],h=(0,o.m)(m?.rawText?.length??0,m?.rawText??"",l);return(0,r.jsxs)("div",{className:"CodeFoldingEllipsisOverlay-module__ellipsisRow__Z5MC7",style:{top:f*d,height:f},children:[c?(0,r.jsx)(s.I,{subtle:!0,lineNumber:i,highlightPosition:{offset:-82,width:c}}):null,(0,r.jsx)(u,{codeLineData:m,setIsCollapsed:n,onLineStickOrUnstick:t,leftOffset:h+(a??0)})]},`expand-row-ellipsis-${i}`)})})}function u({codeLineData:e,leftOffset:t,setIsCollapsed:n,onLineStickOrUnstick:i}){let{lineNumber:s,ownedSection:a}=e;return(0,o.$0)(s)?(0,r.jsx)("button",{"aria-label":"Expand row",className:"Button Button--iconOnly Button--invisible Button--small px-2 py-0 ml-1 border-0 expand-row-ellipsis",style:{left:t},onMouseDown:t=>{(0,o.ny)(s),n?.(!1),a&&(a.collapsed=!1,i?.(e,!0)),t.preventDefault()},children:(0,r.jsx)(l.EllipsisIcon,{})}):null}a.displayName="CodeFoldingEllipsisOverlay",u.displayName="ExpandRowEllipsis"},43954(e,t,n){n.d(t,{S:()=>w,I:()=>C});var r=n(74848),l=n(84048),i=n(76803),o=n(34164),s=n(96540),a=n(85341),u=n(39736),c=n(42696),d=n(57626),f=n(48042),m=n(71236),h=n(10598),p=n(4577),g=n(3750),v=n(77549),x=n(25322);let b=()=>{},w=s.memo(y);function y({codeLineData:e,codeLineClassName:t,id:n,onClick:i,setIsCollapsed:w,onLineStickOrUnstick:y,sharedLineObserver:L,virtualOffset:E,codeLineToSectionMap:_,stylingDirectivesLine:N,virtualKey:j,forceVisible:S,measureRef:R,virtualIndex:$,copilotAccessAllowed:k,currentLineHeight:A=20,shouldUseInert:O}){let{lineNumber:B,rawText:I}=e,T=(0,f.$0)(B),{tabSize:D}=(0,a.A)(),M=(0,g.kT)(B),H=(0,s.useRef)(null),[U,z]=(0,s.useState)(void 0);(0,s.useLayoutEffect)(()=>{M&&H.current?z((0,f.jH)(M,H.current,B,D,I??"")):z(void 0)},[M,B,D,I]);let P=_?.get(B)?.length??0,F=(0,c.B)(L,e,P),W=(0,d.ds)(),Y=(0,u.L)(e,!L,W,y??b,P),V=L?F:Y,G=(0,l.ud)().codeWrappingOption,X=(0,v.WB)(B),q=(0,v.e6)(B),K=M?.start.line===B,J=(0,s.useRef)(null),Q=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{K&&Q.current?.setAnchor(J.current)},[K]),(0,r.jsx)("div",{ref:e=>{R?.(e),V(e)},"data-key":j,"data-index":$,className:(0,o.$)(t,"react-code-text react-code-line-contents",E&&"virtual",G.enabled&&R&&"react-code-text-cell"),style:{transform:E?`translateY(${E}px)`:void 0,minHeight:G.enabled?A:"auto"},onClick:i,children:(0,r.jsxs)("div",{ref:J,children:[M&&(0,r.jsx)(C,{lineNumber:B,highlightPosition:U}),T&&!M&&(0,r.jsx)(C,{subtle:!0,lineNumber:B,highlightPosition:U}),X&&X.length>0&&(0,r.jsx)(h.U,{symbols:X,focusedSymbol:q,className:"CodeLine-module__highlightedOverlayInCodeLine__FMeq1",lineNumber:B}),(0,r.jsx)(x.FS,{id:n,lineNumber:B,stylingDirectivesLine:N,current:!!M,rawText:I,forceVisible:S,ref:H,shouldUseInert:O}),G.enabled&&(0,r.jsx)(p.M,{codeLineData:e,setIsCollapsed:w,onLineStickOrUnstick:y,leftOffset:0}),K&&k&&(0,r.jsx)(m.z8,{ref:Q,rowBeginNumber:M.start.line,rowEndNumber:M.end.line,id:"code-line-copilot-button"})]})})}function C({lineNumber:e,highlightPosition:t,subtle:n}){let l=(0,i.Y)(),o=t?.offset!==void 0,s=t?.width!==void 0,a=t?.offset??-72,u=t?.width??0;return(0,r.jsx)("div",{className:"CodeLine-module__highlighterElement__nPzf1",style:{backgroundColor:n?"var(--bgColor-neutral-muted, var(--color-neutral-subtle))":"var(--bgColor-attention-muted, var(--color-attention-subtle))",boxShadow:n?"inset 2px 0 0 var(--fgColor-muted, var(--color-fg-subtle))":"inset 2px 0 0 var(--fgColor-attention, var(--color-attention-fg))",top:l?"-3px":0,left:`${a}px`,width:s?`${o&&s?u:u+82}px`:"calc(100% + 72px)"}},`highlighted-line-${e}`)}w.displayName="CodeLine",y.displayName="CodeLineUnmemoized",C.displayName="HighlighterElement"},58242(e,t,n){n.d(t,{FL:()=>w,Ru:()=>L,_x:()=>C});var r=n(74848),l=n(84048),i=n(34164),o=n(96540),s=n(15689),a=n(24540),u=n(48042),c=n(37964),d=n(4577),f=n(43954),m=n(99947),h=n(51220),p=n(36895),g=n(901);function v(e){window.scrollTo({top:e,left:0,behavior:"instant"})}function x(e,t){return Array(t-e).fill(null).map((t,n)=>n+e)}var b=n(83008);let w=o.memo(y);function y({linesData:e,onLineNumberClick:t,codeSections:n,codeLineToSectionMap:w,onLineStickOrUnstick:y,sharedLineObserver:E,tabSize:_,contentWidth:N,onCollapseToggle:j,cursorContainerRef:S,textAreaRef:R,materializeAllLines:$,copilotAccessAllowed:k,ref:A}){let O=(0,o.useRef)(null),B=(0,o.useRef)(null),I=(0,o.useRef)(null),T=(0,a.fY)(),D=(0,o.useRef)(!0),M=(0,o.useRef)(!0),H=(0,o.useRef)(!0),{stylingDirectives:U}=(0,s.PL)();(0,o.useEffect)(()=>{if(R&&R.current){R.current.onscroll=()=>{if(B.current&&R?.current){if(!H.current){H.current=!0;return}if(R.current.scrollLeft===B.current.scrollLeft)return;D.current=!(M.current&&H.current),B.current.scrollLeft=R.current.scrollLeft}S&&S.current&&R?.current&&(S.current.scrollLeft=R.current.scrollLeft)};let e=R.current;return()=>{e&&(e.onscroll=null)}}},[R,O,T,S]);let z=(0,l.ud)().codeWrappingOption.enabled,P=(0,u.Gb)(),{virtualizer:F,currentLineHeight:W}=function({lineCount:e,materializeAllLines:t}){let n=(0,g.o)("react-line-numbers"),r=(0,o.useMemo)(()=>()=>n,[n]),l=(0,o.useMemo)(()=>{var t;return t=e,function(e){if(t<150)return x(0,t);let n=(0,p.vp)(e);if(0===n.length)return n;let r=n[0],l=Math.min(75,t-n[n.length-1]),i=x(0,Math.min(75,r)),o=x(t+1-l,t);return i.concat(n,o)}},[e]);return{virtualizer:(0,h.XW)({count:e,overscan:t?Number.MAX_SAFE_INTEGER:100,estimateSize:r,rangeExtractor:l,measureElement:e=>e.getBoundingClientRect().height,scrollToFn:v}),currentLineHeight:n}}({parentRef:O,lineCount:e.length,materializeAllLines:!!$});return(0,o.useEffect)(()=>{F.measure()},[z,F]),(0,o.useImperativeHandle)(A,()=>({scrollToTop:()=>{(0,u.si)(0)||F.scrollToIndex(0,{align:"start"})},scrollToLine:(e,t)=>{F.scrollToIndex(e,{align:"start"});let n=O.current;n&&n.scroll({left:L(n,e,t)})}})),(0,r.jsxs)("div",{ref:O,style:{pointerEvents:T?"none":"auto"},onScroll:e=>C(e,R),children:[(0,r.jsx)("div",{className:(0,i.$)("react-code-line-container",T?m.A.scrollContainerHidden:m.A.scrollContainerAuto),ref:B,tabIndex:0,onScroll:()=>{if(T&&B.current&&I.current){if(!M.current){M.current=!0;return}I.current.scrollLeft!==B.current.scrollLeft&&(H.current=!(M.current&&D.current),I.current.scrollLeft=B.current.scrollLeft)}},children:(0,r.jsxs)("div",{className:(0,i.$)("react-code-file-contents",m.A.codeFileContents),role:"presentation","aria-hidden":!0,"data-tab-size":_,"data-testid":"code-lines-container","data-paste-markdown-skip":!0,style:{tabSize:_,width:N,maxWidth:z?"100%":"unset",height:F.getTotalSize()},"data-hpc":!0,children:[(0,r.jsx)("div",{className:"react-line-numbers",style:{pointerEvents:"auto",height:F.getTotalSize(),position:"relative",zIndex:2},children:F.getVirtualItems().map(l=>{let i=e[l.index];return(0,r.jsx)(b.Kn,{codeLineData:i,onClick:t,ownedCodeSections:n,onLineStickOrUnstick:y,onCollapseToggle:j,virtualOffset:l.start,copilotAccessAllowed:k},i.lineNumber)})}),(0,r.jsx)("div",{className:"react-code-lines",style:{height:F.getTotalSize()},children:F.getVirtualItems().map(t=>{let n=e[t.index];return(0,r.jsx)(f.S,{codeLineData:n,stylingDirectivesLine:n.stylingDirectivesLine??(U?U[n.lineNumber-1]:void 0),shouldUseInert:P,codeLineClassName:n.codeLineClassName,id:`LC${n.lineNumber}`,onLineStickOrUnstick:y,sharedLineObserver:E,setIsCollapsed:j,codeLineToSectionMap:w,virtualOffset:t.start,virtualKey:String(t.key),copilotAccessAllowed:k,currentLineHeight:W,measureRef:z?F.measureElement:void 0,virtualIndex:z?t.index:void 0},n.lineNumber)})}),(0,r.jsx)(c.A,{shouldNotOverrideCopy:T,containerRef:T?R:O}),!z&&(0,r.jsx)(d.U,{linesData:e,onLineStickOrUnstick:y,setIsCollapsed:j,tabSize:_,extraLeftPadding:82})]})}),T&&N&&B.current&&B.current.clientWidth<N?(0,r.jsx)("div",{className:m.A.scrollBarContainer,onScroll:()=>{if(I.current&&R?.current){if(!D.current){D.current=!0;return}I.current.scrollLeft!==R.current.scrollLeft&&(M.current=!(H.current&&D.current),R.current.scrollLeft=I.current.scrollLeft)}},ref:I,onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onMouseUp:e=>e.preventDefault(),children:(0,r.jsx)("div",{className:m.A.scrollBarSpacer,style:{width:N}})}):null]})}function C(e,t){let n=e.target;t?.current?.scrollTo(n.scrollLeft,n.scrollTop)}function L(e,t,n){if(!n)return 0;let r=(0,u.a2)(t,n);if(!r)return 0;let l=e.getBoundingClientRect(),i=r.getBoundingClientRect();return l.left+l.width-e.scrollLeft-(i.left+i.width)>0?0:r.offsetLeft}w.displayName="CodeLines",y.displayName="CodeLinesUnmemoized"},54307(e,t,n){n.d(t,{kd:()=>j,G:()=>$,P9:()=>N,OL:()=>S});var r=n(74848),l=n(24043),i=n(84048),o=n(34164),s=n(96540),a=n(901),u=n(24540),c=n(63458),d=n(48042),f=n(37964),m=n(4577),h=n(58242),p=n(99947),g=n(66695),v=n(49722),x=n(47233),b=n(71313),w=n(39736),y=n(42696),C=n(57626);function L({linesData:e,sharedLineObserver:t,onLineStickOrUnstick:n,codeLineToSectionMap:l}){let i=(0,C.ds)(),o=(0,a.o)("react-line-numbers");return void 0===l?null:(0,r.jsx)(r.Fragment,{children:e.map(s=>{let a=s.lineNumber,u=l?.get(a)?.length??0;if(void 0===a||void 0===s.ownedSection)return null;let c=(0,d.N9)(a,e);return(0,r.jsx)(E,{className:"symbol-highlight react-code-text",lineData:e[c],sharedLineObserver:t,stickyHeaderHeight:i,onLineStickOrUnstick:n??b.l,numParents:u,style:{top:o*(c-1),height:o}},`observer-overlay-${c}-lineNumber-no-virtualization`)})})}function E({lineData:e,sharedLineObserver:t,stickyHeaderHeight:n,onLineStickOrUnstick:l,numParents:i,className:s,style:a}){let u=(0,y.B)(t,e,i),c=(0,w.L)(e,!t,n,l,i),d=t?u:c;return(0,r.jsx)("div",{ref:e=>{d(e)},className:(0,o.$)(s,"StickyLineObserverOverlay-module__stickyLineObserver__rhc2u"),style:a,"data-testid":"sticky-line-observer"})}L.displayName="StickyLineObserverOverlay",E.displayName="StickyLineObserverLine";var _=n(25322);let N=s.memo(R);N.displayName="CodeLinesNoVirtualization";let j=60,S=3500;function R({linesData:e,onLineNumberClick:t,codeSections:n,nonTruncatedLinesData:l,codeLineToSectionMap:i,onLineStickOrUnstick:b,sharedLineObserver:w,colorizedLines:y,tabSize:C,contentWidth:E,cursorContainerRef:N,onCollapseToggle:S,textAreaRef:R,copilotAccessAllowed:$,ref:k}){let A=(0,s.useRef)(null),O=(0,s.useRef)(null),B=(0,s.useRef)(null),I=(0,u.fY)(),T=(0,c.u)(),D=(0,s.useRef)(!0),M=(0,s.useRef)(!0),H=(0,s.useRef)(!0),U=(0,a.o)("react-line-numbers"),z=(0,s.useRef)(null);null==z.current&&(z.current=[...Array(Math.floor(e.length/j)+1).keys()]),(0,s.useImperativeHandle)(k,()=>({scrollToTop:()=>{(0,d.si)(0)||window.scrollTo({left:0,top:0})},scrollToLine:(e,t)=>{let n=A.current;n&&setTimeout(()=>window.scrollTo({left:(0,h.Ru)(n,e,t),top:U*e}),0)}})),(0,s.useEffect)(()=>{if(R&&R.current){R.current.onscroll=()=>{if(O.current&&R?.current){if(!H.current){H.current=!0;return}if(R.current.scrollLeft===O.current.scrollLeft)return;D.current=!(M.current&&H.current),O.current.scrollLeft=R.current.scrollLeft}N&&N.current&&R?.current&&(N.current.scrollLeft=R.current.scrollLeft)};let e=R.current;return()=>{e&&(e.onscroll=null)}}},[R,A,I,N]);let P=(0,s.useEffectEvent)(()=>{z.current=[...Array(Math.floor(e.length/j)+1).keys()],T()});return(0,s.useEffect)(()=>{P()},[e]),(0,r.jsxs)("div",{ref:A,style:{pointerEvents:I?"none":"auto"},onScroll:e=>(0,h._x)(e,R),children:[(0,r.jsx)("div",{ref:O,className:(0,o.$)(I?p.A.scrollContainerHidden:p.A.scrollContainerAuto),tabIndex:0,onScroll:()=>{if(I&&O.current&&B.current){if(!M.current){M.current=!0;return}B.current.scrollLeft!==O.current.scrollLeft&&(H.current=!(M.current&&D.current),B.current.scrollLeft=O.current.scrollLeft)}},children:(0,r.jsxs)("div",{className:(0,o.$)("react-code-file-contents",p.A.codeFileContents),role:"presentation","aria-hidden":!0,"data-tab-size":C,"data-paste-markdown-skip":!0,style:{tabSize:C,width:E,maxWidth:"unset"},"data-hpc":!0,children:[(0,r.jsx)("div",{className:"react-line-numbers-no-virtualization",style:{pointerEvents:"auto",position:"relative",zIndex:2},children:z.current.map(l=>{let o=e.slice(l*j,Math.min(l*j+j,e.length));return(0,r.jsx)("div",{className:"react-no-virtualization-wrapper-lines",children:o.map(e=>(0,r.jsx)(x.m,{codeLineData:e,onClick:t,ownedCodeSections:n,onLineStickOrUnstick:b,onCollapseToggle:S,codeLineToSectionMap:i,copilotAccessAllowed:$},`line-number-${e.lineNumber}-content:${e.rawText?.substring(0,100)}`))},`line-number-wrapper-${l}-content:${o[0]?.rawText?.substring(0,100)}`)})}),(0,r.jsxs)("div",{className:"react-code-lines",children:[(0,r.jsx)(v.R,{linesData:e}),(0,r.jsx)(g.n,{linesData:e,copilotAccessAllowed:$}),(0,r.jsx)(_.Bg,{colorizedLines:y,linesData:l}),(0,r.jsx)(L,{linesData:e,sharedLineObserver:w,onLineStickOrUnstick:b,codeLineToSectionMap:i}),(0,r.jsx)(m.U,{linesData:e,onLineStickOrUnstick:b,setIsCollapsed:S,tabSize:C,contentWidth:E})]}),(0,r.jsx)(f.A,{shouldNotOverrideCopy:I,containerRef:I?R:A})]})}),I&&E&&O.current&&O.current.clientWidth<E?(0,r.jsx)("div",{className:p.A.scrollBarContainer,onScroll:()=>{if(B.current&&R?.current){if(!D.current){D.current=!0;return}B.current.scrollLeft!==R.current.scrollLeft&&(M.current=!(H.current&&D.current),R.current.scrollLeft=B.current.scrollLeft)}},ref:B,onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onMouseUp:e=>e.preventDefault(),children:(0,r.jsx)("div",{className:p.A.scrollBarSpacer,style:{width:E}})}):null]})}function $(e){let t=(0,i.ud)().codeWrappingOption.enabled,n=(0,l.G7)("react_blob_overlay"),r=(0,d.Gb)(),o=(0,d.hO)();return n&&!t&&!(o&&!r)&&e<S}R.displayName="CodeLinesNoVirtualizationUnmemoized"},3750(e,t,n){n.d(t,{Df:()=>u,iU:()=>a,kT:()=>c});var r=n(74848),l=n(26676),i=n(55387),o=n(96540);let s=o.createContext(new l.Lj(void 0));function a({highlightedLines:e,children:t}){let n=(0,i.AI)(e);return(0,o.useEffect)(()=>{n.value=e},[n,e]),(0,r.jsx)(s,{value:n,children:t})}function u(){return(0,i.HN)(o.use(s))}function c(e){let t=o.use(s),n=(0,i.Sk)(t,t=>t&&e>=t.start.line&&e<=t.end.line?t:void 0);return(0,i.HN)(n)}s.displayName="HighlightedLineContext",a.displayName="HighlightedLinesProvider"},66695(e,t,n){n.d(t,{n:()=>f});var r=n(74848),l=n(76803),i=n(34164),o=n(96540),s=n(85341),a=n(901),u=n(48042),c=n(71236),d=n(3750);function f({linesData:e,copilotAccessAllowed:t}){let n=(0,d.Df)(),{tabSize:i}=(0,s.A)(),f=(0,a.o)("react-line-numbers"),h=(0,l.Y)(),p=(0,o.useRef)(null),g=(0,o.useRef)(null),v=n?(0,u.N9)(n.start.line,e):0,x=n?.end.line?(0,u.N9)(n.end.line,e):v,[b,w]=(0,o.useState)(h?v*f-3:v*f);if((0,o.useLayoutEffect)(()=>{n&&(g.current?.setAnchor(p.current),w(h?v*f-3:v*f))},[n,h,f,v]),!n)return null;let y=[];for(let t=v;t<=x;t++){let r=(0,u.zS)("",t+1);if(!r)continue;let l=(0,u.jH)(n,r,t+1,i,e[t+1]?.rawText??"")??{};y.push({position:l,lineNumber:t})}return(0,r.jsxs)("div",{ref:p,style:{position:"relative",top:b+10},children:[y.map(({position:e,lineNumber:t})=>(0,r.jsx)(m,{highlightPosition:e,lineNumber:t,startingLineNumber:v},`line-${t}-highlight-${e.offset}`)),t&&(0,r.jsx)(c.z8,{ref:g,rowBeginNumber:n.start.line,rowEndNumber:n.end.line,recalcPosition:b,id:"code-line-copilot-button"})]})}function m({startingLineNumber:e,lineNumber:t,highlightPosition:n,subtle:l}){let o=(0,a.o)("react-line-numbers"),s=(t-e)*o;return(0,r.jsx)("div",{className:(0,i.$)("line-highlight",l?"HighlightedLinesOverlay-module__lineHighlightSubtle__wHQDF":"HighlightedLinesOverlay-module__lineHighlightActive__RseNi","HighlightedLinesOverlay-module__lineHighlight__kvRG4"),style:{height:o,left:n&&n.offset?`${n.offset-10}px`:"-82px",top:`${s-10}px`,width:n&&n.width?`${n.width+82}px`:"calc(100% + 82px)"}},`highlighted-line-${t}`)}f.displayName="HighlightedLinesOverlay",m.displayName="LineHighlight"},49722(e,t,n){n.d(t,{R:()=>a});var r=n(74848),l=n(901),i=n(48042),o=n(10598),s=n(77549);function a({linesData:e}){let t=(0,s.VT)(),n=(0,s.Gp)(),a=(0,l.o)("react-line-numbers");return(0,r.jsx)(r.Fragment,{children:[...t.values()].map(t=>{let l=t[0]?.lineNumber;if(void 0===l)return null;let s=(0,i.N9)(l,e)+1;return(0,r.jsx)(o.U,{className:"symbol-highlight react-code-text",lineNumber:s,symbols:t,focusedSymbol:n,style:{position:"absolute",top:a*(s-1),paddingLeft:"10px",height:a,whiteSpace:"pre"}},`overlay-${s}-lineNumber-no-virtualization`)})})}a.displayName="HighlightedSymbolsOverlay"},83008(e,t,n){n.d(t,{Kn:()=>w,_Y:()=>L,cw:()=>C});var r=n(74848),l=n(52463),i=n(31284),o=n(90797),s=n(84471),a=n(84048),u=n(38621),c=n(10095),d=n(34164),f=n(96540),m=n(24540),h=n(48042),p=n(5381),g=n(71236),v=n(59285),x=n(3750);let b="LineNumber-module__codeFoldingChevron__sY2Yt",w=f.memo(y);function y({codeLineData:e,onClick:t,ownedCodeSections:n,onCollapseToggle:u,preventClick:c,onLineStickOrUnstick:b,virtualOffset:w,copilotAccessAllowed:y}){let{lineNumber:E,ownedSection:_,codeLineClassName:N,isStartLine:j,codeownersLineError:S,hiddenUnicode:R}=e,{sendRepoClickEvent:$}=(0,o.T)(),k=(0,m.Jo)(),[A,O]=(0,f.useState)(!1),B=(0,f.useCallback)(e=>{let n,r;if(e.defaultPrevented)return;let i=parseInt(e.currentTarget.getAttribute("data-line-number")||"",10),o=(0,l.$c)(`L${i}`),a=k.current;if(a&&(a.start.line!==a.end.line||a.start.column!==a.end.column))n=a.start,r=a.end;else{let e=window.getSelection()?.rangeCount?window.getSelection()?.getRangeAt(0):null;e&&(n=(0,h.um)(e.startContainer,e.startOffset),r=(0,h.um)(e.endContainer,e.endOffset))}let u=!1;n&&r&&n.line<=i&&r.line>=i&&(u=!0,o={anchorPrefix:"",blobRange:{start:n,end:r}});let{blobRange:c}=o,d=(0,l.eC)(window.location.hash);d&&e.shiftKey&&!u?($("BLOB.MULTILINE"),o.blobRange={start:d.start,end:c.end}):$("BLOB.LINE");let f=(0,l.JB)(o);(0,s.Zu)(f),t?.(e)},[t,k,$]),I=(0,x.kT)(E),T=I?.start.line===E,D=I&&I.start.line<E&&I.end.line>=E||T&&I?.start.column===null,M=(0,f.useRef)(null),H=(0,f.useRef)(null),U=(0,f.useRef)(null);(0,f.useLayoutEffect)(()=>{T&&H.current?.setAnchor(M.current)},[T]);let{codeFoldingOption:z}=(0,a.ud)(),P=z.enabled;(0,f.useEffect)(()=>{!z.enabled&&((0,h.X5)(),u?.(!1),_&&(_.collapsed=!1))},[z.enabled,_,u]);let F=e=>{y&&(O(e),setTimeout(()=>U.current?.setAnchor(e?M.current:null),0))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:M,"data-line-number":E,className:(0,d.$)(N,"react-line-number react-code-text",w&&"virtual",c&&"prevent-click",D&&"highlighted-line"),style:w?{paddingRight:"16px",transform:`translateY(${w}px)`}:{paddingRight:"16px"},onMouseDown:c?void 0:B,onMouseEnter:y?()=>F(!0):void 0,onMouseLeave:y?()=>F(!1):void 0,children:[E,S&&(0,r.jsx)(C,{children:(0,r.jsx)(i.pO,{})}),R&&(0,r.jsx)(C,{children:(0,r.jsx)(p.T4,{})}),P&&j&&_&&n&&(0,r.jsx)(C,{displayRight:!0,children:(0,r.jsx)(L,{codeLineData:e,onCollapseToggle:u,onLineStickOrUnstick:b})})]}),T&&(0,r.jsx)(v.Ay,{codeLineClassName:N,ref:H,rowBeginId:`LG${I.start.line}`,rowBeginNumber:I.start.line,rowEndNumber:I.end.line,rowEndId:`LG${I.end.line}`}),y&&A&&(0,r.jsx)("div",{children:(0,r.jsx)(g.z8,{ref:U,rowBeginNumber:E,rowEndNumber:E,id:"code-line-copilot-button"})})]})}function C({children:e,displayRight:t}){return(0,r.jsx)("span",{className:(0,d.$)("LineNumber-module__codeAlert__WexRo",t&&"LineNumber-module__codeAlertRight__hdWmf"),children:e})}function L({codeLineData:e,onCollapseToggle:t,onLineStickOrUnstick:n}){let l=(0,h.$0)(e.lineNumber),i=(0,f.useCallback)(r=>{let{lineNumber:l,ownedSection:i}=e;i&&(i.collapsed=!1),t?.(!1),(0,h.ny)(l),n?.(e,!0),r.preventDefault()},[e,t,n]),o=(0,f.useCallback)(n=>{let{lineNumber:r,ownedSection:l}=e;l&&(l.collapsed=!0),t?.(!0),(0,h.E8)(r),n.preventDefault()},[e,t]);return l?(0,r.jsx)("div",{"aria-label":"Expand code section",onMouseDown:i,role:"button",tabIndex:0,className:b,children:(0,r.jsx)(c.A,{icon:u.ChevronRightIcon})}):(0,r.jsx)("div",{"aria-label":"Collapse code section",onMouseDown:o,role:"button",tabIndex:0,className:b,children:(0,r.jsx)(c.A,{icon:u.ChevronDownIcon})})}w.displayName="LineNumber",y.displayName="LineNumberUnmemoized",C.displayName="CodeAlert",L.displayName="CodeFoldingChevron"},47233(e,t,n){n.d(t,{m:()=>x});var r=n(74848),l=n(52463),i=n(31284),o=n(90797),s=n(84471),a=n(84048),u=n(34164),c=n(96540),d=n(24540),f=n(48042),m=n(5381),h=n(71236),p=n(59285),g=n(3750),v=n(83008);let x=c.memo(b);function b({codeLineData:e,onClick:t,ownedCodeSections:n,onCollapseToggle:x,preventClick:b,onLineStickOrUnstick:w,virtualOffset:y,copilotAccessAllowed:C}){let{lineNumber:L,ownedSection:E,codeLineClassName:_,isStartLine:N,codeownersLineError:j,hiddenUnicode:S}=e,{sendRepoClickEvent:R}=(0,o.T)(),$=(0,d.Jo)(),k=(0,c.useCallback)(e=>{let n,r;if(e.defaultPrevented)return;let i=parseInt(e.currentTarget.getAttribute("data-line-number")||"",10),o=(0,l.$c)(`L${i}`),a=$.current;if(a&&(a.start.line!==a.end.line||a.start.column!==a.end.column))n=a.start,r=a.end;else{let e=window.getSelection()?.rangeCount?window.getSelection()?.getRangeAt(0):null;e&&(n=(0,f.um)(e.startContainer,e.startOffset),r=(0,f.um)(e.endContainer,e.endOffset))}let u=!1;n&&r&&n.line<=i&&r.line>=i&&(u=!0,o={anchorPrefix:"",blobRange:{start:n,end:r}});let{blobRange:c}=o,d=(0,l.eC)(window.location.hash);d&&e.shiftKey&&!u?(R("BLOB.MULTILINE"),o.blobRange={start:d.start,end:c.end}):R("BLOB.LINE");let m=(0,l.JB)(o);(0,s.Zu)(m),t?.(e)},[t,$,R]),A=(0,g.kT)(L),O=A?.start.line===L,B=A&&A.start.line<L&&A.end.line>=L||O&&A?.start.column===null,I=(0,c.useRef)(null),T=(0,c.useRef)(null),D=(0,c.useRef)(null),[M,H]=(0,c.useState)(!1);(0,c.useLayoutEffect)(()=>{O&&T.current?.setAnchor(I.current)},[O]);let{codeFoldingOption:U}=(0,a.ud)(),z=U.enabled,P=e=>{C&&(H(e),setTimeout(()=>D.current?.setAnchor(e?I.current:null),0))};return(0,c.useEffect)(()=>{!U.enabled&&((0,f.X5)(),x?.(!1),E&&(E.collapsed=!1))},[U.enabled,E,x]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:e=>{I.current=e},"data-line-number":L,className:(0,u.$)(_,"react-line-number react-code-text",y&&"virtual",b&&"prevent-click",B&&"highlighted-line"),style:y?{paddingRight:"16px",transform:`translateY(${y}px)`}:{paddingRight:"16px"},onMouseDown:b?void 0:k,onMouseEnter:C?()=>P(!0):void 0,onMouseLeave:C?()=>P(!1):void 0,children:[L,j&&(0,r.jsx)(v.cw,{children:(0,r.jsx)(i.pO,{})}),S&&(0,r.jsx)(v.cw,{children:(0,r.jsx)(m.T4,{})}),z&&N&&E&&n&&(0,r.jsx)(v.cw,{displayRight:!0,children:(0,r.jsx)(v._Y,{codeLineData:e,onCollapseToggle:x,onLineStickOrUnstick:w})})]}),O&&(0,r.jsx)(p.Ay,{codeLineClassName:_,ref:T,rowBeginId:`LG${A.start.line}`,rowBeginNumber:A.start.line,rowEndNumber:A.end.line,rowEndId:`LG${A.end.line}`}),C&&M&&(0,r.jsx)("div",{children:(0,r.jsx)(h.z8,{ref:D,rowBeginNumber:L,rowEndNumber:L,id:"code-line-copilot-button"})})]})}x.displayName="LineNumberNoVirtualziation",b.displayName="LineNumberNoVirtualizationUnmemoized"},77549(e,t,n){n.d(t,{Gp:()=>f,VT:()=>u,WB:()=>c,e6:()=>d,gt:()=>a});var r=n(74848),l=n(26676),i=n(55387),o=n(96540);let s=(0,o.createContext)({resultsByLineNumber:new l.Es,focusedResult:new l.Lj(void 0)});function a({searchResults:e,focusedSearchResult:t,children:n}){let l=(0,i.R)(),a=(0,i.AI)(void 0!==t?e[t]:void 0);(0,o.useEffect)(()=>{let t=new Map;for(let n of e){let e=n.lineNumber;t.has(e)?t.get(e).push(n):t.set(e,[n])}for(let[e,n]of(l.clear(),t))l.set(e,n)},[l,e]),(0,o.useEffect)(()=>{a.value=void 0!==t?e[t]:void 0},[e,a,t]);let u=(0,o.useMemo)(()=>({resultsByLineNumber:l,focusedResult:a}),[l,a]);return(0,r.jsx)(s,{value:u,children:n})}function u(){let{resultsByLineNumber:e}=(0,o.use)(s);return(0,i.tQ)(e)}function c(e){let{resultsByLineNumber:t}=(0,o.use)(s);return(0,i.HN)(t.get(e))}function d(e){let{focusedResult:t}=(0,o.use)(s),n=(0,i.Sk)(t,t=>t?.lineNumber===e?t:void 0);return(0,i.HN)(n)}function f(){let{focusedResult:e}=(0,o.use)(s);return(0,i.HN)(e)}s.displayName="SearchResultsContext",a.displayName="SearchResultsProvider"},25322(e,t,n){n.d(t,{Bg:()=>g,FS:()=>h});var r=n(74848),l=n(16968),i=n(29207),o=n(99589),s=n(70274),a=n(96540),u=n(85341),c=n(24540),d=n(48042),f=n(5381),m=n(54307);let h=a.memo(p);function p({id:e,stylingDirectivesLine:t,rawText:n,lineNumber:l,current:o,forceVisible:a,shouldUseInert:m,ref:h}){let p,g,v,x=(p=(0,c.fY)(),g=(0,d.hO)(),v=(0,d.Gb)(),!p||v?"plain":g&&!v?"separated-characters-chunked":"data-attribute"),{tabSize:b}=(0,u.A)(),w=(0,f.bp)(),y=(0,s.W)(void 0,t,n,a?"plain":x,b,w);return(0,r.jsx)(i.$6,{id:e,className:"react-file-line html-div","data-testid":"code-cell","data-line-number":l,html:y,ref:h,style:{position:"relative"},"aria-current":o?"location":void 0,inert:m})}h.displayName="SyntaxHighlightedLine",p.displayName="SyntaxHighlightedLineWithRef";let g=a.memo(v);function v({linesData:e,colorizedLines:t}){let n=function(e,t,n){let{isServer:r}=(0,o.V)();return(0,a.useMemo)(()=>t?t.map((i,o)=>{if(o>=e.length)return null;let s="",a="";o%m.kd!=0||r||(s=r?"<div>":'<div class="react-no-virtualization-wrapper">'),(o+1)%m.kd!=0&&o!==t.length||r||(a="</div>");let u=0!==i.length?i:"\n",c=n?(0,l.Gx)(u)??u:u;return`${s}<div id="LC${o+1}" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ${e[o]?.codeLineClassName}">${c}</div>${a}`}).join("\n"):"<div></div>",[e,t,r,n])}(e,t??null,(0,f.bp)()),s=(0,d.Gb)();return(0,r.jsx)(i.$6,{inert:s,html:n})}g.displayName="SyntaxHighlightedOverlay",v.displayName="SyntaxHighlightedOverlayUnmemoed"},71236(e,t,n){n.d(t,{eT:()=>b,z8:()=>w});var r=n(74848),l=n(259),i=n(99153),o=n(29827),s=n(27140),a=n(8836),u=n(24043),c=n(64855),d=n(78459),f=n(96540),m=n(40961),h=n(85341),p=n(74602),g=n(3750);let v="copilot-button-positioner",x="copilot-button-container";function b({children:e}){return(0,r.jsxs)("div",{id:v,className:"position-relative",children:[e,(0,r.jsx)("div",{id:x})]})}b.displayName="CopilotButtonContainer";let w=f.memo(function({rowBeginNumber:e,rowEndNumber:t,id:n,recalcPosition:b,ref:w}){let[y,C]=(0,f.useState)(null);(0,f.useImperativeHandle)(w,()=>({setAnchor:C}));let[L,E]=(0,f.useState)(void 0);(0,f.useLayoutEffect)(()=>{let e=()=>requestAnimationFrame(()=>E(function(e,t={x:0,y:0}){let n=document.getElementById(v);if(!e||!n)return{display:"none"};let{top:r,height:l}=e.getBoundingClientRect(),{top:i}=n.getBoundingClientRect(),o=(p.u9-l)/2;return{top:`${r-i-o+t.y+1}px`,right:"37px"}}(y)));return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[y,b]);let _=(0,i.l)(),{copilotAccessAllowed:N}=(0,l.w)(),j=(0,o.z)(),S=(0,g.Df)(),R=(0,a.t)(),{language:$,languageID:k,copilotSWEAgentEnabled:A}=(0,h.A)(),O=(0,f.useMemo)(()=>({type:"snippet",languageID:k,languageName:$,path:_,range:{start:e,end:t},ref:(0,d.D7)(j.name,j.refType),commitOID:j.currentOid,repoID:R.id,repoName:R.name,repoOwner:R.ownerLogin,url:window.location.href}),[k,$,_,e,t,j,R]),B=(0,u.G7)("copilot_agent_tasks_btn_code_view_lines")&&A,I=(0,c.u)("copilot_mission_control_decoupled_mode"),T=void 0===L?null:(0,r.jsx)("div",{style:{alignSelf:"center",position:"absolute",lineHeight:"16px",height:"24px",width:"24px",zIndex:2,...L},children:(0,r.jsx)(s.Ay,{copilotAccessAllowed:N,messageReference:O,id:n,showAgentTaskButton:B,currentRepo:R,currentReference:{path:_,range:S?{start:S.start.line,end:S.end.line}:void 0},decoupledModeEnabled:I})}),D=document.getElementById(x);return D?(0,m.createPortal)(T,D):null});w.displayName="CopilotButton"},59285(e,t,n){n.d(t,{AG:()=>R,Ay:()=>k,Dp:()=>S});var r=n(74848),l=n(73702),i=n(259),o=n(44162),s=n(40802),a=n(99153),u=n(29827),c=n(47032),d=n(38489),f=n(18087),m=n(8836),h=n(96099),p=n(70730),g=n(58071),v=n(38621),x=n(67323),b=n(26108),w=n(18990),y=n(34164),C=n(96540),L=n(40961),E=n(91750),_=n(74602),N=n(48042);let j="highlighted-line-menu-container",S="highlighted-line-menu-first-option";function R({children:e}){return(0,r.jsxs)("div",{id:_.uU,className:"position-relative",children:[e,(0,r.jsx)("div",{id:j})]})}R.displayName="HighlightedLineMenuContainer";let $=C.memo(function({codeLineClassName:e,offset:t,lineData:n,onLineStickOrUnstick:R,onMenuClose:$,onCollapseToggle:k,openOnLoad:A=!1,cursorRef:O,rowBeginId:B,rowBeginNumber:I,rowEndId:T,rowEndNumber:D,ref:M}){let[H,U]=(0,C.useState)(null);(0,C.useImperativeHandle)(M,()=>({setAnchor:U}));let z=C.useRef(null),{githubDevUrl:P}=(0,o.s)(),F=(0,a.l)(),W=(0,s.m)(),{modelsAccessAllowed:Y}=(0,i.w)(),V=(0,u.z)(),G=(0,m.t)(),[X,q]=(0,C.useState)(A?"hidden":"visible"),[K,J]=(0,C.useState)(void 0);(0,C.useLayoutEffect)(()=>{let e=()=>{q("hidden"),requestAnimationFrame(()=>{J((0,_.sZ)(H,t)),q("visible")})};return e(),p.cg?.addEventListener("resize",e),()=>{p.cg?.removeEventListener("resize",e)}},[H,t]);let[Q,Z]=C.useState(!1),ee=(0,C.useEffectEvent)(()=>{if(A){O&&U(O.current);let e=window.setTimeout(()=>{Z(!0)},50);return()=>{window.clearTimeout(e)}}});(0,C.useLayoutEffect)(()=>ee(),[]);let{newDiscussionPath:et,newIssuePath:en}=(0,E.Y_)(),{refSelectorShortcut:er}=(0,c.wk)(),{createPermalink:el,getUrl:ei}=(0,d.Z)(),{setShouldBeOpen:eo,expandOrCollapseSection:es,openUpRefSelector:ea}=(0,_.S9)({lineData:n,onLineStickOrUnstick:R,onMenuClose:$,onCollapseToggle:k,setOpen:Z}),[eu]=(0,g.ok)(),ec=el({absolute:!0,params:"1"===eu.get("plain")?"plain=1":void 0}),ed=encodeURIComponent(ec),ef=`L${I}${B!==T?`-L${D}`:""}`,em=void 0===K?null:(0,r.jsxs)(x.W,{open:Q,onOpenChange:eo,children:[(0,r.jsx)(x.W.Anchor,{children:(0,r.jsx)(b.K,{className:(0,y.$)(e,"HighlightedLineMenu-module__highlightedLineMenuButton__hVBhI"),size:"small",icon:v.KebabHorizontalIcon,"aria-label":`Line ${I} options`,"data-testid":"highlighted-line-menu-button",style:{visibility:X,...K}})}),(0,r.jsx)(x.W.Overlay,{width:"small",children:(0,r.jsxs)(w.l,{"data-testid":"highlighted-line-menu",children:[I===D&&(0,r.jsx)(w.l.Item,{onClick:()=>{(0,N.kY)(`Copied line ${I}.`);let e=(0,_.zM)(p.XC?.getElementById(`LC${I}`)??null);e&&(0,f.D)(e),eo(!1)},onSelect:()=>{(0,N.kY)(`Copied line ${I}.`);let e=(0,_.zM)(p.XC?.getElementById(`LC${I}`)??null);e&&(0,f.D)(e),eo(!1)},ref:z,className:S,children:"Copy line"}),I!==D&&(0,r.jsx)(w.l.Item,{onClick:()=>{(0,N.kY)(`Copied lines ${I}-${D}.`);let e="";for(let t=I;t<=D;t++)e+=`${(0,_.zM)(p.XC?.getElementById(`LC${t}`)??null)}${t!==D?"\n":""}`;e&&(0,f.D)(e),eo(!1)},onSelect:()=>{(0,N.kY)(`Copied lines ${I}-${D}.`);let e="";for(let t=I;t<=D;t++)e+=`${(0,_.zM)(p.XC?.getElementById(`LC${t}`)??null)}${t!==D?"\n":""}`;e&&(0,f.D)(e),eo(!1)},className:S,children:"Copy lines"}),ec&&(0,r.jsx)(w.l.Item,{onClick:()=>{(0,N.kY)("Copied permalink."),(0,f.D)(ec),eo(!1)},onSelect:()=>{(0,N.kY)("Copied permalink."),(0,f.D)(ec),eo(!1)},children:"Copy permalink"}),(0,r.jsx)(w.l.LinkItem,{href:ei({action:"blame",hash:ef}),children:"View git blame"}),en&&ec&&(0,r.jsx)(w.l.LinkItem,{href:`${en}?permalink=${ed}`,children:"Reference in new issue"}),et&&ec&&(0,r.jsx)(w.l.LinkItem,{href:`${et}?permalink=${ed}`,children:"Reference in new discussion"}),P&&(0,r.jsx)(w.l.LinkItem,{href:P+p.cg?.location.pathname.substring(1),children:"View file in GitHub.dev"}),I===D&&n&&(0,r.jsxs)(w.l.Item,{onClick:es,onSelect:es,children:[n.ownedSection&&n.ownedSection.collapsed?"Expand":"Collapse"," current section"]}),(0,r.jsxs)(w.l.Item,{onClick:ea,onSelect:ea,children:["View file in different branch/tag",(0,r.jsx)(w.l.TrailingVisual,{children:(0,r.jsx)(l.E,{children:er.text})})]}),W&&Y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.W.Divider,{}),(0,r.jsxs)(w.l.LinkItem,{href:(0,h.D)({registry:"azure-openai",name:"gpt-4o",commit:V.currentOid,filePath:F,repoOwner:G.ownerLogin,repoName:G.name,beginLine:I,endLine:D}),target:"_blank",children:[(0,r.jsx)("p",{className:"mb-1",children:"Open as prompt in GitHub Models"}),(0,r.jsx)("span",{className:"HighlightedLineMenu-module__aiDisclaimer__V9Fv5",children:"This tool uses AI to process your code"})]})]})]})})]}),eh=p.XC?.getElementById(j);return eh?(0,L.createPortal)(em,eh):null});$.displayName="HighlightedLineMenu";let k=$},10598(e,t,n){n.d(t,{p:()=>a,U:()=>s});var r=n(74848),l=n(84048),i=n(34164);let o="HighlightedOverlay-module__hiddenText__yijzZ";function s({symbols:e,focusedSymbol:t,lineNumber:n,style:s,isNotUsingWhitespace:u,className:c}){let d=0,f=e.length>0?e[0].bodyText:"",m=`overlay-${n}-${s?"blob":"panel"}-${f}`,h=(0,l.ud)().codeWrappingOption,p=e.length>0&&!u?e[0].leadingWhitespace??0:0;return(0,r.jsxs)("span",{className:(0,i.$)("HighlightedOverlay-module__overlayWrapper__X2ab9",h.enabled?"HighlightedOverlay-module__overlayWrapperWrap__UNKrl":"HighlightedOverlay-module__overlayWrapperNoWrap__utsVG",c),style:s,children:[e.map(e=>{let n=e===t,l=(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:o,children:f.substring(d,e.ident.start.column+p)}),(0,r.jsx)("span",{className:(0,i.$)("HighlightedOverlay-module__highlightBackground__POs8P",n?"HighlightedOverlay-module__focusedHighlight__ffA7o":"HighlightedOverlay-module__unfocusedHighlight__ti2EU"),children:(0,r.jsx)("span",{className:n?void 0:o,id:a(e.lineNumber,e.ident.start.column+p),children:f.substring(e.ident.start.column+p,e.ident.end.column+p)})})]},`symbol-${e.ident.start.line}-${e.ident.start.column+p}`);return d=e.ident.end.column+p,l}),(0,r.jsx)("span",{className:o,children:f.substring(d)})]},m)}function a(e,t){return`match-${e}-${t}`}s.displayName="HighlightedOverlay"},15689(e,t,n){n.d(t,{$Q:()=>v,PL:()=>h,TX:()=>x,Zj:()=>m});var r=n(74848),l=n(8836),i=n(24043),o=n(35148),s=n(97286),a=n(58388),u=n(96540),c=n(54307);let d={stylingDirectives:null},f=u.createContext(d);function m({children:e,...t}){return(0,r.jsx)(f,{value:t,children:e})}function h(){return u.use(f)}function p(e){return Array.isArray(e.stylingDirectives)}async function g(e){if(!e)return d;let t=await (0,a.lS)(e);if(t.ok){let e=await t.json();if(e&&p(e))return e}return d}function v(e,t,n,r){let a=(0,i.G7)("react_blob_overlay"),u=(0,l.t)(),f=e&&t&&!n?(0,o.rzN)({repo:u,commitish:e.name,path:t}):null,m=!!f&&r<=c.OL&&a,{data:h}=(0,s.I)({queryKey:["deferredAST",u.ownerLogin,u.name,e?.name,t,f],queryFn:()=>g(f),enabled:m,placeholderData:d});return m?h??d:d}function x(e,t,n,r,l){let[s,f]=(0,u.useState)(d),m=(0,i.G7)("react_blob_overlay"),h=t&&!r?(0,o.rzN)({repo:e,commitish:t.name,path:n}):null;return(0,u.useEffect)(()=>{if(!h)return;if(l>c.OL||!m)return void f(d);let e=!1;return(async()=>{f(d);let t=await (0,a.lS)(h);if(!e)try{if(t.ok){let e=await t.json();e&&p(e)&&f(e)}else f(d)}catch{f(d)}})(),function(){e=!0}},[h,l,m]),s}f.displayName="DeferredASTContext",m.displayName="DeferredASTProvider"},91750(e,t,n){n.d(t,{U6:()=>d,Y_:()=>c,mA:()=>s,mD:()=>u});var r=n(74848),l=n(35148),i=n(58388),o=n(96540);let s={showLicenseMeta:!1,license:null,codeownerInfo:{codeownerPath:null,ownedByCurrentUser:null,ownersForFile:null,ruleForPathLine:null},newDiscussionPath:null,newIssuePath:null},a=o.createContext(s);function u({children:e,...t}){return(0,r.jsx)(a,{value:t,children:e})}function c(){return o.use(a)}function d(e,t,n,r){let[a,u]=(0,o.useState)(s),c=t&&!r?(0,l.ALm)({repo:e,commitish:t.name,path:n}):null;return(0,o.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{u(s);let t=await (0,i.lS)(c);if(!e)try{if(t.ok){let e=await t.json();e&&"boolean"==typeof e.showLicenseMeta&&"object"==typeof e.codeownerInfo&&u(e)}else u(s)}catch{u(s)}})(),function(){e=!0}},[c]),a}a.displayName="DeferredMetadataContext",u.displayName="DeferredMetadataProvider"},13987(e,t,n){n.d(t,{O:()=>s,k:()=>o});var r=n(74848),l=n(96540);let i=l.createContext(void 0);function o({blame:e,children:t}){return(0,r.jsxs)(i,{value:e,children:[" ",t," "]})}function s(){return l.use(i)}i.displayName="CurrentBlameContext",o.displayName="CurrentBlameProvider"},85341(e,t,n){n.d(t,{A:()=>s,s:()=>o});var r=n(74848),l=n(96540);let i=l.createContext({});function o({blob:e,children:t}){return(0,r.jsxs)(i,{value:e,children:[" ",t," "]})}function s(){return l.use(i)}i.displayName="CurrentBlobContext",o.displayName="CurrentBlobProvider"},17865(e,t,n){n.d(t,{EN:()=>a,Px:()=>c,YP:()=>u,pm:()=>d});var r=n(74848),l=n(96540),i=n(13987),o=n(85341);let s=l.createContext(null);function a({children:e}){let t=(0,o.A)(),n=(0,i.O)(),a=l.useMemo(()=>n?null:new Map,[t,n]);return(0,r.jsxs)(s,{value:a,children:[" ",e," "]})}function u(){return l.use(s)}function c(){let e=l.use(s);return(0,l.useCallback)(t=>e?.get(t),[e])}function d(){let e=l.use(s);return(0,l.useCallback)((t,n)=>{e&&(e.has(t)?e.get(t)?.push(n):e.set(t,[n]))},[e])}s.displayName="CurrentLineRefMapContext",a.displayName="CurrentLineRefMapProvider"},39736(e,t,n){n.d(t,{L:()=>o});var r=n(70730),l=n(96540),i=n(17865);function o(e,t,n,o,s){let a=(0,l.useRef)(null),u=(0,i.pm)(),c=void 0===r.XC,d=(0,i.Px)(),f=(0,l.useMemo)(()=>{let{isEndLine:r,isStartLine:l,lineNumber:i}=e,a=0,u=1,f=r&&!c?new IntersectionObserver(e=>{for(let{target:t,isIntersecting:n,intersectionRatio:r}of e)if(t){let{currentY:e,currentRatio:l}=function(e,t,n,r,l,i,o,s){let a=n.getBoundingClientRect(),u=a.y,c=l?i(l):void 0,d=window.innerHeight-a.bottom>0,f=a.bottom>0,m=a.top<150,h=d&&f,p=window.innerHeight-a.bottom>150&&window.innerHeight>300;for(let n of c||[])n&&h&&(u<e&&h?r>t&&o||s(n,!0):u>e&&o&&(r<t||p&&m&&s(n,!1)));return{currentY:u,currentRatio:r}}(a,u,t,r,i,d,n,o);a=e,u=l}},{root:null,rootMargin:`-${n}px 0px 0px 0px`,threshold:0}):void 0,m=l&&!c?new IntersectionObserver(t=>{for(let{target:n,isIntersecting:r,intersectionRatio:l}of t)if(n){let{currentY:t,currentRatio:i}=function(e,t,n,r,l,i,o){let s=r.getBoundingClientRect(),a=s.y,u=window.innerHeight-s.bottom>0,c=s.bottom>0,d=s.top<150&&s.top>-300,f=0===s.bottom&&0===s.top&&0===s.height&&0===s.width&&0===s.x&&0===s.y;return!e.ownedSection||e.ownedSection?.collapsed||(a<=t&&(u&&c||d)&&!f?l>n&&i||d&&o(e,!1):a>t&&i&&(l<n||o(e,!0))),{currentY:a,currentRatio:l}}(e,a,u,n,l,r,o);a=t,u=i}},{root:null,rootMargin:`-${n+(s?20*s:0)}px 0px 0px 0px`,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}):void 0,h=t?l?m:r?f:void 0:void 0;return h&&(h.hasBeenDisconnected=!1,h.hasBeenObserved=!1),h},[e,t,n,d,o,s,c]),m=(0,l.useCallback)(e=>{a.current=e},[]),h=(0,l.useEffectEvent)(()=>{let{isStartLine:t,lineNumber:n,ownedSection:r}=e;return t&&a&&r&&f&&!f.hasBeenObserved&&!f.hasBeenDisconnected&&u(r.endLine,{lineNumber:n}),f&&a.current&&!f.hasBeenObserved&&(f.observe(a.current),f.hasBeenObserved=!0),()=>{f&&(f.disconnect(),f.hasBeenDisconnected=!0)}});return(0,l.useEffect)(()=>{h()},[f,e]),m}},14775(e,t,n){n.d(t,{y:()=>a});var r=n(90797),l=n(18087),i=n(96540),o=n(11996),s=n(85341);function a(){let{sendRepoClickEvent:e}=(0,r.T)(),{rawBlobUrl:t}=(0,s.A)(),n=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{n.current=navigator.userAgent.toLowerCase().indexOf("firefox")>-1},[]),(0,i.useCallback)(async()=>{e("BLOB_RAW_DROPDOWN.COPY");try{let e=(0,o.Ix)(t);if((0,o.j5)()&&navigator&&navigator.clipboard&&"write"in navigator.clipboard&&!n.current)await navigator.clipboard.write([new ClipboardItem({"text/plain":e})]);else{let t=await e;if(!t)return o.T9.Error;await (0,l.D)(await t.text())}}catch{return o.T9.Error}return o.T9.Success},[n,e,t])}},901(e,t,n){n.d(t,{o:()=>s});var r=n(70170),l=n(58071),i=n(84048),o=n(96540);function s(e,t=20){let[n,a]=(0,o.useState)(t),u=(0,o.useRef)(t),c=(0,i.ud)().codeWrappingOption,d=(0,l.zy)();return(0,o.useLayoutEffect)(()=>{let n=document.getElementById("file-name-id-wide");if(!n)return;let l=new ResizeObserver((0,r.s)(()=>{let n=document.getElementsByClassName(e)[0]?.firstChild?.getBoundingClientRect().height??t;n>100&&(n=document.getElementsByClassName(e)[0]?.firstChild?.firstChild?.getBoundingClientRect().height),0===n||n===u.current||c.enabled||(a(n),u.current=n)}));return l.observe(n),()=>l.disconnect()},[d.key,c.enabled,e,t]),n}},24540(e,t,n){n.d(t,{DC:()=>R,Jo:()=>$,M1:()=>O,M_:()=>x,Ov:()=>k,QM:()=>v,aM:()=>j,cH:()=>b,di:()=>w,fY:()=>A,ue:()=>S});var r=n(52463),l=n(26676),i=n(55387),o=n(58071),s=n(99589),a=n(65509),u=n(84048),c=n(12627),d=n(96540),f=n(15689),m=n(48042),h=n(13987),p=n(901),g=n(40907);let v=7.2293,x=92,b=92,w=70;function y(e,t){let n=0,r=0,l=0,i=0,o=0,s=0,a=t.length-1;for(;s<=a;){let u=Math.floor((s+a)/2);if(l=t[u]+1,i=u>0?t[u-1]+1:0,o=u<t.length-1?t[u+1]+1:1/0,e>=i&&e<l){n=u,r=e-i;break}if(e<i)a=u-1;else if(e>=l&&e<o){n=u+1,r=e-l;break}else e>=o&&(s=u+1)}return{line:n,offset:r}}let C=new l.Lj(1),L=new l.Lj(0),E=new l.Lj(1),_=new l.Lj(0),N=new l.Lj(!1);function j(){return(0,i.HN)(C)}function S(){return(0,i.HN)(E)}function R(){return(0,i.HN)(N)}function $(){let e=(0,d.useRef)(null);function t(){e.current={start:{line:C.value,column:L.value+1},end:{line:E.value,column:_.value+1}}}return(0,i.Rs)(C,t),(0,i.Rs)(L,t),(0,i.Rs)(E,t),(0,i.Rs)(_,t),e}function k(e){N.value=e}function A(e){let t=(0,u.ud)().codeWrappingOption.enabled,n=!!(0,h.O)(),{isServer:r}=(0,s.V)();return!t&&!n&&!e&&!r}function O(e,t,n,l,i,s,u,h,j,S,R,$){let k=(0,d.useRef)(0),A=(0,d.useRef)(0),O=(0,d.useRef)(0),B=(0,d.useRef)(0),I=(0,d.useRef)(0),T=(0,d.useRef)(0),D=(0,d.useRef)(null),M=(0,d.useRef)(0),H=(0,d.useRef)(0),U=(0,d.useRef)(15),z=(0,d.useRef)(0),P=u?b:x,F=(0,c.X)(["windows"])?6.6:v,W=(0,p.o)("react-line-numbers"),{stylingDirectives:Y}=(0,f.PL)(),V=(0,d.useMemo)(()=>{let e=[];for(let t=0;t<i.length;t++)0===t?e.push(i[t].rawText?.length??0):e.push((i[t].rawText?.length??0)+e[t-1]+1);return e},[i]);function G(e,t){n(e),T.current=t}function X(e,t){l(e),I.current=t}function q(){O.current=k.current,B.current=A.current}function K(e){return i[e]?i[e].lineNumber:e}function J(){D.current||(s?D.current=e.current?.parentElement?.parentElement:D.current=e.current?.parentElement)}function Q(){return k.current===I.current&&A.current===T.current&&(k.current!==O.current||A.current!==B.current)?"start":O.current===I.current&&B.current===T.current&&(k.current!==O.current||A.current!==B.current)?"end":"same"}function Z(){if(j&&j.current){let e=j.current,t=k.current-1,n=O.current-1,r=(-1!==t?V[t]+1:0)+A.current,l=(-1!==n?V[n]+1:0)+B.current;e.selectionStart=r,e.selectionEnd=l,H.current=r,z.current=l}}function ee(e,t){let n=t;if(e>i.length||!i[e])return n;let r=i[e].rawText;return r&&(t>r.length?(n=r.length,G((0,m.m)(n,r,S),n)):n<M.current&&M.current<r.length?(n=M.current,G((0,m.m)(n,r,S),n)):n<M.current&&M.current>=r.length&&(n=r.length,G((0,m.m)(n,r,S),n))),n}function et(){let e=i[I.current];if(!e)return;let{rawText:n}=e,r=Y?Y[e.lineNumber-1]:e.stylingDirectivesLine;if(!n||!r)return;let l=(0,a.M)(r),o=null;for(let e of l)if(!(e.s>T.current)&&!(e.e<T.current)&&e.c&&(o=e,!(0,m.Bm)(n.substring(e.s,e.e),e.c)))return;o&&t?.({selectedText:n.substring(o.s,o.e),lineNumber:K(I.current),offset:o.s})}function en(e,t,n,r,l){k.current=e,A.current=n,O.current=t,B.current=r,I.current=l?e:t,T.current=l?n:r,C.value=K(e),L.value=n,E.value=K(t),_.value=r}function er(){let e=Q(),t=A.current,n=k.current;"end"===e&&(t=B.current,n=O.current);let r=Math.min(K(n+5),i.length),l=Math.max(K(n-5),1),o=window.innerHeight,s=(0,m.ap)(r),a=s?.getBoundingClientRect();if(!(a&&a.top>=0&&a.left>=0&&a.bottom<=o)){let e=window.innerWidth;null===s?window.scrollTo(0,n*W):a.y<0||a.y>o?(s.scrollIntoView({block:"center"}),window.scrollBy(-300,0)):window.scrollBy(0,100),e<t*F+P&&window.scrollTo(0,0)}let u=(0,m.ap)(l),c=u?.getBoundingClientRect();c&&c.top>=0&&c.left>=0&&c.bottom<=o?n<=7&&window.scrollTo(0,0):null===u?window.scrollTo(0,n*W):c.y<0||c.y>o?(u.scrollIntoView({block:"center"}),window.scrollBy(-300,0)):window.scrollBy(0,-200)}function el(e){D.current&&(er(),function(e){let t=Q(),n=A.current;if("end"===t&&(n=B.current),D.current&&D.current.scrollBy){let t=D.current.scrollLeft,r=D.current.clientWidth,l=n*F+P;l+50>=t+r?D.current.scrollBy(l-t-r+e,0):l<=t&&D.current.scrollBy(l-t-r,0)}}(e)),Z()}function ei(){J();let e=k.current,t=A.current;e+U.current>i.length?e=i.length-1:e+=U.current,t=ee(e,t),k.current=e,A.current=t,q(),X(e*W,e),el(w)}function eo(){J();let e=k.current,t=A.current;e<U.current?e=0:e-=U.current,t=ee(e,t),k.current=e,A.current=t,q(),X(e*W,e),el(w)}let es=(0,d.useCallback)(e=>{let t=C.value!==E.value,n={start:{line:C.value,column:t?L.value+1:null},end:{line:E.value,column:t?_.value+1:null}},l={anchorPrefix:"L",blobRange:{start:n.start,end:n.end}},i=(0,r.JB)(l);window.location.hash=i,h?.(e)},[h]),{hash:ea}=(0,o.zy)();(0,d.useEffect)(()=>{U.current=Math.min(Math.max(Math.round((window.innerHeight-200>300?window.innerHeight-200:300)/W),1),100)},[W]);let eu=(0,d.useEffectEvent)(()=>{R&&""!==R&&(R.includes("PageUp")?eo():R.includes("PageDown")&&ei())});(0,d.useEffect)(()=>{eu()},[R]);let ec=(0,d.useEffectEvent)(()=>{if(!$||$.start<0&&$.end<0||H.current===$.start&&z.current===$.end)return;let e=y($.start,V),t=y($.end,V);(H.current!==$.start||z.current===$.end)&&($.keyboard||$.displayStart)?(G((0,m.m)(e.offset,i[e.line]?.rawText??"",S),e.offset),M.current=e.offset,X(e.line*W,e.line),en(e.line,t.line,e.offset,t.offset,!0)):(G((0,m.m)(t.offset,i[t.line]?.rawText??"",S),t.offset),M.current=t.offset,X(t.line*W,t.line),en(e.line,t.line,e.offset,t.offset,!1)),z.current=$.end,H.current=$.start,$.end!==$.start||$.keyboard||(N.value=!1,et()),I.current<=5&&$.keyboard&&er()});(0,d.useEffect)(()=>{ec()},[i,S,$]);let ed=(0,d.useEffectEvent)(()=>{let e=(0,r.$c)(ea);if(!e.blobRange?.start?.line||e.blobRange.start.line>i.length)return;let t=e.blobRange.start.line-1;k.current=t,C.value=t,L.value=0,E.value=t,_.value=0,A.current=0,O.current=t,B.current=0,M.current=0,G(A.current,A.current),X(k.current*W,k.current),el(w)});return(0,d.useEffect)(()=>{ed()},[ea,i]),{onEnter:function(){N.value=!0,(0,g.FO)(),et()},updateUrlForLineNumber:es,onPageDown:ei,onPageUp:eo,currentStartLine:k,currentStartChar:A,currentEndLine:O,currentEndChar:B,determineAndSetTextAreaCursorPosition:Z,getCorrectLineNumberWithCollapsedSections:K}}},40907(e,t,n){n.d(t,{DE:()=>s,FO:()=>o,Gp:()=>i});var r=n(96540);let l="react_blob_view_focus_symbol_pane";function i(e){let t=(0,r.useEffectEvent)(e);(0,r.useEffect)(()=>{let e=e=>{t(e.detail?.focusSymbolSearch||!1)};return window.addEventListener(l,e),()=>{window.removeEventListener(l,e)}},[])}function o(){window.dispatchEvent(new CustomEvent(l,{detail:{focusSymbolSearch:!1}}))}function s(){window.dispatchEvent(new CustomEvent(l,{detail:{focusSymbolSearch:!0}}))}},74602(e,t,n){n.d(t,{S9:()=>a,sZ:()=>u,u9:()=>s,uU:()=>o,zM:()=>function e(t){let n=t?.textContent??"";if(""!==n)return n;if(t){let r=t.childNodes;for(let t=0;t<r.length;t++){let l=r[t];if(l){let t=l.getAttribute("data-code-text");null===t&&(t=e(l)),n+=t}}}return n}});var r=n(20267),l=n(96540),i=n(48042);let o="highlighted-line-menu-positioner",s=25;function a({lineData:e,onLineStickOrUnstick:t,onMenuClose:n,onCollapseToggle:o,setOpen:s}){function a(e,t=!1){s(e),n&&!e&&n(e,t)}let u=(0,l.useCallback)(()=>{if(!e)return;let{lineNumber:n,ownedSection:r}=e;r&&(r.collapsed=!1),o?.(),(0,i.ny)(n),t?.(e,!0)},[e,o,t]),c=(0,l.useCallback)(()=>{if(!e)return;let{lineNumber:t,ownedSection:n}=e;n&&(n.collapsed=!0),o?.(),(0,i.E8)(t)},[e,o]);return{setShouldBeOpen:a,expandOrCollapseSection:function(){if(!e)return;let{ownedSection:t}=e;t&&(t.collapsed?(u(),(0,i.kY)("Code section expanded")):(c(),(0,i.kY)("Code section collapsed"))),a(!1,!0)},openUpRefSelector:function(){let e=document.getElementsByClassName("ref-selector-class");e&&1===e.length?(e[0]?.click(),(0,r.i)("ref selector opened")):e&&2===e.length&&(e[1]?.click(),(0,r.i)("ref selector opened")),a(!1)}}}function u(e,t={x:0,y:0}){let n=document.getElementById(o);if(!e||!n)return{display:"none"};let{top:r,left:l,height:i}=e.getBoundingClientRect(),{top:a,left:c}=n.getBoundingClientRect();return{top:`${r-a-(s-i)/2+t.y}px`,left:`${Math.max(l-c+t.x,0)-13}px`}}},63458(e,t,n){n.d(t,{u:()=>l});var r=n(96540);function l(){let[e,t]=(0,r.useState)({});return(0,r.useCallback)(()=>t({}),[])}},42696(e,t,n){n.d(t,{B:()=>d,z:()=>c});var r=n(24043),l=n(70730),i=n(96540),o=n(17865);let s=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];function a(e,t,n,r){return new IntersectionObserver(e=>{for(let t of e){let e=n.get(t.target);if(!e||"start"!==e.type)continue;let{currentY:l,currentRatio:i}=function(e,t,n,r,l,i,o){let s=r.getBoundingClientRect(),a=s.y,u=window.innerHeight-s.bottom>0,c=s.bottom>0,d=s.top<150&&s.top>-300,f=0===s.bottom&&0===s.top&&0===s.height&&0===s.width&&0===s.x&&0===s.y;return!e.ownedSection||e.ownedSection?.collapsed||(a<=t&&(u&&c||d)&&!f?l>n&&i||d&&o(e,!1):a>t&&i&&(l<n||o(e,!0))),{currentY:a,currentRatio:l}}(e.codeLineData,e.previousY,e.previousRatio,t.target,t.intersectionRatio,t.isIntersecting,r.current);e.previousY=l,e.previousRatio=i}},{root:null,rootMargin:`-${e+20*t}px 0px 0px 0px`,threshold:s})}function u(e,t,n,r){return new IntersectionObserver(e=>{for(let l of e){let e=t.get(l.target);if(!e||"end"!==e.type)continue;let{currentY:i,currentRatio:o}=function(e,t,n,r,l,i,o,s){let a=n.getBoundingClientRect(),u=a.y,c=l?i():void 0,d=window.innerHeight-a.bottom>0,f=a.bottom>0,m=a.top<150,h=d&&f,p=window.innerHeight-a.bottom>150&&window.innerHeight>300;for(let n of c||[])n&&h&&(u<e&&h?r>t&&o||s(n,!0):u>e&&o&&(r<t||p&&m&&s(n,!1)));return{currentY:u,currentRatio:r}}(e.previousY,e.previousRatio,l.target,l.intersectionRatio,e.lineNumber,()=>n.current(e.lineNumber),l.isIntersecting,r.current);e.previousY=i,e.previousRatio=o}},{root:null,rootMargin:`-${e}px 0px 0px 0px`,threshold:0})}function c(e,t,n){let s=void 0===l.XC,c=(0,r.G7)("code_view_shared_line_observer"),d=(0,i.useRef)(new Map),f=(0,i.useRef)(new Map),m=(0,i.useRef)(null),h=(0,i.useRef)(n),p=(0,o.pm)(),g=(0,o.Px)(),v=(0,i.useRef)(g),x=(0,i.useRef)(t),b=(0,i.useRef)(!1);(0,i.useLayoutEffect)(()=>{h.current=n,v.current=g,x.current=t}),(0,i.useLayoutEffect)(()=>{if(!e||s||!c)return;for(let e of(m.current?.disconnect(),f.current.values()))e.disconnect();let n=d.current;for(let e of n.values())e.previousY=0,e.previousRatio=1;let r=u(t,n,v,h);m.current=r;let l=new Map;for(let e of n.values())"start"!==e.type||l.has(e.numParents)||l.set(e.numParents,a(t,e.numParents,n,h));for(let[e,t]of(f.current=l,n))"start"===t.type?l.get(t.numParents)?.observe(e):r.observe(e);return b.current=!0,()=>{for(let e of(r.disconnect(),l.values()))e.disconnect()}},[e,s,c,t]);let w=(0,i.useMemo)(()=>{if(s||!c)return;let e=new Set;return{observe(t,n,r){let{isStartLine:l,isEndLine:i,lineNumber:o,ownedSection:s}=n;if(l){if(d.current.set(t,{type:"start",codeLineData:n,numParents:r,previousY:0,previousRatio:1}),s&&o&&!e.has(o)&&(p(s.endLine,{lineNumber:o}),e.add(o)),b.current){let e=f.current.get(r);e||(e=a(x.current,r,d.current,h),f.current.set(r,e)),e.observe(t)}}else i&&o&&(d.current.set(t,{type:"end",lineNumber:o,previousY:0,previousRatio:1}),b.current&&(m.current||(m.current=u(x.current,d.current,v,h)),m.current.observe(t)))},unobserve(e){let t=d.current.get(e);t&&("start"===t.type?f.current.get(t.numParents)?.unobserve(e):m.current?.unobserve(e),d.current.delete(e))}}},[s,c,p]);if(e&&!s&&c)return w}function d(e,t,n){let r=(0,i.useRef)(null),l=(0,i.useCallback)(e=>{r.current=e},[]);return(0,i.useLayoutEffect)(()=>{let l=r.current;if(!l||!e)return;let{isStartLine:i,isEndLine:o}=t;if(i||o)return e.observe(l,t,n),()=>{e.unobserve(l)}},[t,n,e]),l}},57626(e,t,n){n.d(t,{Us:()=>l,ds:()=>c,oM:()=>u});var r=n(96540);let l="repos-sticky-header",i="code_view_update_sticky_header_height_event",o=null,s=null,a=null;function u(e){e&&s!==e&&(s=e,null===o?o=new ResizeObserver(e=>{for(let t of e)t.contentRect.height!==a&&(a=t.contentRect.height,window.dispatchEvent(new CustomEvent(i,{detail:t.contentRect.height})))}):o.disconnect(),o.observe(e))}function c(){let[e,t]=(0,r.useState)(void 0);return((0,r.useEffect)(()=>{function e(e){t(e.detail)}return window.addEventListener(i,e),s&&u(s),()=>{window.removeEventListener(i,e)}},[]),void 0!==e)?e:102}},11996(e,t,n){n.d(t,{Ix:()=>u,T9:()=>s,j5:()=>a,t0:()=>c});var r=n(74848),l=n(38621),i=n(7478),o=n(10095);let s={Idle:"Idle",Fetching:"Fetching",Success:"Success",Error:"Error"};function a(){let e="u">typeof ClipboardItem;return"clipboard"in navigator&&e}async function u(e){let t=await fetch(e,{method:"get"});if(!t.ok)throw Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return new Blob([(await t.text()).replace(/\r?\n$/,"")],{type:"text/plain"})}function c(e){let t,n;switch(e){case s.Success:t="Copied!",n=(0,r.jsx)(o.A,{icon:l.CheckIcon});break;case s.Fetching:t="Copying",n=(0,r.jsx)(i.A,{size:"small"});break;case s.Error:t="Something went wrong. Try again.",n=(0,r.jsx)(o.A,{icon:l.AlertIcon});break;default:t="Copy",n=(0,r.jsx)(o.A,{icon:l.CopyIcon})}return{ariaLabel:t,content:n}}},37964(e,t,n){n.d(t,{A:()=>s});var r=n(74848),l=n(47032),i=n(96540),o=n(14775);function s({containerRef:e,shouldNotOverrideCopy:t}){let{selectAllShortcut:n}=(0,l.wk)(),s=(0,i.useRef)(!1),a=(0,o.y)(),u=(0,i.useCallback)(()=>{s.current=!1,document.removeEventListener("selectionchange",u)},[]);(0,i.useEffect)(()=>()=>document.removeEventListener("selectionchange",u),[u]);let c=(0,i.useCallback)(t=>{var n;let r,l;e&&e.current&&(n=e.current,(r=document.createRange()).selectNode(n),l=window.getSelection(),l?.removeAllRanges(),l?.addRange(r),t.preventDefault(),s.current=!0,setTimeout(()=>document.addEventListener("selectionchange",u),0))},[e,u]),d=(0,i.useCallback)(e=>{s.current&&(e.preventDefault(),a())},[a]);return(0,i.useEffect)(()=>{if(!t)return window.addEventListener("copy",d),()=>window.removeEventListener("copy",d)},[d,t]),(0,r.jsx)("button",{hidden:!0,"data-hotkey":n.hotkey,onClick:c})}s.displayName="SelectAllShortcutButton"},48042(e,t,n){n.d(t,{$0:()=>w,Bm:()=>A,Bn:()=>_,CZ:()=>j,E8:()=>R,Gb:()=>L,N9:()=>H,Wb:()=>y,X5:()=>$,a2:()=>x,ap:()=>D,bP:()=>C,hO:()=>E,jH:()=>I,kY:()=>U,m:()=>B,ny:()=>S,si:()=>T,t1:()=>M,um:()=>O,wQ:()=>g,zS:()=>v});var r=n(52463),l=n(26676),i=n(55387),o=n(70730),s=n(96540),a=n(10598),u=n(24540),c=n(71161);let d=/firefox\/(\d+(\.\d+)?)/,f=/Chrom(e|ium)\/([0-9]+)\./,m=/\n|\s|[();&.=,]/,h=/\n|\s|[();&.=",]/,p="collapse-show-rows-styles",g="read-only-cursor-text-area";function v(e,t){return document.querySelector(`#${e}LC${t}`)}function x(e,t){return document.querySelector(`main #${(0,a.p)(e,t)}`)}let b=new l.yy;function w(e){return(0,i.HN)(b.has(e))}function y(e){return(0,i.Rs)(b,e)}function C(){return(0,i.tQ)(b)}function L(){let e=E(),t=(0,s.useSyncExternalStore)(()=>()=>{},()=>{let e;return(e=navigator.userAgent.toLowerCase().match(d))&&e.length>=2&&e[1]?parseFloat(e[1]):null},()=>null)??0,n=(0,s.useSyncExternalStore)(()=>()=>{},()=>navigator.userAgent.toLowerCase().indexOf("chrome")>-1||navigator.userAgent.toLowerCase().indexOf("chromium")>-1||navigator.userAgent.toLowerCase().indexOf("edge")>-1,()=>!1),r=(0,s.useSyncExternalStore)(()=>()=>{},()=>{let e;return(e=navigator.userAgent.match(f))&&e.length>=3&&e[2]?parseFloat(e[2]):null},()=>null)??0;return(0,u.fY)()&&(e||n)&&(t>=124||r>=124)}function E(){return(0,s.useSyncExternalStore)(()=>()=>{},()=>navigator.userAgent.toLowerCase().indexOf("firefox")>-1,()=>!1)}function _(e,t,n,r){if(!r)return"";let l="";for(let t=0;t<e.length;t++)l+=`${N(e[t].startLine-1)} `;if(n&&r.has(t)){let e=r.get(t);if(e)for(let t=0;t<e.length;t++)l+=`${N(e[t].startLine-1)} `}return l}function N(e){return`child-of-line-${e}`}function j(e,t,n,r){if(!n)return;let l=n.get(t);if(l)for(let n of l){let l=e.get(n.endLine);if(l)for(let e of l)t>e.lineNumber&&r(e,!1)}}function S(e){k(e,!1),b.delete(e)}function R(e){k(e,!0),b.add(e)}function $(){let e=document.getElementById(p);e&&(e.textContent=""),b.clear()}function k(e,t){let n=`.${N(e-1)} { display: none; } `;if(document.getElementById(p)){let e=document.getElementById(p);if(t)e.textContent+=n;else{let t=e?.textContent||"";e.textContent=t=t.replace(n,"")}}else{let e=document.createElement("style");e.id=p,e.textContent=n,document.head.appendChild(e)}}function A(e,t){if(e.length<3)return!1;let n=t.split(" "),r=n.includes("pl-ent")?m:h;return!(e.match(r)||n.includes("pl-c")||n.includes("pl-k"))}function O(e,t){let n=null,r=null,l=null,i=t;if(e.parentElement?.classList.contains("react-file-line"))n=e.parentElement.getAttribute("data-line-number"),r=e.parentElement,l=e;else if(e.parentElement?.parentElement?.classList.contains("react-file-line"))n=e.parentElement.parentElement.getAttribute("data-line-number"),r=e.parentElement.parentElement,l=e.parentNode;else{if(!e.parentElement?.firstElementChild?.classList.contains("react-file-line")||!(n=e.parentElement.firstElementChild.getAttribute("data-line-number"))||!parseInt(n,10))return;return{line:parseInt(n,10)-1,column:null}}if(n&&parseInt(n,10)){for(let e of r.childNodes){if(e===l)break;i+=e.textContent?.length||0}return{line:parseInt(n,10),column:0!==i?i+1:null}}}function B(e,t,n){let r,l;return r=t.slice(0,e),(l=(0,c.J)(r,n))>0||0===e?Math.round(l):0!==e?e*u.QM:0}function I(e,t,n,l,i){if(e?.start.line===n&&e?.start.column!==null){let o=(0,r.Py)({start:e.start,end:{line:e.start.line,column:e.end.line===n?e.end.column:null}},()=>t);if(o&&o.startContainer.parentElement){let r=o.getBoundingClientRect(),l=t.getBoundingClientRect();return{offset:r.x-l.x+10,width:e.end.line===n?r.width:void 0}}if(i){let t=B(e.start.column-1,i,l),r=e.end.line===n?e.end.column:null;return{offset:t+20,width:e.end.line===n?B(r?r-1:i.length-1,i,l)-t:void 0}}}else if(e?.end.line===n&&e?.end.column!==null){let n=(0,r.Py)({start:{line:e.end.line,column:0},end:e.end},()=>t);return n?{width:n.getBoundingClientRect().width+10}:{width:B(e.end.column-1,i,l)+10}}}function T(e){var t=v("",e);if(!t)return!1;let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)}function D(e){return v("",e)}function M(e,t,n){return Math.floor((e-t)/n)+1}function H(e,t){let n=0,r=t.length-1;for(;n<=r;){let l=Math.floor((n+r)/2),i=t[l];if(!i)break;if(i.lineNumber===e)return l;i.lineNumber<e?n=l+1:r=l-1}return -1}function U(e,t=0){if(void 0===o.XC)return;let n=o.XC.getElementById("screenReaderAnnouncementDiv");if(n||function(){if(void 0===o.XC)return;let e=o.XC.createElement("div");e.classList.add("sr-only","mt-n1"),e.id="screenReaderAnnouncementDiv",e.setAttribute("role","alert"),e.setAttribute("data-testid","screenReaderAnnouncement"),e.setAttribute("aria-live","assertive"),o.XC.body.appendChild(e)}(),!(n=o.XC.getElementById("screenReaderAnnouncementDiv")))return;let r=n.textContent===e?`${e}\u00A0`:e;setTimeout(()=>{n&&(n.textContent=r)},t)}},71161(e,t,n){n.d(t,{J:()=>h});let r="ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",l="12px",i=`normal normal ${l} ${r}`,o=null,s=null,a=0,u=!1,c=null,d=null;function f(){o&&s&&(o.font=s,0!==a&&c&&(o.letterSpacing=`${a}px`))}function m(){if(s&&!u)return;let e=function(){if("u">typeof document){let e=document.querySelector(".react-code-text, .react-code-lines code, .react-blob-print-hide code");if(e)return getComputedStyle(e)}return null}();if(e){let t=e.fontStyle||"normal",n=e.fontWeight||"normal",i=e.fontSize||l,o=e.fontFamily||r,c=e.letterSpacing;a=0,c&&"normal"!==c&&(a=parseFloat(c)||0),s=`${t} ${n} ${i} ${o}`,u=!1}else s=i,u=!0}function h(e,t){let n=(o?u&&(m(),u||f()):("u">typeof OffscreenCanvas?o=new OffscreenCanvas(0,0).getContext("2d"):"u">typeof document&&(o=document.createElement("canvas").getContext("2d")),o&&(c="letterSpacing"in o,m(),f(),!d&&"u">typeof document&&(d=new MutationObserver(()=>{s=null,a=0,u=!1,o&&(m(),f())})).observe(document.documentElement,{attributes:!0,attributeFilter:["data-color-mode","data-dark-theme","data-light-theme"]}))),o);if(!n)return 0;let r=null!=t?e.replace(/\t/g," ".repeat(t)):e,l=n.measureText(r).width;return 0!==a&&!c&&r.length>1&&(l+=a*(r.length-1)),l}},46391(e,t,n){n.d(t,{BX:()=>l,HS:()=>u,Oc:()=>a,Tv:()=>f,Xr:()=>o,f7:()=>c,fD:()=>d,qR:()=>s});var r=n(50467);class l extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,r._)(this,"payload",void 0),this.payload=e}}Event;class i extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,r._)(this,"reference",void 0),(0,r._)(this,"openPanel",void 0),(0,r._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=n}}class o extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,r._)(this,"context",void 0),this.context=e}}function s(e){window.dispatchEvent(new l(e))}function a(e,t=!1,n){window.dispatchEvent(new i(e,t,n))}function u(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function c(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function d(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function f(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},68247(e,t,n){n.d(t,{c:()=>s});var r=n(74848),l=n(38621),i=n(26108),o=n(96540);function s({children:e,referenceType:t,...n}){let s=(0,o.useRef)(null);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.K,{ref:s,icon:l.CopilotIcon,size:"small","aria-label":`Ask Copilot about this ${t}`,tooltipDirection:"n","data-testid":"copilot-ask-menu",...n})})}s.displayName="AskCopilotButton"},27140(e,t,n){n.d(t,{Xu:()=>C,Ay:()=>w});var r=n(74848),l=n(24043),i=n(85461),o=n(3972),s=n(94583),a=n(38621),u=n(47819),c=n(67323),d=n(18990),f=n(96540),m=n(61516),h=n(25891),p=n(9225),g=n(46391),v=n(1361),x=n(68247);let b="code-line-dropdown-copilot-button";function w({copilotAccessAllowed:e,messageReference:t,hideDropdown:n,id:s,showAgentTaskButton:w,currentRepo:_,currentReference:N,decoupledModeEnabled:j}){let[S,R]=(0,f.useState)(!1),[$,k]=(0,f.useState)("actionMenu"),A=(0,l.G7)("copilot_chat_opening_thread_switch"),O=(0,f.useCallback)(()=>{E(t.type,L(t.type));let e={intent:v.wh.conversation,references:[t],id:s};(0,g.qR)(e),R(!1)},[s,t]),B=()=>{E(t.type,L(t.type)),"file"===t.type&&h.W.copilotRedirectFileViewToImmersive?window.location.href=`/copilot?reference_id=${(0,i.Vb)(t)}`:"snippet"===t.type&&h.W.copilotRedirectSnippetToImmersive?(o.Jt.setCurrentReferences(null,[t]),window.location.href="/copilot"):n?C(t,!0,s):O()},I={referenceType:t.type,onClick:B,id:s};return e?n?(0,r.jsx)(x.c,{referenceType:t.type,onClick:B,id:s}):(0,r.jsxs)(r.Fragment,{children:["actionMenu"===$&&(0,r.jsxs)(u.A,{children:[(0,r.jsx)(x.c,{...I}),(0,r.jsxs)(c.W,{open:S,onOpenChange:R,children:[(0,r.jsx)(c.W.Button,{id:b,trailingAction:a.TriangleDownIcon,size:"small","aria-label":"Copilot menu",className:"CopilotCodeLinesMenu-module__menu-button__lNiNM",children:(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(c.W.Overlay,{align:"end",onKeyDown:e=>{"Escape"===e.key&&(e?.stopPropagation(),R(!1))},children:(0,r.jsxs)(d.l,{children:[(0,r.jsx)(d.l.Item,{onSelect:()=>{E(t.type,L(t.type)),h.W.copilotRedirectSnippetToImmersive&&"snippet"===t.type?(o.Jt.setEntrypointMessage({message:(0,p.XX)(),references:[t]}),window.location.href="/copilot"):(0,g.qR)({content:"Explain",intent:v.wh.explain,references:[t],id:b}),R(!1)},children:"Explain"}),(0,r.jsx)(d.l.Item,{onSelect:()=>{let e=(0,p.UT)();h.W.copilotRedirectSnippetToImmersive&&"snippet"===t.type?(E(t.type,L(t.type)),o.Jt.setEntrypointMessage({message:e,references:[t]}),window.location.href="/copilot"):(0,g.qR)({content:e,intent:v.wh.suggest,references:[t],id:b}),R(!1)},children:"Suggest improvements"}),w&&(0,r.jsx)(d.l.Item,{onSelect:()=>{k("newTask")},children:"New agent session"}),!h.W.copilotRedirectSnippetToImmersive&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.l.Divider,{}),(0,r.jsx)(d.l.Item,{onSelect:()=>{A?y(t,b):C(t,!0,b),R(!1)},children:"Attach to current thread"})]})]})})]})]}),"newTask"===$&&(0,r.jsxs)(u.A,{children:[(0,r.jsx)(x.c,{...I}),(0,r.jsx)(m.V,{isIconButton:!0,icon:a.TriangleDownIcon,size:"small",label:"Copilot menu",eventType:"new_agent_task_button_codeview_line_selection",currentReference:N,currentRepo:_,hideRepoSelector:!0,open:!0,onClose:()=>k("actionMenu"),setContentOpen:e=>{e||k("actionMenu")},decoupledModeEnabled:j})]})]}):null}w.displayName="CopilotCodeLinesMenu";let y=(e,t)=>{(0,g.Oc)(e,!1,t),(0,g.qR)({intent:v.wh.conversation,id:t,attachThread:!0})},C=(e,t,n)=>{t?((0,g.Oc)(e,!0,n),(0,g.qR)({intent:v.wh.conversation,id:n})):(0,g.qR)({intent:v.wh.conversation,references:[e],id:n})};function L(e){return"file"===e&&h.W.copilotRedirectFileViewToImmersive||"snippet"===e&&h.W.copilotRedirectSnippetToImmersive?"immersive":"assistive"}function E(e,t){(0,s.BI)("dotcom_chat.activate",{target:e,mode:t})}},18087(e,t,n){n.d(t,{D:()=>r});function r(e){let t;if("clipboard"in navigator)return navigator.clipboard.writeText(e);let n=document.body;if(!n)return Promise.reject(Error());let r=((t=document.createElement("pre")).style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t);return n.appendChild(r),!function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");let t=getSelection();if(null==t)return Promise.reject(Error());t.removeAllRanges();let n=document.createRange();n.selectNodeContents(e),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}(r),n.removeChild(r),Promise.resolve()}},16968(e,t,n){n.d(t,{Gx:()=>l}),n(74848),n(16522);var r=n(19701);function l(e){return(0,r.Y)(e)?(0,r.t6)(e).map(e=>{let t=r.A0.get(e);return t?`<span class="hidden-unicode-replacement">${t}</span>`:e}).join(""):null}},19701(e,t,n){n.d(t,{A0:()=>o,TA:()=>u,Y:()=>c,_n:()=>d,rE:()=>s,t6:()=>a});let r=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,l=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,i=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,o=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\uDB40\uDC01":"U+E0001","\uDB40\uDC7F":"U+E007F"}));function s(e){return`<span class="hidden-unicode-replacement" data-code-text="${e}"></span>`}function a(e){return e.split(i)}function u(e){return c(e)?e.replaceAll(l,e=>o.get(e)??""):e}function c(e){return r.test(e)}function d(e){return o.get(e)}},96099(e,t,n){n.d(t,{$$:()=>d,Al:()=>f,Aw:()=>a,D:()=>u,LH:()=>i,Lo:()=>c,NG:()=>l,RS:()=>s,af:()=>m,k7:()=>h,kD:()=>p,m2:()=>o,xG:()=>g});var r=n(24178);function l({category:e,publisher:t,task:n}={}){if(!e&&!n&&!t)return"/marketplace/models/catalog";let i=new URLSearchParams;return i.append("type","models"),e&&i.append("category",e),n&&i.append("task",(0,r.y9)(n)),t&&i.append("publisher",t),`/marketplace?${i.toString()}`}let i=({registry:e,name:t})=>`/marketplace/models/${e}/${t}`,o=e=>`${i(e)}/playground`,s=()=>"/marketplace/models",a=e=>`${(({registry:e,name:t})=>`/models/${e}/${t}`)(e)}/feedback`;function u({commit:e,filePath:t,repoOwner:n,repoName:r,beginLine:l,endLine:o,...s}){let a=new URLSearchParams;if(e&&a.set("c",e),t&&a.set("path",t),n&&a.set("l",n),r&&a.set("n",r),null!=l&&null!=o){let e="";e=l===o?`${Math.max(l-10,0)}-${o+10}`:`${l}-${o}`,a.set("lines",e)}let u=`${i(s)}/prompt`,c=a.toString();return c.length<1?u:`${u}?${c}`}let c=({org:e})=>`/organizations/${e}/settings/models/billing`,d=({owner:e,repo:t})=>`/${e}/${t}/settings/models/access-policy`;function f({repo:e,action:t,allModels:n=!1}){let l=["",e.ownerLogin,e.name,"models"];t&&l.push(t);let i=new URLSearchParams;n&&i.set("all_models","true");let o=i.toString(),s=l.map(r.QU).join("/");return o.length<1?s:`${s}?${o}`}function m({repo:e,commitish:t,action:n,path:l}){let i=["",e.ownerLogin,e.name,"models","prompt",n];return t&&i.push(t),l&&"/"!==l&&i.push(l),i.map(r.QU).join("/")}let h=e=>`${f({repo:e})}/prompt/new`,p=(e,t)=>"isCustom"in t&&t.isCustom?`${f({repo:e})}/${t.registry}/${t.publisher}/${t.name}/playground`:`${f({repo:e})}/${t.registry}/${t.name}/playground`,g=(e,t,n)=>n?`/enterprises/${n}/settings/models`:e&&""!==t.trim()?`/organizations/${t}/settings/models/access-policy`:"/settings/models"},65509(e,t,n){n.d(t,{M:()=>i});let r=(e,t)=>e[({start:0,end:1,cssClass:2})[t]],l=e=>Array.isArray(e)?{s:r(e,"start"),e:r(e,"end"),c:r(e,"cssClass")}:e,i=e=>0===e.length?[]:Array.isArray(e[0])?e.map(l):e},70274(e,t,n){n.d(t,{W:()=>c});var r=n(16522),l=n(19701),i=n(65509),o=n(16968);function s(e,t,n,r,l,i,o){let s=t.substring(n,r);return{c:e,s:n,e:r,text:"plain"!==o?function(e,t,n){let r=[];for(let l of e)if("	"===l){let e=t-n.value%t;r.push(Array(e).fill(" ").join("")),n.value+=e}else r.push(l),n.value+=Array.from(l).length;return r.join("")}(s,i,l):s}}function a(e){return e.replace(/[&<>"']/g,u)}function u(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#039;";default:return e}}function c(e,t,n,u,c,d){let f,m=(0,r.c)(7),h=void 0===u?"plain":u;if(m[0]!==t||m[1]!==d||m[2]!==e||m[3]!==n||m[4]!==h||m[5]!==c){var p;let r,u;f=e??((p=n)||(p="\n"),r=function(e,t,n,r){let l={value:0},i={nodes:[],s:0,e:e.length,c:""},o=t?.filter(e=>e.e>e.s);if(!o||0===o.length)return i.nodes.push(s("",e,0,e.length,l,r,n)),i;let a=[i];for(let t=0;t<o.length;t++){let u=o[t],c=o[t+1],d=a[a.length-1]??i,f=d.nodes[d.nodes.length-1];if(0===d.nodes.length&&u.s>d.s){let t=s("",e,d.s,u.s,l,r,n);d.nodes.push(t)}else if(f&&u.s>f.e){let t=s("",e,f.e,u.s,l,r,n);d.nodes.push(t)}if(c&&c.s<u.e){let e={...u,nodes:[]};d.nodes.push(e),a.push(e)}else{let t=s(u.c,e,u.s,u.e,l,r,n);d.nodes.push(t)}if(c&&c.s>=d.e){let t=u.e;if(d.e>t){let i=s("",e,t,d.e,l,r,n);d.nodes.push(i),t=d.e}for(;a.length>1&&c.s>=d.e;)if(a.pop(),d=a[a.length-1]??i,a.length>1&&c.s>=d.e&&d.e>t){let i=s("",e,t,d.e,l,r,n);t=d.e,d.nodes.push(i)}}}for(;a.length>0;){let t=a.pop(),i=t.nodes[t.nodes.length-1];if(i&&i.e<t.e){let o=s("",e,i.e,t.e,l,r,n);t.nodes.push(o)}}return i}(p,(0,i.M)(t??[]),h,c),function e(t,n,r,i){for(let s of(t.c&&i.push(`<span class="${a(t.c)}">`),t.nodes))"nodes"in s?e(s,n,r,i):i.push(function e(t,n,r){switch(n){case"data-attribute":{let i=a(t.text);if(r&&(0,l.Y)(i)){let r=(0,l.t6)(i).map(r=>{let i=(0,l._n)(r);return i?(0,l.rE)(i):e({...t,text:r,c:""},n,!1)});return t.c?`<span class="${a(t.c)}">${r.join("")}</span>`:r.join("")}return t.c?`<span class="${a(t.c)}" data-code-text="${i}"></span>`:`<span data-code-text="${i}"></span>`}case"separated-characters-chunked":case"separated-characters":{if(t.text&&!t.text.trim())return e({...t},"data-attribute",r);let i=[...t.text];"separated-characters-chunked"!==n||r||(i=t.text.match(/.{1,2}/g)??i);let o=[...i].map(e=>{let t=r?(0,l._n)(e):void 0;return t?(0,l.rE)(t):`<span data-code-text="${a(e)}"></span>`}).join("");return t.c?`<span class="${a(t.c)}">${o}</span>`:o}default:{let e=a(t.text),n=r?(0,o.Gx)(e)??e:e;return t.c?`<span class="${a(t.c)}">${n}</span>`:n}}}(s,n,r));t.c&&i.push("</span>")}(r,h,d,u=[]),u.join("")),m[0]=t,m[1]=d,m[2]=e,m[3]=n,m[4]=h,m[5]=c,m[6]=f}else f=m[6];return f}},76803(e,t,n){n.d(t,{Y:()=>l});var r=n(96540);function l(){return(0,r.useSyncExternalStore)(s,i,o)}function i(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function o(){return!1}function s(){return()=>{}}}}]);
//# sourceMappingURL=11268-4d2c51b221ed9983-c308646b397e81cf.js.map