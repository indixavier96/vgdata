performance.mark("js-parse-end:43142-cfdb48d105f52e1f.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["43142"],{87077(e,t,l){l.r(t),l.d(t,{FileResultRow:()=>q,default:()=>I});var s=l(74848),r=l(16522),i=l(712),n=l(99153),a=l(90797),o=l(38489),c=l(8836),u=l(27159),d=l(35148),f=l(7392),m=l(33304),h=l(58071),_=l(29941),g=l(38621),x=l(45800),p=l(59134),v=l(18990),b=l(83223),R=l(66818),y=l(7478),E=l(94709),F=l(10095),L=l(91385),S=l(96540),N=l(62812),j=l(8334),C=l(54914),w=l(78994),A=l(34164);let T={excludeDirectories:!1,excludeSeeAllResults:!1};function I(e){var t;let l,f,g,y,F,L,I,q,D,z,M,Z,B,O,P,K,V,G,U,Y,X,J,W,Q,ee,et=(0,r.c)(103),{actionListClassName:el,additionalResults:es,commitOid:er,config:ei,findFileWorkerPath:en,getItemUrl:ea,onRenderRow:eo,onItemSelected:ec,searchBoxRef:eu,className:ed,sx:ef}=e,em=void 0===ei?T:ei,{excludeDirectories:eh,excludeSeeAllResults:e_}=em,{query:eg,setQuery:ex}=(0,i.JS)(),ep=(0,c.t)(),ev=S.useRef(null),eb=eu??ev,[eR,ey]=S.useState(eg.length>0),[eE,eF]=S.useState(!!eg),{list:eL,directories:eS,loading:eN,error:ej}=(0,w.o)(er,eR,!!eh);et[0]!==eS?(f=new Set(eS),et[0]=eS,et[1]=f):f=et[1];let eC=f,ew=(0,n.l)(),{getUrl:eA}=(0,o.Z)();et[2]!==eg?(g=(l=(t=(t=eg).replaceAll(" ","")).indexOf(":"))>=0?{queryText:t.substring(0,l),queryLine:parseInt(t.substring(l+1),10)}:{queryText:t,queryLine:void 0},et[2]=eg,et[3]=g):g=et[3];let{queryText:eT,queryLine:eI}=g,ek=(0,S.useDeferredValue)(eT);et[4]!==es||et[5]!==eL?(y=[...eL,...es??[]].sort(),et[4]=es,et[5]=eL,et[6]=y):y=et[6];let{matches:e$,clearMatches:eq}=function(e,t,l,s){let i,n,o,c,u,d,f,m,h=(0,r.c)(21),[_,g]=S.useState(),x=S.useRef(""),p=S.useRef(null),{sendStats:v}=(0,a.T)(),b=S.useRef(!1),R=S.useRef("");h[0]!==v||h[1]!==l?(i=()=>{let e=new N.z(l,j.j);e.onmessage=e=>{let{data:t}=e;b.current=!1,(0,S.startTransition)(()=>{g(t.list)}),x.current=t.query,t.startTime&&t.query===R.current&&v("repository.find-file",{"find-file-base-count":t.baseCount,"find-file-results-count":t.list.length,"find-file-duration-ms":performance.now()-t.startTime})},p.current=e},h[0]=v,h[1]=l,h[2]=i):i=h[2];let y=(0,S.useEffectEvent)(i);h[3]!==_?(n=(e,t)=>{let l=x.current&&t.startsWith(x.current);b.current=!0,R.current=t,p.current?.postMessage({baseList:l&&_||e,query:t,startTime:performance.now()})},h[3]=_,h[4]=n):n=h[4];let E=(0,S.useEffectEvent)(n);return h[5]!==y||h[6]!==s?(o=()=>{if(s)return y(),function(){p.current?.terminate()}},h[5]=y,h[6]=s,h[7]=o):o=h[7],h[8]!==s?(c=[s],h[8]=s,h[9]=c):c=h[9],S.useEffect(o,c),h[10]!==y||h[11]!==e||h[12]!==E||h[13]!==t?(u=()=>{e.length&&t&&(b.current&&(p.current?.terminate(),y()),E(e,t))},h[10]=y,h[11]=e,h[12]=E,h[13]=t,h[14]=u):u=h[14],h[15]!==e||h[16]!==t?(d=[e,t],h[15]=e,h[16]=t,h[17]=d):d=h[17],S.useEffect(u,d),h[18]===Symbol.for("react.memo_cache_sentinel")?(f=()=>g(void 0),h[18]=f):f=h[18],h[19]!==_?(m={matches:_,clearMatches:f},h[19]=_,h[20]=m):m=h[20],m}(y,ek,en,eR),{sendRepoClickEvent:eD}=(0,a.T)(),ez=(0,h.Zp)(),[eH,eM]=S.useState(0),[eZ,eB]=S.useState(k),eO=S.useRef(null),eP=S.useRef(null),{sendRepoKeyDownEvent:eK}=(0,a.T)(),{screenSize:eV}=(0,m.lm)(),eG=em.enableOverlay??eV>=m.Gy.large;et[7]!==ec||et[8]!==eD?(F=e=>{eD("FILE_TREE.SEARCH_RESULT_CLICK"),ec?.(e),eF(!1)},et[7]=ec,et[8]=eD,et[9]=F):F=et[9];let eU=F;et[10]!==ea||et[11]!==eA?(L=(e,t,l)=>{let s=t.has(e);return ea?ea(e,s,l):eA({path:e,action:s?"tree":"blob",hash:l})},et[10]=ea,et[11]=eA,et[12]=L):L=et[12];let eY=L;et[13]===Symbol.for("react.memo_cache_sentinel")?(I={bindKeys:_.z0.ArrowVertical|_.z0.HomeAndEnd,focusInStrategy:"previous"},et[13]=I):I=et[13],et[14]!==ej||et[15]!==eN?(q=[eN,ej],et[14]=ej,et[15]=eN,et[16]=q):q=et[16];let{containerRef:eX}=(0,x.G)(I,q);et[17]!==eg?(z=()=>{eg||eF(!1)},D=[eg],et[17]=eg,et[18]=D,et[19]=z):(D=et[18],z=et[19]),S.useEffect(z,D),et[20]!==eG||et[21]!==eb?(M=()=>{document.activeElement!==eb.current&&eG&&eF(!1)},et[20]=eG,et[21]=eb,et[22]=M):M=et[22],et[23]!==eG||et[24]!==eb||et[25]!==ew?(Z=[ew,eb,eG],et[23]=eG,et[24]=eb,et[25]=ew,et[26]=Z):Z=et[26],S.useEffect(M,Z),et[27]!==e$?(B=e$?.slice(0,40)??[],et[27]=e$,et[28]=B):B=et[28];let eJ=B,eW=e$&&e$.length>eJ.length;et[29]!==eY||et[30]!==eq||et[31]!==eC||et[32]!==eJ||et[33]!==e_||et[34]!==eH||et[35]!==eX||et[36]!==eW||et[37]!==ez||et[38]!==ec||et[39]!==eg||et[40]!==eI||et[41]!==eT||et[42]!==ep||et[43]!==eK||et[44]!==ex?(O=e=>{let{key:t,shiftKey:l,metaKey:s,altKey:r,ctrlKey:i}=e;if(!l&&!s&&!r){if("Escape"===t)eg?(eK("FILE_TREE.CANCEL_SEARCH"),ex(""),eq()):document.activeElement&&document.activeElement.blur();else if(!eg)return;else if("Enter"===t){if(!e_&&eW&&eH===eJ.length)ez((0,d.Y8Y)({owner:ep.ownerLogin,repo:ep.name,searchTerm:`path:${eT}`})),ec?.();else if(eJ[eH]){let e=eJ[eH];ez(eY(e,eC,eI?`L${eI}`:"")),eF(!1),ec?.(e)}}else if("ArrowDown"===t||i&&"n"===t){if(!e_&&eW&&eH>=eJ.length-1){if(eM(eJ.length),eO.current&&eX.current){let e=(0,u.U)(eX.current);(0,_.Rt)(eO.current,e,{behavior:"instant"})}}else eM(Math.min(eH+1,eJ.length-1));e.preventDefault();return}else if("ArrowUp"===t||i&&"p"===t){eM(Math.max(eH-1,0)),e.preventDefault();return}}},et[29]=eY,et[30]=eq,et[31]=eC,et[32]=eJ,et[33]=e_,et[34]=eH,et[35]=eX,et[36]=eW,et[37]=ez,et[38]=ec,et[39]=eg,et[40]=eI,et[41]=eT,et[42]=ep,et[43]=eK,et[44]=ex,et[45]=O):O=et[45];let eQ=O;et[46]!==eG?(P=(0,A.$)("FileResultsList-module__Box__vqkwS",{"FileResultsList-module__OverlayEnabled__eP6z3":eG}),et[46]=eG,et[47]=P):P=et[47],et[48]!==el||et[49]!==eY||et[50]!==ek||et[51]!==eC||et[52]!==eJ||et[53]!==eG||et[54]!==ej||et[55]!==e_||et[56]!==eH||et[57]!==eZ||et[58]!==eX||et[59]!==eN||et[60]!==e$||et[61]!==eW||et[62]!==eo||et[63]!==eU||et[64]!==ew||et[65]!==eI||et[66]!==eT||et[67]!==ep?(K=ej?(0,s.jsx)(p.A,{variant:"danger",className:"tmp-m-3",children:"Failed to search"}):(0,s.jsxs)(v.l,{ref:eX,className:(0,A.$)(el,"FileResultsList-module__ActionList__KvCZP",{"FileResultsList-module__ActionList_Overlay__l70lt":eG}),role:"listbox",children:[!eN&&eJ.map((e,t)=>{let l=eC.has(e),r=eY(e,eC,eI?`L${eI}`:"");return(0,s.jsx)(H,{active:e===ew,index:t,focused:eZ&&eH===t,match:e,onRender:eo,query:ek,onClick:eU,isDirectory:l,to:r,useOverlay:eG,listRef:eX},e)}),(0,s.jsxs)("div",{className:"tmp-m-3 text-center",children:[(0,s.jsx)($,{loading:eN||!e$,visibleResultCount:eJ.length,truncated:!!eW}),eW&&!e_&&(0,s.jsxs)(s.Fragment,{children:["\xa0",(0,s.jsx)(b.A,{id:"see-all-results-link",className:(0,A.$)("focus-visible",{"FileResultsList-module__PrimerLink__Mmo7i":eZ&&eH===eJ.length}),ref:eO,href:(0,d.Y8Y)({owner:ep.ownerLogin,repo:ep.name,searchTerm:`path:${eT}`}),children:"See all results"})]})]})]}),et[48]=el,et[49]=eY,et[50]=ek,et[51]=eC,et[52]=eJ,et[53]=eG,et[54]=ej,et[55]=e_,et[56]=eH,et[57]=eZ,et[58]=eX,et[59]=eN,et[60]=e$,et[61]=eW,et[62]=eo,et[63]=eU,et[64]=ew,et[65]=eI,et[66]=eT,et[67]=ep,et[68]=K):K=et[68],et[69]!==P||et[70]!==K?(V=(0,s.jsx)("div",{className:P,children:K}),et[69]=P,et[70]=K,et[71]=V):V=et[71];let e1=V,e0=(!eG&&eg||eG&&eE)&&eZ&&eH>-1?eW&&eH===eJ.length?"see-all-results-link":`file-result-${eH}`:void 0,e2=eG?eE:void 0,e3=eG?"file-results-list":void 0;et[72]===Symbol.for("react.memo_cache_sentinel")?(G=()=>ey(!0),et[72]=G):G=et[72],et[73]!==eq||et[74]!==ex?(U=e=>{ex(e),e?eF(!0):(eq(),eF(!1)),eM(0)},et[73]=eq,et[74]=ex,et[75]=U):U=et[75],et[76]!==eX?(Y=e=>{eX.current?.contains(e.relatedTarget)||(eF(!1),eB(!1))},et[76]=eX,et[77]=Y):Y=et[77],et[78]!==eg?(X=()=>{eg&&eF(!0),eB(!0)},et[78]=eg,et[79]=X):X=et[79],et[80]!==eG||et[81]!==eQ||et[82]!==eb||et[83]!==eg||et[84]!==e0||et[85]!==e2||et[86]!==e3||et[87]!==U||et[88]!==Y||et[89]!==X?(J=(0,s.jsx)(C.Z,{ariaActiveDescendant:e0,ariaExpanded:e2,ariaHasPopup:eG,ariaControls:e3,ref:eb,query:eg,onKeyDown:eQ,onPreload:G,onSearch:U,onBlur:Y,onFocus:X,className:"FileResultsList-module__FilesSearchBox__ivVkc"}),et[80]=eG,et[81]=eQ,et[82]=eb,et[83]=eg,et[84]=e0,et[85]=e2,et[86]=e3,et[87]=U,et[88]=Y,et[89]=X,et[90]=J):J=et[90],et[91]!==ed||et[92]!==ef||et[93]!==J?(W=(0,s.jsx)(E.az,{ref:eP,sx:ef,className:ed,children:J}),et[91]=ed,et[92]=ef,et[93]=J,et[94]=W):W=et[94],et[95]!==eG||et[96]!==e1||et[97]!==eE?(Q=eG&&(0,s.jsx)(R.T,{anchorRef:eP,open:eG&&eE,renderAnchor:null,onClose:()=>{eF(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:"file-results-list",role:"dialog"},children:e1}),et[95]=eG,et[96]=e1,et[97]=eE,et[98]=Q):Q=et[98];let e4=!eG&&eg&&e1;return et[99]!==W||et[100]!==Q||et[101]!==e4?(ee=(0,s.jsxs)(s.Fragment,{children:[W,Q,e4]}),et[99]=W,et[100]=Q,et[101]=e4,et[102]=ee):ee=et[102],ee}function k(){return(0,C.q)()}function $(e){let t,l,i=(0,r.c)(8),{visibleResultCount:n,truncated:a,loading:o}=e,c=o||a||0===n?void 0:"sr-only",u=o?"Loading":void 0;return i[0]!==o||i[1]!==a||i[2]!==n?(t=o?(0,s.jsx)(y.A,{size:"large"}):0===n?"No matches found":a?`First ${n} files shown.`:`Showing ${n} files.`,i[0]=o,i[1]=a,i[2]=n,i[3]=t):t=i[3],i[4]!==c||i[5]!==u||i[6]!==t?(l=(0,s.jsx)("span",{role:"status",className:c,"aria-label":u,children:t},"results-count-status"),i[4]=c,i[5]=u,i[6]=t,i[7]=l):l=i[7],l}I.displayName="FileResultsList",$.displayName="FileResultsStatus";let q=e=>{let t,l,i,n,a,o,c,d,m,h,g=(0,r.c)(33),{active:x,focused:p,index:b,match:R,query:y,to:E,isDirectory:F,onClick:N,onRender:j,useOverlay:C,listRef:w}=e;g[0]!==R||g[1]!==y?(t=(0,L.Xq)(y,R),g[0]=R,g[1]=y,g[2]=t):t=g[2];let T=t;j?.();let I=S.useRef(null),k=F?D:z;g[3]!==p||g[4]!==w?(l=()=>{if(p&&I.current&&w?.current){let e=(0,u.U)(w.current);(0,_.Rt)(I.current,e,{behavior:"instant"})}},i=[p,w],g[3]=p,g[4]=w,g[5]=l,g[6]=i):(l=g[5],i=g[6]),S.useEffect(l,i),g[7]!==R||g[8]!==N?(n=()=>{N?.(R)},g[7]=R,g[8]=N,g[9]=n):n=g[9];let $=n,q=p?"FileResultsList-module__ActionList_ItemFocused__Yu7wK":void 0;g[10]!==q?(a=(0,A.$)(q),g[10]=q,g[11]=a):a=g[11];let H=`file-result-${b}`,Z=C?-1:0,B=p||void 0;return g[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,A.$)("d-flex","FileResultsList-module__ActionList_Item__X18Zr"),g[12]=o):o=g[12],g[13]!==k||g[14]!==R||g[15]!==T?(c=(0,s.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,s.jsx)(M,{text:R,positionsList:T,LeadingIcon:k,className:"FileResultsList-module__HighlightMatch__wwEZz"})}),g[13]=k,g[14]=R,g[15]=T,g[16]=c):c=g[16],g[17]!==p||g[18]!==F?(d=p&&(0,s.jsx)("div",{className:"sr-only",children:`Go to ${F?"folder":"file"}`}),g[17]=p,g[18]=F,g[19]=d):d=g[19],g[20]!==$||g[21]!==c||g[22]!==d||g[23]!==H||g[24]!==Z||g[25]!==B||g[26]!==E?(m=(0,s.jsxs)(f.N,{to:E,ref:I,role:"option",onClick:$,id:H,tabIndex:Z,"data-focus-visible-added":B,className:o,children:[c,d]}),g[20]=$,g[21]=c,g[22]=d,g[23]=H,g[24]=Z,g[25]=B,g[26]=E,g[27]=m):m=g[27],g[28]!==x||g[29]!==R||g[30]!==m||g[31]!==a?(h=(0,s.jsx)(v.l.Item,{role:"group",active:x,className:a,children:m},R),g[28]=x,g[29]=R,g[30]=m,g[31]=a,g[32]=h):h=g[32],h};q.displayName="FileResultRow";let D=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(F.A,{"aria-label":"Directory",icon:g.FileDirectoryFillIcon,size:"small",className:"FileResultsList-module__Octicon__T1mIF"}),t[0]=e):e=t[0],e};D.displayName="DirectoryIcon";let z=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(F.A,{"aria-label":"File",icon:g.FileIcon,className:"fgColor-muted mr-2",size:"small"}),t[0]=e):e=t[0],e};z.displayName="FileResultIcon";let H=S.memo(q);function M(e){let t,l,i,n,a=(0,r.c)(14),{text:o,positionsList:c,className:u,LeadingIcon:d}=e;if(a[0]!==c||a[1]!==o){let e;t=[];let l=0;for(let e of c){if(Number(e)!==e||e<l||e>o.length)continue;let r=o.slice(l,e);r&&t.push(Z(r)),l=e+1,t.push((0,s.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:o[e]},e))}a[3]!==l||a[4]!==o?(e=Z(o.slice(l)),a[3]=l,a[4]=o,a[5]=e):e=a[5],t.push(e),a[0]=c,a[1]=o,a[2]=t}else t=a[2];return a[6]!==d?(l=d&&(0,s.jsx)(d,{}),a[6]=d,a[7]=l):l=a[7],a[8]!==t||a[9]!==l?(i=(0,s.jsxs)(s.Fragment,{children:[l,t]}),a[8]=t,a[9]=l,a[10]=i):i=a[10],a[11]!==u||a[12]!==i?(n=(0,s.jsx)("div",{className:u,children:i}),a[11]=u,a[12]=i,a[13]=n):n=a[13],n}function Z(e){return e.replaceAll("/","/\u200B")}H.displayName="MemoizedFileResultRow",M.displayName="HighlightMatch"},54914(e,t,l){l.d(t,{Z:()=>f,q:()=>m});var s=l(74848),r=l(16522),i=l(73702),n=l(90797),a=l(70730),o=l(38621),c=l(94709),u=l(96540),d=l(34164);let f=e=>{let t,l,i,a,f,_,g,x,p,v=(0,r.c)(35),{ref:b,ariaActiveDescendant:R,ariaControls:y,ariaExpanded:E,ariaHasPopup:F,onBlur:L,onFocus:S,onKeyDown:N,onPreload:j,onSearch:C,query:w,sx:A,className:T}=e,{sendRepoClickEvent:I}=(0,n.T)(),[k,$]=u.useState(w);v[0]!==w?(t=()=>{$(w)},l=[w],v[0]=w,v[1]=t,v[2]=l):(t=v[1],l=v[2]),u.useEffect(t,l),v[3]!==C||v[4]!==w||v[5]!==I?(i=w?(0,s.jsx)(c.ks.Action,{onClick:()=>{I("FILE_TREE.CANCEL_SEARCH"),C("")},icon:o.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0,v[3]=C,v[4]=w,v[5]=I,v[6]=i):i=v[6];let q=i;v[7]===Symbol.for("react.memo_cache_sentinel")?(a=m(),v[7]=a):a=v[7],v[8]!==j||v[9]!==C?(f=e=>{$(e.target.value),j(),C(e.target.value)},v[8]=j,v[9]=C,v[10]=f):f=v[10],v[11]!==T?(_=(0,d.$)("d-flex",T),v[11]=T,v[12]=_):_=v[12];let D=F?"combobox":void 0,z=F?"dialog":void 0,H=q?void 0:h;return v[13]!==S||v[14]!==j?(g=e=>{j(),e.target.select(),S?.(e)},v[13]=S,v[14]=j,v[15]=g):g=v[15],v[16]!==I?(x=()=>I("FILE_TREE.SEARCH_BOX"),v[16]=I,v[17]=x):x=v[17],v[18]!==R||v[19]!==y||v[20]!==E||v[21]!==q||v[22]!==L||v[23]!==N||v[24]!==b||v[25]!==A||v[26]!==g||v[27]!==x||v[28]!==f||v[29]!==_||v[30]!==D||v[31]!==z||v[32]!==H||v[33]!==k?(p=(0,s.jsx)(c.ks,{autoFocus:a,ref:b,value:k,onKeyDown:N,onChange:f,sx:A,className:_,"aria-label":"Go to file","aria-activedescendant":R,role:D,"aria-controls":y,"aria-expanded":E,"aria-haspopup":z,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:o.SearchIcon,trailingAction:q,trailingVisual:H,onFocus:g,onBlur:L,onClick:x}),v[18]=R,v[19]=y,v[20]=E,v[21]=q,v[22]=L,v[23]=N,v[24]=b,v[25]=A,v[26]=g,v[27]=x,v[28]=f,v[29]=_,v[30]=D,v[31]=z,v[32]=H,v[33]=k,v[34]=p):p=v[34],p};function m(){return"1"===new URLSearchParams(a.fV.search).get("search")}function h(){return(0,s.jsx)(i.E,{children:(0,s.jsx)("kbd",{children:"t"})})}f.displayName="FilesSearchBox",f.displayName="FilesSearchBox"}}]);
//# sourceMappingURL=43142-cfdb48d105f52e1f-215624e3700868b4.js.map