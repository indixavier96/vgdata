"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4216],{46173:function(e,t,r){r.d(t,{P:function(){return c}});var n=r(10250),l=r(86340),a=r(54679),s=r(2758),i=r(79213),o=r(15751);let c=e=>{let{src:t,title:r,messageId:c,type:d,aspectRatio:u,width:m,handleImageDownload:p,isInProgress:h,isDownload:f,isSourcePanel:x=!1}=e;return(0,n.jsx)("div",{className:"relative flex max-h-[85vh] max-w-[90vw] items-center justify-center",style:{aspectRatio:null!=u?u:"1/1"},children:(0,n.jsxs)("div",{className:(0,o.cn)("relative flex items-center justify-center overflow-hidden",{"tablet:max-w-[500px] desktop-sm:max-w-[1000px] xl:max-w-[1500px]":x}),style:{aspectRatio:null!=u?u:"1/1",width:null!=m?m:"auto"},children:[(0,n.jsx)(l.default,{src:t,alt:null!=r?r:c,className:"rounded-2xl object-contain",fill:!0}),"system_image"===d&&(0,n.jsx)(a.Button,{size:"icon-lg",shape:"rect",className:(0,o.cn)("absolute right-4 top-4 z-10  bg-black/25 hover:bg-black/40",{hidden:!f}),onClick:p,children:h?(0,n.jsx)(s.$,{}):(0,n.jsx)(i._,{className:"size-[18px] text-inverse-fixed"})})]})})}},47834:function(e,t,r){r.d(t,{b:function(){return h}});var n=r(10250),l=r(86340),a=r(21956),s=r(54679),i=r(2758),o=r(79213),c=r(15751);let d=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:(0,n.jsx)("path",{d:"m3 3 30 30M15.615 15.615a3.002 3.002 0 0 1-4.245-4.245m8.88 8.88L9 31.5M27 18l4.5 4.5v-15a3 3 0 0 0-3-3h-15m-8.115.885A2.985 2.985 0 0 0 4.5 7.5v21a3 3 0 0 0 3 3h21c.825 0 1.578-.33 2.115-.885",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},u=()=>(0,n.jsxs)("span",{className:"flex size-full flex-col items-center justify-center gap-3 bg-surface-secondary",children:[(0,n.jsx)(d,{className:"size-6 text-primary"}),(0,n.jsxs)("span",{className:"flex flex-col items-center justify-center text-label-sm text-secondary",children:[(0,n.jsx)("span",{className:"text-center",children:"The image could not be generated."}),(0,n.jsx)("span",{className:"text-center",children:"Please try again."})]})]}),m=e=>{let{placeholder:t="Generating Image"}=e;return(0,n.jsxs)("span",{className:"flex size-full flex-col items-center justify-center gap-3 rounded-2xl bg-surface-secondary",children:[(0,n.jsx)(i.$,{className:"size-6 text-primary"}),(0,n.jsx)("span",{className:"text-label-sm text-secondary",children:t})]})},p=e=>{let{loading:t,error:r,placeholder:l}=e;return t?(0,n.jsx)(m,{placeholder:l}):r?(0,n.jsx)(u,{}):null},h=(0,a.forwardRef)((e,t)=>{let{type:r,src:a,title:d,messageId:u,handleImageDownload:m,isInProgress:h,isImageLoading:f,isImageError:x,showImageFallback:g,isSourcePanel:v,aspectRatio:b,isPortrait:j,isLandscape:w,onClick:y,index:N,isDownload:k,placeholder:M}=e;return(0,n.jsx)("span",{ref:t,onClick:()=>null==y?void 0:y(null!=N?N:0),role:"button",tabIndex:0,className:(0,c.cn)("relative block size-[172px] cursor-pointer overflow-hidden rounded-2xl",{" h-[136px] w-full min-w-[136px] tablet:max-w-full":"user_image"===r,"size-full max-h-64 max-w-64 tablet:max-h-96 tablet:max-w-96":"system_image"===r&&!v,"size-full max-h-[440px] max-w-64 tablet:max-h-[520px] tablet:max-w-[324px] laptop:max-h-[552px] laptop:max-w-[344px]":"system_image"===r&&j&&!v,"size-full max-h-[180px] max-w-[272px] tablet:max-h-[276px] tablet:max-w-[424px] laptop:max-h-[452px] laptop:max-w-[672px] desktop:max-h-[452px] desktop:max-w-[712px]":"system_image"===r&&w&&!v,"size-[calc(50%-4px)] tablet:size-[calc(25%-4px)] desktop-sm:size-[calc(50%-4px)]":v}),style:{aspectRatio:v?"1/1":null!=b?b:"1/1"},children:(0,n.jsxs)("span",{className:"group/image-preview block size-full",children:["system_image"===r&&(0,n.jsx)(s.Button,{size:"icon-sm",className:(0,c.cn)("invisible absolute right-2 top-2 z-10 bg-black/50 p-2 group-hover/image-preview:visible hover:bg-black/40",{hidden:!k}),onClick:m,children:h?(0,n.jsx)(i.$,{}):(0,n.jsx)(o._,{className:"size-[18px] text-inverse-fixed dark:text-primary"})}),g?(0,n.jsx)(p,{loading:f,error:x,placeholder:M}):(0,n.jsx)(l.default,{src:a,alt:null!=d?d:u,fill:!0,className:"object-cover hover:zoom-in-[24%]"})]})})});h.displayName="ImagePreviewTrigger"},92533:function(e,t,r){r.d(t,{e:function(){return p}});var n=r(10250),l=r(21956),a=r(80950),s=r(14405),i=r(16800),o=r(15751),c=r(41269),d=r(46173),u=r(47834),m=r(44397);let p=e=>{let{src:t,messageId:r,title:p,type:h,className:f,isSourcePanel:x,placeholder:g,isDownload:v=!0}=e,{width:b,isPortrait:j,isLandscape:w,aspectRatio:y,isInProgress:N,error:k,handleImageDownload:M,isLandingPageChat:E,isImageLoading:A,isImageError:S,showImageFallback:C}=(0,m.L)({src:t,messageId:r});return((0,l.useEffect)(()=>{k&&a.Am.error("Failed to download the image")},[k]),t)?(0,n.jsx)("span",{className:(0,o.cn)("flex w-full mobile:w-auto",{"pb-6 pt-4 last:pb-3":!x},f),children:(0,n.jsxs)(s.Vq,{children:[(0,n.jsx)(s.hg,{asChild:!0,children:(0,n.jsx)(u.b,{type:h,src:t,title:p,messageId:r,handleImageDownload:M,isInProgress:N,isImageLoading:A,isImageError:S,showImageFallback:C,isSourcePanel:!!x,aspectRatio:null!=y?y:"1/1",isPortrait:j,isLandscape:w,isDownload:v,placeholder:g})}),(0,n.jsxs)(s.PK,{children:[(0,n.jsx)(s.t9,{className:"bg-black/85"}),(0,n.jsx)(s.iK,{className:(0,o.cn)("dark pointer-events-auto absolute right-4 top-4 z-[60] size-12 text-inverse-fixed *:size-6",{fixed:E})}),(0,n.jsxs)(s.cZ,{className:"flex items-center justify-center border-0 bg-transparent",style:{aspectRatio:null!=y?y:"1/1"},onOpenAutoFocus:e=>e.preventDefault(),children:[(0,n.jsx)(s.fK,{className:"hidden",children:(0,n.jsx)(s.$N,{})}),(0,n.jsx)(c.K,{variant:i.S.Dialog,title:"Image Preview Dialog",description:"This is a full image preview dialog where user can see the image in full size."}),(0,n.jsx)(d.P,{src:t,title:p,messageId:r,type:h,aspectRatio:null!=y?y:"1/1",width:null!=b?b:void 0,handleImageDownload:M,isInProgress:N,isDownload:v})]})]})]})}):null}},44397:function(e,t,r){r.d(t,{L:function(){return h}});var n=r(21956),l=r(35444),a=r(91074),s=r(28886),i=r(21633),o=r(5899),c=r(14243),d=r(22689);let u=new Map,m={width:null,height:null,aspectRatio:null,isPortrait:!1,isLandscape:!1},p=e=>{let t=e?u.get(e):void 0;return{dimensions:null!=t?t:m,isLoading:!t,isError:!1}},h=e=>{let{src:t,messageId:r}=e,[h,f]=(0,n.useState)(()=>p(t)),{download:x,isInProgress:g,error:v}=(0,l.ZP)(),{isLandingPageChat:b}=(0,i.j)(),{getPromptAndFileTypes:j,trackExport:w}=(0,c.D)(),{messages:y}=(0,o.m)(),N=async e=>{if(e.stopPropagation(),g||!t)return;await x(t,"".concat(r,".jpg"));let n=y.findIndex(e=>e.id===r),l=y[n-1];if(l.role!==a.y.USER){w({feature:s.VS.IMAGE_GENERATION,trigger:d.nx.DOWNLOAD_BUTTON,prompt_text:d.Dl,upload_file_type:d.JR});return}let{promptText:i,uploadFileTypes:o}=j(l);w({feature:s.VS.IMAGE_GENERATION,trigger:d.nx.DOWNLOAD_BUTTON,prompt_text:i,upload_file_type:o})};return(0,n.useEffect)(()=>{if(!t)return f({dimensions:m,isLoading:!1,isError:!1}),()=>{};let e=u.get(t);if(e)return f({dimensions:e,isLoading:!1,isError:!1}),()=>{};f(e=>({...e,isLoading:!0,isError:!1}));let r=new Image,n=!1,l=()=>{if(n)return;let e={width:r.width,height:r.height,aspectRatio:"".concat(r.width,"/").concat(r.height),isPortrait:r.height>r.width,isLandscape:r.width>r.height};u.set(t,e),f({dimensions:e,isLoading:!1,isError:!1})};return r.onload=l,r.onerror=()=>{n||f(e=>({...e,isLoading:!1,isError:!0}))},r.src=t,r.complete&&l(),()=>{n=!0,r.onload=null,r.onerror=null}},[t]),{...h.dimensions,isImageLoading:h.isLoading,isImageError:h.isError,download:x,isInProgress:g,error:v,handleImageDownload:N,isLandingPageChat:b,showImageFallback:h.isLoading||h.isError}}},5216:function(e,t,r){r.d(t,{x:function(){return S}});var n=r(10250),l=r(21956),a=r(23074),s=r(4769),i=r(38306),o=r(51897),c=r(15751),d=r(92533),u=r(86340),m=r(38291),p=r(88577),h=r(71404);let f=e=>{let{...t}=e;return(0,n.jsx)(h.fC,{"data-slot":"hover-card",...t})},x=e=>{let{...t}=e;return(0,n.jsx)(h.xz,{"data-slot":"hover-card-trigger",...t})},g=e=>{let{className:t,align:r="center",sideOffset:l=4,...a}=e;return(0,n.jsx)(h.h_,{"data-slot":"hover-card-portal",children:(0,n.jsx)(h.VY,{"data-slot":"hover-card-content",align:r,sideOffset:l,className:(0,c.cn)("z-50 w-64 origin-[--radix-hover-card-content-transform-origin] rounded-2xl border border-secondary bg-surface-elevated p-4 shadow-sm outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})})},v=(0,l.createContext)(null),b=()=>{let e=(0,l.useContext)(v);if(!e)throw Error("InlineCitation.* must be used inside <InlineCitation>");return e},j=e=>{let{href:t,children:r}=e,a=(0,m.x)(t),s=(0,l.useMemo)(()=>({href:t,domain:a}),[t,a]);return(0,n.jsx)(v.Provider,{value:s,children:(0,n.jsx)(f,{openDelay:150,closeDelay:0,children:r})})},w=e=>{let{label:t,showFavicon:r=!1,className:l}=e,{href:a,domain:s}=b();return(0,n.jsx)(x,{asChild:!0,children:(0,n.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:(0,c.cn)("ml-0.5 inline-flex h-5 max-w-32 items-center gap-1 overflow-hidden rounded-full border border-primary bg-surface px-1 py-0.5 align-middle text-secondary no-underline transition-colors duration-150 hover:bg-surface-elevated hover:text-primary",{"pl-1 pr-1.5":r},l),children:[r&&(0,n.jsx)(u.default,{src:(0,p.rL)(a),alt:"favicon",width:14,height:14,className:"size-3.5 rounded-full border-[0.75px] border-primary"}),(0,n.jsx)("span",{className:"truncate text-center text-label-xs font-normal capitalize tabular-nums",children:null!=t?t:s})]})})},y=e=>{let{title:t,description:r,className:l}=e,{href:a,domain:s}=b();return r?(0,n.jsx)(g,{className:(0,c.cn)("w-[293px]",l),children:(0,n.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"flex w-full flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(u.default,{src:(0,p.rL)(a),alt:"favicon",className:"size-4 rounded-full",width:16,height:16,loading:"eager",priority:!0}),(0,n.jsx)("div",{className:"truncate text-label-sm capitalize text-secondary",children:s})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("div",{className:"line-clamp-2 text-body-sm font-medium text-primary",children:t}),(0,n.jsx)("div",{className:"line-clamp-3 text-body-xs text-secondary",children:r})]})]})}):null};var N=r(91074),k=r(5899),M=r(57676);let E=e=>{let{messageId:t,href:r}=e,{messages:n}=(0,k.m)(),a=(0,l.useMemo)(()=>n.find(e=>e.role===N.y.ASSISTANT&&e.id===t),[n,t]);return{content:(0,l.useMemo)(()=>{var e;return null==a?void 0:null===(e=a.content[M.d.TOOL_RESULT].web_results.find(e=>e.url===r))||void 0===e?void 0:e.content},[a,r])}},A=e=>{let{href:t,title:r,messageId:l}=e,{content:a}=E({messageId:l,href:t});return(0,n.jsxs)(j,{href:t,children:[(0,n.jsx)(w,{showFavicon:!0}),(0,n.jsx)(y,{title:r,description:a})]})},S=e=>{let{messageId:t,userId:r}=e;return{...i.S,a:e=>{let{href:r,title:l,children:a,...i}=e;return(null==r?void 0:r.startsWith("cite://"))?(0,n.jsx)(A,{href:r.replace("cite://",""),title:String(a),messageId:t}):(null==r?void 0:r.startsWith("citevid://"))?(0,n.jsx)(s.e,{src:r.replace("citevid://",""),title:"Test video"}):(0,n.jsx)("a",{href:r,...i,"data-markdown":"link",target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-markdown-body text-primary underline decoration-dotted transition-all duration-500 hover:text-brand",children:a})},table:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("div",{"data-markdown":"table",className:(0,c.cn)("relative  w-full min-w-px  overflow-auto scrollbar-none"),children:(0,n.jsxs)(a.x,{type:"auto",className:"flex flex-col gap-2 ",children:[(0,n.jsx)("table",{...l,className:(0,c.cn)(r,"w-full  border-separate border-spacing-0 rounded-xl text-primary"),children:t}),(0,n.jsx)(a.B,{className:"h-2 pr-6",orientation:"horizontal"})]})})},tbody:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("tbody",{...l,className:(0,c.cn)(r,"group"),children:t})},tr:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("tr",{...l,className:(0,c.cn)(r,"[&:last-child>td]:border-none"),children:t})},td:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("td",{...l,className:(0,c.cn)(r,"border-b border-secondary py-3 pl-3 pr-6 text-left align-top text-markdown-h6 first:pl-0"),children:t})},th:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("th",{...l,className:(0,c.cn)(r,"border-b border-secondary py-3 pl-3 pr-6 text-left align-top text-markdown-h4 font-medium first:pl-0"),children:t})},img:e=>{let{alt:l,src:a}=e,s=o.x.NEXT_PUBLIC_AWS_BASE_SIGNED_URL.concat("/",""===r?o.x.NEXT_PUBLIC_DEFAULT_USER_ID:r);return(null==l?void 0:l.startsWith("cite-image://"))?(0,n.jsx)(d.e,{type:"system_image",src:a,messageId:t,isDownload:!1,placeholder:"Loading image"}):(null==a?void 0:a.startsWith("http"))?(0,n.jsx)(d.e,{type:"system_image",src:a,messageId:t}):(0,n.jsx)(d.e,{type:"system_image",src:s.concat("_",null!=a?a:""),messageId:t})},error:e=>{let{children:t}=e;return(0,n.jsx)("span",{className:"text-markdown-body font-medium text-error-50",children:t})},correct:e=>{let{children:t}=e;return(0,n.jsx)("span",{className:"text-markdown-body font-medium text-success-50",children:t})}}}},49916:function(e,t,r){r.d(t,{F:function(){return b}});var n=r(10250),l=r(21956),a=r(14337);let s=(0,l.memo)(e=>{let{children:t}=e;return(0,n.jsx)("ul",{className:"ml-3 mt-0 flex list-outside list-disc flex-col pl-3",children:t})});s.displayName="UnorderedList";let i=(0,l.memo)(e=>{let{children:t}=e;return(0,n.jsx)("ol",{className:"ml-3 mt-0 flex list-outside list-decimal flex-col pl-3",children:t})});i.displayName="OrderedList";let o=(0,l.memo)(e=>{let{children:t}=e;return(0,n.jsx)("li",{className:"m-0 p-0 text-body-sm font-normal",children:t})});o.displayName="ListItem";let c=(0,l.memo)(e=>{let{children:t}=e;return(0,n.jsx)("span",{children:t})});c.displayName="Paragraph";let d={ul:s,ol:i,li:o,p:c},u=/^[-*+]\s/,m=/^\d+\.\s/,p=e=>u.test(e)||m.test(e),h=[];for(let e=0;e<=10;e+=1){let t=[];for(let r=0;r<e;r+=1)t.push((0,n.jsx)("br",{},r));h.push(t)}let f=e=>{if(e<=10)return h[e];let t=[];for(let r=0;r<e;r+=1)t.push((0,n.jsx)("br",{},r));return t},x=e=>(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(a.qI,{components:d,children:e.content})},e.id),g=e=>(0,n.jsx)("span",{className:"block",children:f(e.count)},e.id),v=e=>(0,n.jsx)("span",{className:"block whitespace-pre-wrap break-words text-body-sm",style:{overflowWrap:"anywhere"},children:e.content},e.id),b=e=>(function(e){let t=e.split("\n"),r=[],n=[],l=[],a=0,s=null,i=0,o=()=>{"text"===s&&n.length>0?(r.push({type:"text",content:n.join("\n"),id:"text-".concat(i)}),n=[]):"list"===s&&l.length>0?(r.push({type:"list",content:l.join("\n"),id:"list-".concat(i)}),l=[]):"empty"===s&&a>0&&(r.push({type:"empty",count:a,id:"empty-".concat(i)}),a=0)};return t.forEach((e,t)=>{let r=e.trim(),c=""===r,d=!c&&p(r);c?("empty"!==s&&(o(),s="empty",i=t),a+=1):d?("list"!==s&&(o(),s="list",i=t),l.push(e)):("text"!==s&&(o(),s="text",i=t),n.push(e))}),o(),r})(e).map(e=>{switch(e.type){case"list":return x(e);case"empty":return g(e);case"text":return v(e);default:return null}})},3259:function(e,t,r){r.d(t,{g:function(){return s}});var n=r(10250),l=r(82861),a=r(15751);let s=e=>{let{className:t}=e;return(0,n.jsx)(l.E.span,{animate:{scale:[.9,1.1,.9]},transition:{duration:.7,repeat:1/0,ease:"easeInOut"},className:(0,a.cn)("ml-1 inline-flex size-3 rounded-full bg-inverse",t)})}},2089:function(e,t,r){r.d(t,{I:function(){return ed}});var n,l,a,s,i=r(10250),o=r(91031),c=r(3218),d=r(41269),u=r(16800),m=r(28886),p=r(65146),h=r(15751),f=r(33630),x=r(86340);let g=e=>{let{className:t}=e;return(0,i.jsx)("svg",{width:"8",height:"8",fill:"none",viewBox:"0 0 8 8",className:t,children:(0,i.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M4 .667v6.666M1.333 2.205l5.334 3.59m-5.334 0 5.334-3.59"})})},v=e=>{let{creditCount:t}=e;return(0,i.jsxs)("div",{className:"flex items-center gap-[2px] rounded-md bg-fill-secondary px-1 text-center text-label-xs font-normal text-secondary",children:[(0,i.jsx)(g,{className:"text-secondary"}),t]})};var b=r(81974),j=r(69088);let w=e=>{let{content:t}=e;return(0,i.jsx)("div",{className:"rounded-full bg-fill-secondary-active px-1.5 py-0.5 text-label-xs font-bold uppercase text-primary",children:(0,i.jsx)("span",{children:t})})},y=e=>{let{name:t,model:r,description:n,image:l,modelItemClickHandler:a,isCurrentItem:s,showProBanner:o,isPro:c,bannerText:d,isNew:u,showCreditsBanner:m,creditCount:p,isSvg:f,styleId:g,utmParam:y}=e;return(0,i.jsx)("button",{type:"button",className:(0,h.cn)("group/model-selection-item flex h-auto w-full max-w-full cursor-pointer items-center justify-between overflow-y-visible rounded-2xl bg-inherit p-2 pr-3 hover:bg-fill-variant-hover tablet:overflow-hidden",{"border border-primary-hover bg-fill-variant-hover":s}),onClick:e=>{a({event:e,isPro:c,name:t,model:r,styleId:g,utmParam:y})},children:(0,i.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3 overflow-hidden",children:[(0,i.jsx)("div",{className:(0,h.cn)("rounded-xl border border-primary bg-fill-variant p-2 group-hover/model-selection-item:border-primary-hover group-hover/model-selection-item:bg-fill-variant-hover",{"border-primary-hover bg-fill-variant-hover":s}),children:f?(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:l},className:"flex items-center [&>svg]:size-6 [&>svg]:stroke-[1.2px]"}):(0,i.jsx)("div",{className:"relative size-6 shrink-0 overflow-hidden rounded-full",children:(0,i.jsx)(x.default,{src:(0,j.j)(l),alt:t,fill:!0,className:"object-cover"})})}),(0,i.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col items-start justify-start gap-1 overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex w-full min-w-0 items-center gap-1 overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex min-w-0 items-start gap-2 overflow-hidden",children:[(0,i.jsx)("span",{className:"whitespace-nowrap text-label-md",children:t}),u&&(0,i.jsx)("span",{className:"text-[10px] font-medium leading-4 text-brand",children:"NEW"}),o&&(0,i.jsx)(b.t,{}),m&&(0,i.jsx)(v,{creditCount:p})]}),d&&(0,i.jsx)(w,{content:d})]}),(0,i.jsx)("span",{className:"line-clamp-1 w-full text-left text-label-sm text-tertiary",children:n})]})]})})};var N=r(33716);let k=[N.hA.INSTANT,N.hA.PRO,N.hA.LEGACY];(n=a||(a={})).DROPDOWN="dropdown",n.BOTTOM_SHEET="bottomSheet";var M=r(21956),E=r(21633),A=r(23086),S=r(20225);let C=(e,t)=>{let{currentModelInfo:r}=(0,E.j)(),{checkProAccessRequirement:n}=(0,A.D)(),l=(0,S.Td)()(e=>e.models),a=(0,M.useMemo)(()=>l.reduce((e,t)=>{var r;return e[t.category]=[...null!==(r=e[t.category])&&void 0!==r?r:[],t],e},{}),[l]),s=(0,M.useMemo)(()=>{let r=null==e?void 0:e.trim().toLowerCase();return Object.fromEntries(Object.entries(a).map(e=>{let[n,l]=e;return[n,l.filter(e=>{let n=e.name.toLowerCase().includes(r)||e.provider.toLowerCase().includes(r),l=!t||e.provider===t;return n&&l})]}).filter(e=>{let[,t]=e;return t.length>0}))},[a,e,t]),i=(0,M.useMemo)(()=>Object.values(s).some(e=>e.length>0),[s]);return{currentModelInfo:r,filteredModels:s,checkProAccessRequirement:n,shouldShowModels:i}},P=e=>{let{position:t,modelItemClickHandler:r,activeModel:n,searchText:l,selectedProvider:s}=e,{filteredModels:o,checkProAccessRequirement:c,shouldShowModels:d}=C(l,s);return(0,i.jsx)("div",{className:(0,h.cn)("flex w-full flex-col items-start justify-start gap-1",{"gap-2":t===a.BOTTOM_SHEET}),children:d?(0,f.Go)(o).sort((e,t)=>k.indexOf(e[0])-k.indexOf(t[0])).map(e=>{let[l,a]=e;return(null==a?void 0:a.length)>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"p-2 pb-1 text-label-sm font-medium text-tertiary",children:[l," models"]}),null==a?void 0:a.map(e=>(0,i.jsx)(y,{isCurrentItem:n.name===e.name,name:e.name,model:e.model,description:e.description,image:e.image,isPro:e.isPro,isNew:e.isNew,bannerText:e.bannerText,modelItemClickHandler:r,position:t,isSvg:!1,styleId:"",utmParam:e.utmParam,creditCount:0,showCreditsBanner:!1,showProBanner:c({isPro:e.isPro,isModelSelection:!0})},e.name))]})}):(0,i.jsxs)("div",{className:"flex h-[329px] w-full flex-col items-center justify-center gap-2 p-2",children:[(0,i.jsx)(p.W,{className:"size-[18px] text-primary"}),(0,i.jsxs)("span",{className:"w-full text-center text-label-md text-primary",children:["No result found for “",l,"”"]})]})})};(l=s||(s={})).DROPDOWN="dropdown",l.BOTTOM_SHEET="bottomSheet";var _=r(53653);let T=e=>{let{currentModelInfo:t}=(0,E.j)(),{checkProAccessRequirement:r}=(0,A.D)(),{imageGenModels:n}=(0,_.a)(),l=(0,M.useMemo)(()=>{let t=null==e?void 0:e.trim().toLowerCase();return n.filter(e=>e.name.toLowerCase().includes(t))},[n,e]);return{currentModelInfo:t,models:l,checkProAccessRequirement:r,shouldShowModels:l.length>0}},R=e=>{let{position:t,modelItemClickHandler:r,activeModel:n,searchText:l}=e,{models:a,checkProAccessRequirement:o,shouldShowModels:c}=T(l);return(0,i.jsx)("div",{className:(0,h.cn)("flex size-full flex-col items-start justify-start gap-0.5",{"gap-2":t===s.BOTTOM_SHEET}),children:c?a.map(e=>(0,i.jsx)(y,{isCurrentItem:n.name===e.name,name:e.name,model:e.model,description:e.description,image:e.image,isPro:e.isPro,isNew:e.isNew,bannerText:e.bannerText,modelItemClickHandler:r,showProBanner:o({isPro:e.isPro,isModelSelection:!0}),position:t,showCreditsBanner:!!e.creditCount,creditCount:e.creditCount,isSvg:e.isSvg,styleId:e.styleId,utmParam:""},e.name)):(0,i.jsxs)("div",{className:"flex h-[329px] w-full flex-col items-center justify-center gap-2 p-2",children:[(0,i.jsx)(p.W,{className:"size-[18px] text-primary"}),(0,i.jsxs)("span",{className:"w-full text-center text-label-md text-primary",children:["No result found for “",l,"”"]})]})})};var O=r(54679),I=r(51056),Z=r(91897),L=r(38545);let D=e=>{let{selectedProvider:t,setSelectedProvider:r}=e,{providers:n}=(0,E.j)();return(0,i.jsxs)(I.h_,{children:[(0,i.jsxs)(I.$F,{className:"relative w-fit p-0 ring-0",children:[(0,i.jsx)(O.Button,{variant:"icon-outline",shape:"rect",size:"icon-sm",children:(0,i.jsx)(L.V,{})}),t&&(0,i.jsx)("div",{className:"absolute right-1 top-1 z-10 size-1.5 rounded-full bg-fill-brand"})]}),(0,i.jsxs)(I.AW,{side:"bottom",align:"start",className:"flex w-[274px] flex-col gap-0.5 rounded-2xl border border-primary bg-surface-variant p-2 shadow-sm",children:[(0,i.jsx)("p",{className:"p-2 pb-1 text-label-sm font-medium text-tertiary",children:"Providers"}),(0,i.jsxs)(I.Xi,{className:(0,h.cn)("flex w-full items-center gap-2 p-2",{"bg-fill-variant-active":null===t}),onSelect:()=>r(null),children:[(0,i.jsx)(Z.j,{className:"size-[18px] text-secondary"}),(0,i.jsx)("p",{className:"text-label-md font-medium text-primary",children:"All"})]}),n.map(e=>(0,i.jsxs)(I.Xi,{className:(0,h.cn)("flex w-full items-center gap-2 p-2",{"bg-fill-variant-active":t===e.name}),onSelect:()=>r(e.name),children:[(0,i.jsx)("div",{className:"relative size-[18px] shrink-0 overflow-hidden rounded-full",children:(0,i.jsx)(x.default,{src:(0,j.j)(e.image),alt:e.name,fill:!0,className:"object-cover"})}),(0,i.jsx)("p",{className:"text-label-md font-medium text-primary",children:e.name})]},e.name))]})]})},F=e=>{let[t,r]=(0,M.useState)("");return(0,M.useEffect)(()=>{e&&r("")},[e]),{searchText:t,handleSearch:e=>{r(e.target.value)}}},z=e=>{let{isOpen:t,setIsOpen:r}=e,{searchText:n,handleSearch:l}=F(t),[a,s]=(0,M.useState)(null),i=(0,M.useRef)(null),{feature:o}=(0,_.a)();return{feature:o,searchText:n,handleSearch:l,handleTouchStart:(0,M.useCallback)(e=>{i.current=e.touches[0].clientY},[]),handleTouchMove:(0,M.useCallback)(e=>{null!==i.current&&e.touches[0].clientY-i.current>50&&(i.current=null,r(!1))},[r]),handleTouchEnd:(0,M.useCallback)(()=>{i.current=null},[]),selectedProvider:a,setSelectedProvider:s}},B=e=>{let{isOpen:t,setIsOpen:r,modelItemClickHandler:n,activeModel:l}=e,{searchText:a,handleSearch:h,handleTouchStart:f,handleTouchMove:x,handleTouchEnd:g,feature:v,selectedProvider:b,setSelectedProvider:j}=z({isOpen:t,setIsOpen:r});return(0,i.jsx)(c.yo,{open:t,onOpenChange:r,children:(0,i.jsxs)(c.ue,{side:"bottom",className:"h-full max-h-screen w-full rounded-t-2xl border-none p-0 transition-all duration-150 ease-in-out",children:[(0,i.jsxs)(c.Tu,{className:"flex h-16 w-full flex-row items-center justify-between border-b border-b-secondary p-4 text-left",onTouchStart:f,onTouchMove:x,onTouchEnd:g,children:[(0,i.jsx)(c.bC,{className:"text-body-lg font-medium text-primary",children:"Select Model"}),(0,i.jsx)(c.Sv,{})]}),(0,i.jsxs)("div",{className:"flex h-[calc(100%-64px)] flex-col items-center justify-start gap-2 px-2 py-3",children:[(0,i.jsxs)("div",{className:"flex w-full items-center justify-between gap-2 p-1",children:[(0,i.jsx)(o.II,{startSlot:(0,i.jsx)(p.W,{className:"size-5 text-secondary"}),placeholder:"Search...",className:"text-body-sm text-primary placeholder:hover:text-tertiary",onChange:h}),v===m.VS.AI_CHAT&&(0,i.jsx)(D,{selectedProvider:b,setSelectedProvider:j})]}),(0,i.jsx)("div",{className:"h-[calc(100%-36px)] w-full overflow-y-auto",children:v===m.VS.AI_CHAT?(0,i.jsx)(P,{searchText:a,activeModel:l,modelItemClickHandler:n,position:s.BOTTOM_SHEET,selectedProvider:b}):(0,i.jsx)(R,{searchText:a,activeModel:l,modelItemClickHandler:n,position:s.BOTTOM_SHEET})})]}),(0,i.jsx)(d.K,{variant:u.S.Sheet,title:"Model Selection Bottom sheet",description:"This is the description for model selection bottom sheet"})]})})};var H=r(57331),U=r(33817),G=r(23074),W=r(43192),V=r(35787);let X=e=>{let{modelItemClickHandler:t,activeModel:r,isOpen:n}=e,l=(0,H.usePathname)(),{searchText:a,handleSearch:c}=F(n),{feature:d}=(0,_.a)(),{externalLinks:u}=(0,S.Td)()(e=>({externalLinks:e.externalLinks})),[h,f]=(0,M.useState)(null),x=(0,M.useMemo)(()=>l.startsWith(W.H7.IMAGE)?u.IMAGE_GENERATION_HELP:u.MODELS,[l,u]);return(0,i.jsxs)(I.AW,{align:"start","data-lenis-prevent":!0,className:"mt-2 hidden h-[440px] w-[314px] flex-col items-center justify-start gap-2 overflow-hidden rounded-2xl border border-secondary p-0 pt-2 shadow-sm tablet:flex",side:"bottom",children:[(0,i.jsx)("div",{className:"flex w-full items-center justify-between px-2",children:(0,i.jsxs)("div",{className:"flex w-full items-center gap-2 p-1",children:[(0,i.jsx)(o.II,{startSlot:(0,i.jsx)(p.W,{className:"size-[18px] text-secondary"}),placeholder:"Search...",className:"text-body-sm text-primary placeholder:hover:text-tertiary",onChange:c}),d===m.VS.AI_CHAT&&(0,i.jsx)(D,{selectedProvider:h,setSelectedProvider:f})]})}),(0,i.jsxs)(G.x,{className:"flex size-full shrink flex-col px-2",scrollHideDelay:0,type:"hover",children:[d===m.VS.AI_CHAT?(0,i.jsx)(P,{searchText:a,activeModel:r,position:s.DROPDOWN,modelItemClickHandler:t,selectedProvider:h}):(0,i.jsx)(R,{searchText:a,activeModel:r,position:s.DROPDOWN,modelItemClickHandler:t}),(0,i.jsx)(G.B,{orientation:"vertical",className:"w-1"})]}),(0,i.jsx)("div",{className:"flex w-full justify-start border-t border-primary p-4 pt-3",children:(0,i.jsx)(U.Q,{variant:"secondary",size:"xs",href:x,target:"_blank",rel:"noopener noreferrer",endSlot:(0,i.jsx)(V.f,{}),children:"Learn more about models capabilities"})})]})};var Y=r(19322);let q=e=>{let{activeModel:t,variant:r,isTopBar:n}=e;return(0,i.jsxs)(I.$F,{className:(0,h.cn)("h-8 max-w-[178px] items-center gap-1.5 rounded-full px-3 py-2 text-primary ring-0 data-[state=open]:bg-fill-secondary data-[state=open]:ring-0 hover:bg-fill data-[state=open]:hover:bg-fill tablet:max-w-full",{"w-fit max-w-[135px] gap-1 text-label-sm data-[state=open]:bg-transparent data-[state=open]:ring-0 tablet:max-w-full":r===Y.W.SYSTEM_RESPONSE,"w-fit gap-1 text-label-sm data-[state=open]:bg-fill-secondary data-[state=open]:ring-0 hover:bg-fill-secondary":r===Y.W.PROMPT_BOX}),size:"sm",children:["creditCount"in t?(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:t.image},className:"flex items-center [&>svg]:size-5 [&>svg]:stroke-[1.2px]"}):(0,i.jsx)("div",{className:"relative size-5 shrink-0 overflow-hidden rounded-full",children:(0,i.jsx)(x.default,{src:(0,j.j)(t.image),alt:t.name,fill:!0,className:"object-cover"})}),(0,i.jsxs)("p",{className:(0,h.cn)("overflow-hidden overflow-ellipsis whitespace-nowrap text-label-md text-primary",{"text-label-sm":r===Y.W.SYSTEM_RESPONSE}),children:[(0,i.jsx)("span",{className:"block tablet:hidden",children:"provider"in t?t.provider:t.name}),(0,i.jsx)("span",{className:"hidden tablet:block",children:t.name})]}),(0,i.jsx)(I.$P,{className:(0,h.cn)("size-4 shrink-0 stroke-[0.8px] text-secondary",{"stroke-[1.5px]":n})})]})},J=e=>{let{isOpen:t,setIsOpen:r,modelItemClickHandler:n,activeModel:l,variant:a,isTopBar:s}=e;return(0,i.jsxs)(I.h_,{open:t,onOpenChange:r,children:[(0,i.jsx)(q,{activeModel:l,variant:a,isTopBar:s}),(0,i.jsx)(X,{modelItemClickHandler:n,activeModel:l,isOpen:t})]})};var K=r(88729),$=r(21761),Q=r(4206),ee=r(63856),et=r(1820),er=r(9137),en=r(28951),el=r(20504),ea=r(35609),es=r(9540),ei=r(3089),eo=r(20704);let ec=e=>{let{valueChangeHandler:t,setIsOpen:r}=e,n=!(0,en.Av)(),[l,a]=(0,K.v1)(et.t.UTM_MODEL),{imageGenModels:s,imageGenCustomDashboardConfig:i}=(0,S.Td)()(e=>({imageGenModels:e.imageGenModels,imageGenCustomDashboardConfig:e.imageGenCustomDashboardConfig})),o=(0,el.A)(),{setCurrentModel:c}=(0,E.j)(),{setCurrentImageGenModel:d}=(0,er.b)(),{checkProAccessRequirement:u,activePlanName:m}=(0,A.D)(),{openBasicToStandardModal:p,openProModal:h}=(0,es.I)(e=>({openBasicToStandardModal:()=>e.openDialog(ee.W.BASIC_TO_STANDARD_MODAL),openProModal:()=>e.openDialog(ee.W.PRO_MODAL)})),{isUtmModelFlow:f}=(0,ea.o)(),x=(0,H.usePathname)(),g=(0,M.useCallback)(e=>{!0===x.includes(W.H7.IMAGE)?d(s.findLast(t=>t.name===e)):c(e)},[x,d,c,s]);return{isBelowTablet:n,modelItemClickHandler:e=>{let{event:n,isPro:s,name:c,model:d,styleId:v,utmParam:b}=e;if(n.preventDefault(),u({isPro:s,isModelSelection:!0})){let e=(0,eo.y)(c);if(o(e),sessionStorage.setItem(Q.M.POPUP_TRIGGER,e),sessionStorage.setItem(Q.M.MODEL_NAME,e),sessionStorage.setItem(Q.M.ATC_CTA_SOURCE,$.I.PRO_MODELS),sessionStorage.setItem(Q.M.AUTH_TRIGGER,e),m===ei.Sz.STARTER){p(),r(!1);return}h()}else if(null!=t)t(d);else{if(f){if(!0===x.includes(W.H7.IMAGE)){let e=i.findLast(e=>e.styleId===v),t=(null==l?void 0:l.includes("a_"))?"a_":"b_";a("".concat(t).concat(e.utm_model))}else l!==b&&a(null!=b?b:d)}g(c)}r(!1)}}},ed=e=>{let{isOpen:t,setIsOpen:r,variant:n,valueChangeHandler:l,activeModel:a,isTopBar:s}=e,{isBelowTablet:o,modelItemClickHandler:c}=ec({valueChangeHandler:l,setIsOpen:r});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J,{isOpen:t,setIsOpen:r,modelItemClickHandler:c,activeModel:a,variant:n,isTopBar:s}),(0,i.jsx)(B,{isOpen:o&&t,setIsOpen:r,modelItemClickHandler:c,activeModel:a})]})}},19322:function(e,t,r){var n,l;r.d(t,{W:function(){return n}}),(l=n||(n={})).GLOBAL="global",l.SYSTEM_RESPONSE="systemResponse",l.PROMPT_BOX="promptBox"},81974:function(e,t,r){r.d(t,{t:function(){return a}});var n=r(10250),l=r(15751);let a=e=>{let{className:t}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex items-center rounded-md bg-fill-secondary px-1.5",t),children:(0,n.jsx)("span",{className:"text-label-xs font-semibold text-brand",children:"Pro"})})}},31132:function(e,t,r){r.d(t,{U:function(){return d}});var n=r(10250),l=r(21956),a=r(73450);let s=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",className:t,children:(0,n.jsx)("path",{fill:"currentColor",d:"M13.179 2c.242 0 .428.21.428.46v3.22c0 1.83 1.408 3.33 3.113 3.34.708 0 1.267.01 1.696.01h.159c.286-.003.672-.01 1.006-.01.233 0 .419.2.419.45v8.04c0 2.48-1.873 4.49-4.184 4.49H8.398C5.976 22 4 19.89 4 17.29V6.51C4 4.03 5.882 2 8.203 2h4.976Zm.997 12.9h-5.07c-.381 0-.698.33-.698.74s.317.75.699.75h5.069c.382 0 .699-.34.699-.75s-.317-.74-.7-.74Zm-1.92-5h-3.15c-.381 0-.698.34-.698.75s.317.74.699.74h3.15c.381 0 .698-.33.698-.74s-.317-.75-.699-.75Zm2.71-6.994c0-.431.487-.645.765-.334l3.752 4.187c.272.303.073.806-.32.807-.766.003-1.669 0-2.318-.007-1.03 0-1.88-.911-1.88-2.017V2.906Z"})})};var i=r(23412);let o=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",className:t,children:[(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.713 10.374H6.02v1.702h.694a.848.848 0 0 0 .844-.85.849.849 0 0 0-.844-.852ZM11.67 10.37h-.452v3.262h.451c.426 0 .842-.174 1.141-.477.308-.308.475-.717.475-1.154a1.623 1.623 0 0 0-1.616-1.631Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.695 10.37h-1.81v1.3h1.422c.394 0 .714.324.714.722 0 .398-.32.72-.714.72h-1.422v1.24c0 .399-.32.721-.715.721a.718.718 0 0 1-.714-.72V9.649c0-.398.32-.72.715-.72h2.524c.395 0 .715.322.715.72 0 .398-.32.72-.715.72Zm-4.874 3.804c-.565.57-1.35.9-2.152.9h-1.165a.718.718 0 0 1-.714-.721V9.649c0-.398.32-.72.714-.72h1.165A3.062 3.062 0 0 1 14.713 12a3.06 3.06 0 0 1-.892 2.173Zm-7.108-.656H6.02v.828c0 .398-.32.72-.714.72a.718.718 0 0 1-.715-.72V9.653c0-.398.32-.72.715-.72h1.408c1.253 0 2.273 1.027 2.273 2.293a2.285 2.285 0 0 1-2.273 2.292ZM17.65 4H6.348C3.748 4 2 5.844 2 8.588v6.825C2 18.157 3.748 20 6.349 20h11.3C20.25 20 22 18.157 22 15.413V8.588C22 5.844 20.251 4 17.65 4Z",clipRule:"evenodd"})]})};var c=r(25510);let d=e=>{let{type:t,name:r,isUploading:d=!1}=e,u=(0,l.useMemo)(()=>d?(0,n.jsx)(i.c,{className:"size-3 shrink-0 animate-spin text-primary"}):"application/pdf"===t?(0,n.jsx)(o,{className:"size-5 shrink-0 text-[#ff5688]"}):(0,n.jsx)(s,{className:"size-5 shrink-0 text-[#1A73E8]"}),[d,t]);return(0,n.jsx)(a.Rl,{content:r,tooltipContentProps:{className:"max-w-[228px] line-clamp-4"},children:(0,n.jsxs)("div",{className:"flex h-20 w-[228px] flex-col gap-2 rounded-[20px] border border-secondary bg-fill-secondary p-4",children:[(0,n.jsx)("h3",{className:"w-full truncate whitespace-nowrap text-body-sm font-normal text-primary",children:r}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[u,(0,n.jsx)("p",{className:"w-full truncate whitespace-normal text-label-xs uppercase text-secondary",children:(0,c.Av)(t)})]})]})})}},72005:function(e,t,r){r.d(t,{s:function(){return e0}});var n=r(10250),l=r(54679),a=r(73450),s=r(11723),i=r(15751),o=r(57331),c=r(21956),d=r(63856),u=r(28886),m=r(61277),p=r(43192),h=r(1820),f=r(21633),x=r(9137),g=r(84896),v=r(38126),b=r(26280),j=r(79157),w=r(35609),y=r(9540),N=r(20225),k=r(62819),M=r(12072),E=r(2350);let A=e=>{let{openFilePicker:t,currentPromptPreset:r,prompt:n,files:l,loading:a}=e,[s,i]=(0,c.useState)(!1),[A,S]=(0,c.useState)(!1),{handleRedirect:C}=(0,j.J)(),{isUtmModelFlow:P}=(0,w.o)(),{storePromptPresets:_,presetFileButtonTooltipContent:T}=(0,N.Td)()(e=>({storePromptPresets:e.promptPresets,presetFileButtonTooltipContent:e.presetsTooltipContent.fileButton})),R=(0,o.usePathname)(),{getRedirectUrl:O}=(0,b.R)(),{currentAspectRatio:I}=(0,x.b)(),Z=(0,o.useRouter)(),{setCarryForward:L}=(0,v.H)(),{isRecording:D,isProcessing:F}=(0,g.H)(),z=(0,c.useMemo)(()=>!0===R.includes(p.H7.IMAGE)?"Add reference images":T,[R,T]),{currentModelInfo:{shouldDisableFileUpload:B,presets:H}}=(0,f.j)(),{user:U,subscription:G}=(0,k.m)()(e=>({subscription:e.subscription,user:e.user})),{isSubscriptionActive:W}=(0,M.L1)(G),V=!!U&&!W,X=(0,c.useMemo)(()=>(0,E.JE)(R)===u.VS.AI_DOCS,[R]),Y=(0,y.I)(e=>()=>e.openDialog(d.W.PRO_MODAL)),q=P?H:_;return(0,c.useEffect)(()=>{var e,t;r?i(null!==(t=null===(e=q[r].showTooltip)||void 0===e?void 0:e.fileButton)&&void 0!==t&&t):i(!1)},[r]),(0,c.useEffect)(()=>{(r&&n!==q[r].promptText||l.length||a)&&i(!1)},[n,l,a]),{shouldShowAnimation:s,openDisabledTooltip:A,setOpenDisabledTooltip:S,fileButtonTooltipContent:(0,c.useMemo)(()=>B?"This model will support attachments soon":V&&!X?"Go Pro to upload files":z,[B,V,X,z]),shouldDisableFileUploadForModel:B,disabled:B||D||F,tooltipOnOpenChange:e=>{B&&S(e)},handleAttachFileClick:()=>{if((0,E.aw)(R)&&R.includes(p.H7.AI_IMAGE_GENERATOR)){L({prompt:n,feature:u.VS.IMAGE_GENERATION,shouldNotRun:!0}),C({baseRedirectUrl:p.H7.IMAGE,redirectSearchParams:{[m.Ro.ASPECT_RATIO]:I.value,[h.t.SHOULD_CARRY_FORWARD]:"true"},redirectWithAuth:!0});return}if(!U&&!P){L({prompt:n,feature:(0,E.JE)(R)}),Z.push("".concat(p.H7.AUTH,"?redirect=").concat(O()));return}if(V&&!X){Y();return}S(!1),t()}}},S=e=>{let{loading:t,openFilePicker:r,currentPromptPreset:o,prompt:c,files:d}=e,{shouldShowAnimation:u,fileButtonTooltipContent:m,disabled:p,openDisabledTooltip:h,setOpenDisabledTooltip:f,tooltipOnOpenChange:x,shouldDisableFileUploadForModel:g,handleAttachFileClick:v}=A({currentPromptPreset:o,prompt:c,files:d,loading:t,openFilePicker:r});return(0,n.jsx)(a.Rl,{content:m,tooltipTriggerProps:{onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1)},tooltipProps:{open:u||h,onOpenChange:x},tooltipContentProps:{sideOffset:3,side:"bottom"},children:(0,n.jsxs)(l.Button,{variant:"icon-secondary",size:"icon-sm",shape:"pill",onClick:v,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),type:"button",className:(0,i.cn)({"bg-fill-brand-secondary-active text-brand hover:bg-fill-brand-secondary-hover":u&&!g}),disabled:t||p,children:[(0,n.jsx)(s.p,{className:"size-5 stroke-[1.5px]"}),(0,n.jsx)("span",{className:"sr-only",children:"File Button"})]})})};var C=r(23074),P=r(25510),_=r(31132),T=r(86340),R=r(5),O=r(14405),I=r(41269),Z=r(16800);let L=e=>{let{value:t,className:r}=e,l=2*Math.PI*11;return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 ".concat(24," ").concat(24),fill:"none",className:r,children:[(0,n.jsx)("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2,opacity:.2}),(0,n.jsx)("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:l-Math.min(100,Math.max(0,t))/100*l,className:"origin-center -rotate-90 transition-all duration-300"})]})},D=e=>{let{name:t,isUploading:r,imageUrl:l,uploadProgress:s=0}=e;return(0,n.jsx)(a.Rl,{content:t,showArrow:!1,children:(0,n.jsx)(O.hg,{asChild:!0,children:(0,n.jsxs)("div",{className:"relative flex size-20 cursor-pointer items-center gap-2 overflow-hidden rounded-2xl border border-primary",children:[r&&(0,n.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,n.jsx)("div",{className:"size-full overflow-hidden bg-primary",children:(0,n.jsx)(T.default,{src:l,alt:t,width:80,height:80,className:"size-full object-cover"})}),r&&(0,n.jsx)(L,{className:"absolute inset-0 mx-auto my-auto size-8 text-inverse-fixed",value:s})]})})})},F=e=>{let{imageUrl:t,name:r,isUploading:l=!1,uploadProgress:a=0}=e,[s,o]=(0,c.useState)(!1),d=(0,c.useRef)(null);return(0,R.t$)(d,()=>o(!1)),(0,n.jsxs)(O.Vq,{open:s,onOpenChange:o,children:[(0,n.jsx)(D,{name:r,imageUrl:t,isUploading:l,uploadProgress:a}),(0,n.jsxs)(O.cZ,{className:"flex size-full max-w-none items-center justify-center border-0 bg-transparent",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,n.jsx)(O.iK,{className:"dark pointer-events-auto absolute right-4 top-4 z-[60] size-12 text-inverse-fixed *:size-6"}),(0,n.jsx)(I.K,{variant:Z.S.Dialog,title:"Image Preview Dialog",description:"This is a full image preview dialog where user can see the image in full size."}),(0,n.jsx)("div",{className:"relative flex size-full max-h-[85vh] max-w-[90vw] items-center justify-center",children:(0,n.jsx)("div",{className:(0,i.cn)("relative flex size-full items-center justify-center overflow-hidden"),children:(0,n.jsx)(T.default,{ref:d,src:t,alt:r,className:"m-auto max-h-fit max-w-fit rounded-2xl object-contain",fill:!0})})})]})]})};var z=r(47897);let B=e=>{let{removeFile:t,isUploading:r=!1}=e;return(0,n.jsxs)(l.Button,{onClick:t,variant:"icon-secondary",size:"icon-xs",shape:"pill",className:(0,i.cn)("absolute right-2 top-2 flex group-hover/attachment:flex laptop:hidden",{"laptop:flex":r}),children:[(0,n.jsx)(z.b,{className:"!stroke-[1.5] text-primary"}),(0,n.jsx)("span",{className:"sr-only",children:"Remove file"})]})},H=e=>{let{uploadingFiles:t,removeFile:r}=e;return t.files.map((e,l)=>{var a;return(0,n.jsxs)("div",{className:"relative",children:[(0,P.w2)(e.type)?(0,n.jsx)(F,{imageUrl:null==t?void 0:t.filesContent[l],name:e.name,isUploading:!0,uploadProgress:null!==(a=t.filesProgress[l])&&void 0!==a?a:0},"".concat(e.name,"-").concat(l)):(0,n.jsx)(_.U,{type:e.type,name:e.name,isUploading:!0},e.name),(0,n.jsx)(B,{isUploading:!0,removeFile:()=>r(e.id,"uploading")})]},e.id)})},U=e=>{let{uploadingFiles:t,files:r,removeFile:l}=e;return 0===r.length&&(null==t?void 0:t.files.length)===0?null:(0,n.jsxs)(C.x,{type:"auto",className:"has-[[data-state=visible]]:pb-1.5",children:[(0,n.jsxs)("div",{className:"flex w-full gap-2 pt-3",children:[r.map(e=>(0,n.jsxs)("div",{className:(0,i.cn)("group/attachment relative",{"rounded-2xl":1===r.length&&"image_url"===r[0].type}),children:["image_url"===e.type&&(0,n.jsx)(F,{imageUrl:e.file_url.url,name:e.name}),"file"===e.type&&(0,n.jsx)(_.U,{type:e.mimetype,name:e.name}),(0,n.jsx)(B,{removeFile:()=>l(e.id,"uploaded")})]},e.id)),(0,n.jsx)(H,{uploadingFiles:t,removeFile:l})]}),(0,n.jsx)(C.B,{orientation:"horizontal"})]})};var G=r(76431),W=r(92937),V=r(6185),X=r(18616),Y=r(12790),q=r(99518),J=r(17900),K=r(68062),$=r(43075),Q=r(85587),ee=r(28030);let et=Q.hj.create({name:"doubleClickWordSelect",addProseMirrorPlugins:()=>[new ee.Sy({key:new ee.H$("doubleClickWordSelect"),props:{handleDoubleClick(e,t){let{state:r}=e,{doc:n}=r,l=n.resolve(t),a=l.parent;if(!a.isTextblock)return!1;let s=a.textContent,i=l.parentOffset,o=i,c=i,d=e=>/[\w\u00C0-\u024F]/.test(e);for(;o>0&&d(s[o-1]);)o--;for(;c<s.length&&d(s[c]);)c++;if(o!==c){let t=l.start()+o,a=l.start()+c,s=r.tr.setSelection(ee.Bs.create(n,t,a));return e.dispatch(s),!0}return!1}}})]}),er=Q.hj.create({name:"modifiedBackspaceExtension",addKeyboardShortcuts:()=>({Backspace:e=>{let{editor:t}=e,{state:r}=t,{selection:n}=r,{$from:l}=n;if(!t.isActive("listItem"))return!1;let a=l.depth;for(;a>0&&"listItem"!==l.node(a).type.name;)a--;if(0===a)return!1;let s=0===l.node(a).textContent.length,i=l.start(a),o=l.pos-i<=1;return(!!s||!!o)&&t.commands.liftListItem("listItem")}})}),en=Q.hj.create({name:"modifiedEnterExtension",addKeyboardShortcuts:()=>({Enter:()=>window.innerWidth>768,"Shift-Enter":e=>{let{editor:t}=e;return t.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.splitListItem("listItem"),()=>t.liftEmptyBlock(),()=>t.splitBlock()]})}})});var el=r(92337);let ea=Q.hj.create({name:"preserveNewlinesPaste",addProseMirrorPlugins:()=>[new ee.Sy({key:new ee.H$("preserveNewlinesPaste"),props:{handlePaste:(e,t)=>{var r,n;let l=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text/plain"),a=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");if(!l||a&&!l.includes("\n"))return!1;let{state:s,dispatch:i}=e,{schema:o,tr:c}=s,d=l.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),u=o.nodes.paragraph;if(!u)return!1;let m=d.map(e=>""===e?u.create():u.create(null,o.text(e))),p=el.HY.fromArray(m),h=new el.p2(p,1,1);return i(c.replaceSelection(h).scrollIntoView()),!0}}})]}),es=e=>{let{children:t,initialContent:r="",placeholder:l="Type your message...",additionalExtensions:a=[],autoFocus:s=!0,immediatelyRender:i=!1}=e,o=(0,c.useRef)(l),d=[W.Z.extend({renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):""}),q.Z,X.Z,J.QA,Y.Z.configure({placeholder:e=>{let{node:t}=e;return"orderedList"===t.type.name||"bulletList"===t.type.name?"":o.current}}),K.UG.configure({indentation:{style:"space",size:2},markedOptions:{breaks:!0,gfm:!0}}),V.Ne.configure({taskItem:!1,taskList:!1,bulletList:{HTMLAttributes:{class:"list-disc ml-2"}},orderedList:{HTMLAttributes:{class:"list-decimal ml-4"}},listItem:{HTMLAttributes:{class:"ml-4"}}}),en,er,et,ea,...a],u=(0,$.jE)({extensions:d,content:r,autofocus:s,immediatelyRender:i,contentType:"markdown"});(0,c.useEffect)(()=>{o.current=l,null==u||u.view.dispatch(u.state.tr)},[l,u]);let m=c.useMemo(()=>({editor:u}),[u]);return(0,n.jsx)($.rU.Provider,{value:m,children:t})};var ei=r(28337);let eo=e=>{let{dynamicPlaceholder:t}=e,r=(0,o.usePathname)();if(!r)return"Ask anything...";let n=(0,E.JE)(r);return n===u.VS.IMAGE_GENERATION?"Ask to design anything...":n===u.VS.AI_DOCS?"Ask to create or edit document":t||"Ask anything..."};var ec=r(78704),ed=r(67226),eu=r(2089),em=r(19322),ep=r(25788),eh=r(82861),ef=r(38819),ex=r(33472),eg=r(23412);let ev=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:(0,n.jsx)("path",{d:"M9.58398 15.1923V17.5M9.58398 15.1923C6.13221 15.1923 3.33398 12.351 3.33398 8.84614M9.58398 15.1923C13.0358 15.1923 15.834 12.351 15.834 8.84614M12.9934 8.84613V5.96156C12.9934 4.04979 11.4671 2.5 9.58427 2.5C7.70147 2.5 6.17517 4.04979 6.17517 5.96156V8.84613C6.17517 10.7579 7.70147 12.3077 9.58427 12.3077C11.4671 12.3077 12.9934 10.7579 12.9934 8.84613Z",stroke:"currentColor",strokeWidth:"currentStroke",strokeLinecap:"round",strokeLinejoin:"round"})})};var eb=r(15210);let ej=e=>{let{generatingResponse:t,allowConcurrentPrompts:r,allowMessageStop:n,prompt:l,hasFiles:a}=e,{isRecording:s,isProcessing:i,startRecording:o,stopRecording:u,cancelRecording:m}=(0,g.H)(),p=(0,k.m)()(e=>e.user),h=(0,k.m)()(e=>{var t;return null===(t=e.subscription)||void 0===t?void 0:t.isActive}),{openProModal:f}=(0,y.I)(e=>({openProModal:()=>e.openDialog(d.W.PRO_MODAL)})),x=(0,c.useMemo)(()=>t&&n,[t,n]),v=(0,c.useMemo)(()=>!p||(!t||t&&r)&&(0!==l.length||a)&&!s,[p,t,r,l.length,a,s]);return{shouldRenderPauseButton:x,shouldRenderSubmitButton:v,shouldRenderAudioButton:(0,c.useMemo)(()=>p&&0===l.length&&!s&&!i,[p,s,i,l.length]),shouldRenderStopAndCancelButtons:(0,c.useMemo)(()=>p&&(s||i),[p,s,i]),isProcessing:i,stopRecording:u,cancelRecording:m,handleMicrophoneClick:(0,c.useCallback)(()=>{h?o():f()},[h,f,o])}},ew=e=>{let{disabled:t,generatingResponse:r,stopMessage:a,allowMessageStop:s,allowConcurrentPrompts:o,showLoader:c,prompt:d,hasFiles:u}=e,{shouldRenderPauseButton:m,shouldRenderSubmitButton:p,shouldRenderAudioButton:h,shouldRenderStopAndCancelButtons:f,stopRecording:x,cancelRecording:g,isProcessing:v,handleMicrophoneClick:b}=ej({generatingResponse:r,allowConcurrentPrompts:o,allowMessageStop:s,prompt:d,hasFiles:u});return c?(0,n.jsx)("div",{className:"flex items-center gap-3 ",children:(0,n.jsx)(l.Button,{type:"button",variant:"icon-primary",size:"icon-sm",shape:"pill",onClick:a,disabled:!0,children:(0,n.jsx)(eg.c,{className:"animate-spin stroke-[1.5]"})})}):m?(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsx)(l.Button,{type:"button",variant:"icon-primary",size:"icon-sm",shape:"pill",onClick:a,children:(0,n.jsx)(eb.f,{})})}):h||p?(0,n.jsxs)("div",{className:"flex items-center",children:[h&&(0,n.jsx)(l.Button,{type:"button",variant:u?"icon-ghost":"icon-primary",size:"icon-sm",shape:"pill",disabled:v,onClick:b,className:(0,i.cn)("!transition-none",{"mr-3":u}),children:(0,n.jsx)(ev,{className:"!stroke-[1.5]"})}),(0,n.jsx)(ep.M,{mode:"wait",children:p&&(0,n.jsx)(eh.E.div,{initial:{opacity:0!==d.length?1:0,width:0!==d.length?"auto":0},animate:{opacity:1,width:"auto"},exit:{opacity:0!==d.length?1:0,width:0!==d.length?"auto":0},transition:{type:"spring",stiffness:500,damping:30},style:{overflow:"hidden"},children:(0,n.jsx)(l.Button,{type:"submit",variant:"icon-primary",size:"icon-sm",shape:"pill",disabled:t,onClick:e=>e.stopPropagation(),children:(0,n.jsx)(ef.H,{})})})})]}):f?(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(l.Button,{type:"button",variant:"icon-ghost",size:"icon-sm",shape:"pill",disabled:v,onClick:g,children:(0,n.jsx)(z.b,{})}),v?(0,n.jsx)(l.Button,{type:"button",variant:"icon-ghost",size:"icon-sm",shape:"pill",disabled:!0,children:(0,n.jsx)(eg.c,{className:"animate-spin"})}):(0,n.jsx)(l.Button,{type:"button",variant:"icon-ghost",size:"icon-sm",shape:"pill",onClick:e=>{e.preventDefault(),e.stopPropagation(),x()},children:(0,n.jsx)(ex.n,{})})]}):null};var ey=r(51056),eN=r(19947),ek=r(6322),eM=r(25428);let eE=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M15 10.765v.847c0 1.186 0 1.779-.218 2.232a2.062 2.062 0 0 1-.874.925C13.48 15 12.92 15 11.8 15H6.2c-1.12 0-1.68 0-2.108-.23a2.062 2.062 0 0 1-.874-.926C3 13.39 3 12.798 3 11.612v-.847m9.333-4.236L9 3m0 0L5.667 6.53M9 3v8.47"})})},eA=e=>{let{openFilePicker:t,setIsWebSearch:r,isWebSearch:a}=e;return(0,R.O_)()?(0,n.jsxs)(ey.h_,{children:[(0,n.jsx)(ey.$F,{className:"flex size-8 items-center justify-center rounded-full p-0 ring-0",children:(0,n.jsx)(l.Button,{variant:"icon-secondary",shape:"pill",size:"icon-sm",children:(0,n.jsx)(s.p,{})})}),(0,n.jsxs)(ey.AW,{className:"flex w-[214px] flex-col gap-1 rounded-2xl border border-primary bg-surface-variant p-2 shadow-sm",side:"bottom",align:"start",children:[(0,n.jsxs)(ey.Xi,{className:"flex w-full items-center gap-2 px-2.5 py-2 text-label-md text-primary",onClick:t,children:[(0,n.jsx)(eE,{className:"size-[18px] !stroke-[1.8] text-secondary"}),"Upload file"]}),(0,n.jsx)(ey.VD,{}),(0,n.jsxs)(ey.Xi,{className:"flex w-full items-center justify-between gap-2 px-2.5 py-2 text-label-md text-primary",onClick:()=>r(!a),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eM.j,{className:"size-[18px] stroke-[1.4] text-secondary"}),"Web search"]}),(0,n.jsx)(eN.r,{checked:a,onCheckedChange:r})]}),(0,n.jsxs)(ey.Xi,{className:"flex w-full items-center justify-between gap-2 px-2.5 py-2 text-label-md data-[disabled]:text-primary",disabled:!0,children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(ek.i,{className:"size-[18px] stroke-[1.4] text-secondary"}),"Connectors"]}),(0,n.jsx)("div",{className:"rounded-md bg-fill-secondary px-1.5 text-label-xs font-semibold text-brand",children:"Soon"})]})]})]}):null};var eS=r(28951),eC=r(38545),eP=r(95374),e_=r(50590),eT=r(5146);let eR=e=>{let{settingsOpen:t,setSettingsOpen:r,title:a,children:s,className:o}=e,c=(0,eT.u)();return(0,n.jsxs)(e_.J2,{open:t,onOpenChange:r,children:[(0,n.jsx)(eP.tW,{virtualRef:c}),(0,n.jsxs)(e_.yk,{className:(0,i.cn)("flex h-[368px] w-[496px] flex-col gap-5 border-none px-5 pb-5 pt-4",o),side:"top",sideOffset:20,avoidCollisions:!0,align:"center",children:[(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-body-md font-medium text-primary",children:a}),(0,n.jsx)(e_.xp,{asChild:!0,children:(0,n.jsx)(l.Button,{variant:"ghost",size:"icon-sm",children:(0,n.jsx)(z.b,{className:"size-4 text-primary"})})})]}),s]})]})};var eO=r(3218);let eI=e=>{let{settingsOpen:t,setSettingsOpen:r,title:l,children:a,className:s}=e;return(0,n.jsx)(eO.yo,{open:t,onOpenChange:r,children:(0,n.jsxs)(eO.ue,{side:"bottom",className:(0,i.cn)("h-[436px] w-full rounded-t-2xl border-none p-0",s),children:[(0,n.jsxs)(eO.Tu,{className:"flex h-16 w-full flex-row items-center justify-between border-b border-b-secondary p-4 text-left",children:[(0,n.jsx)(eO.bC,{className:"text-body-lg font-medium text-primary",children:l}),(0,n.jsx)(eO.Sv,{})]}),(0,n.jsx)("div",{className:"size-full max-h-[372px] p-4",children:a}),(0,n.jsx)(eO.Ei,{className:"hidden"})]})})};var eZ=r(17393),eL=r(76485),eD=r(34870);let eF=()=>{let[e,t]=(0,c.useState)(!1),{isAnyDialogOpen:r}=(0,y.I)(e=>({isAnyDialogOpen:e.isAnyDialogOpen()})),{setTooltipOpen:n,isAnyTooltipOpen:l,isPromptBoxTooltipOpen:a}=(0,eD._)(e=>({setTooltipOpen:e.setTooltipOpen,isAnyTooltipOpen:e.isAnyTooltipOpen(),isPromptBoxTooltipOpen:e.isTooltipOpen(eL.H.IMAGE_SETTINGS)}));return(0,c.useEffect)(()=>{"true"!==localStorage.getItem(eZ.d.HAS_SEEN_IMAGE_GEN_TOOLTIP)&&(localStorage.setItem(eZ.d.HAS_SEEN_IMAGE_GEN_TOOLTIP,"true"),n(eL.H.IMAGE_SETTINGS,!0))},[l]),(0,c.useEffect)(()=>{if(r){t(!1);return}t(!0)},[r]),{open:a,setOpenTooltip:e=>{n(eL.H.IMAGE_SETTINGS,e),n(eL.H.APP_DOWNLOAD,!e)},showOnboarding:e}},ez=async e=>{let t=e.getAnimations().filter(e=>"running"===e.playState);t.length>0&&await Promise.all(t.map(e=>e.finished))},eB=e=>{let{setSettingsOpen:t}=e;return{handleSettingsBtnClick:async e=>{e.stopPropagation();let r=document.getElementById(ed.mk.PROMPT);null!==r&&await ez(r),t(e=>!e)}}};var eH=r(19091);let eU=e=>{let{active:t=!1,fftSize:r=256,smoothingTimeConstant:l=.8,sensitivity:a=1,onError:s,historySize:o=150,updateRate:d=50,barWidth:u=3,barHeight:m=4,barGap:p=1,barRadius:h=1,barColor:f,fadeEdges:x=!0,fadeWidth:g=24,height:v=128,className:b,savedHistoryRef:j,dragOffset:w,setDragOffset:y,enableAudioPlayback:N=!0,playbackRate:k=1,...M}=e,[E,A]=(0,c.useState)(0),[S,C]=(0,c.useState)(!1),[P,_]=(0,c.useState)(null),T=(0,c.useRef)(null),R=(0,c.useRef)(null),O=(0,c.useRef)([]),I=j||O,Z=(0,c.useRef)(null),L=(0,c.useRef)(null),D=(0,c.useRef)(null),F=(0,c.useRef)(0),z=(0,c.useRef)(0),B=(0,c.useRef)(0),H=(0,c.useRef)(0),U=(0,c.useRef)(0),G=(0,c.useRef)(null),W=(0,c.useRef)([]),V=(0,c.useRef)(null),X=(0,c.useRef)(null),Y=(0,c.useRef)(null),q=(0,c.useMemo)(()=>null!=w?w:E,[w,E]),J=(0,c.useMemo)(()=>null!=y?y:A,[y,A]),K=(0,c.useMemo)(()=>"number"==typeof v?"".concat(v,"px"):v,[v]),{theme:$,systemTheme:Q}=(0,eH.F)(),ee=(0,c.useMemo)(()=>"dark"===("system"===$?Q:$)?"#E6E6E6":"#333333",[$,Q]),et=(0,c.useCallback)((e,t)=>{if(!N||!V.current||!L.current)return;Y.current&&Y.current.stop();let r=L.current.createBufferSource();r.buffer=V.current;let n=Math.abs(t);r.playbackRate.value=t>0?Math.min(3,1+.1*n):Math.max(-3,-1-.1*n);let l=L.current.createBiquadFilter();l.type="lowpass",l.frequency.value=Math.max(200,2e3-100*n),r.connect(l),l.connect(L.current.destination);let a=Math.max(0,Math.min(e,V.current.duration-.1));r.start(0,a,.1),Y.current=r},[N]),er=(0,c.useCallback)(e=>{if(!N||!V.current||!L.current)return;X.current&&X.current.stop();let t=L.current.createBufferSource();t.buffer=V.current,t.playbackRate.value=k,t.connect(L.current.destination);let r=Math.max(0,Math.min(e,V.current.duration));t.start(0,r),X.current=t,U.current=L.current.currentTime-r,_(r),t.onended=()=>{_(null)}},[N,k]),en=(0,c.useCallback)(e=>{t||0===I.current.length||(e.preventDefault(),C(!0),B.current=e.clientX,H.current=q)},[t,I,q]);return(0,c.useEffect)(()=>{let e=T.current,t=R.current;if(!e||!t)return;let r=new ResizeObserver(()=>{let r=t.getBoundingClientRect(),n=window.devicePixelRatio||1;e.width=r.width*n,e.height=r.height*n,e.style.width="".concat(r.width,"px"),e.style.height="".concat(r.height,"px");let l=e.getContext("2d");l&&l.scale(n,n)});return r.observe(t),()=>r.disconnect()},[]),(0,c.useEffect)(()=>{let e=async e=>{try{let t=await e.arrayBuffer();if(L.current){let e=await L.current.decodeAudioData(t);V.current=e}}catch(e){}};if(!t){G.current&&"inactive"!==G.current.state&&G.current.stop(),D.current&&D.current.getTracks().forEach(e=>e.stop()),N&&W.current.length>0&&e(new Blob(W.current,{type:"audio/webm"}));return}return null==J||J(0),I.current=[],W.current=[],V.current=null,_(null),(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});D.current=e;let t=new(window.AudioContext||window.webkitAudioContext),n=t.createAnalyser();if(n.fftSize=r,n.smoothingTimeConstant=l,t.createMediaStreamSource(e).connect(n),L.current=t,Z.current=n,N){let t=new MediaRecorder(e);G.current=t,t.ondataavailable=e=>{e.data.size>0&&W.current.push(e.data)},t.start(100)}}catch(e){null==s||s(e)}})(),()=>{G.current&&"inactive"!==G.current.state&&G.current.stop(),D.current&&D.current.getTracks().forEach(e=>e.stop()),X.current&&X.current.stop(),Y.current&&Y.current.stop()}},[t,r,l,s,J,N,I]),(0,c.useEffect)(()=>{let e;if(null===P||!V.current)return;let t=()=>{if(L.current&&X.current&&V.current){var r,n;let l=P+(L.current.currentTime-U.current)*k;if(l<V.current.duration){let n=Math.floor(l/V.current.duration*I.current.length),a=u+p,s=Math.floor(((null===(r=R.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0)/a),i=-(n-(I.current.length-s))*a,o=Math.max(-(I.current.length-s)*a,Math.min(0,i));null==J||J(o),e=requestAnimationFrame(t)}else{_(null);let e=u+p,t=(null===(n=R.current)||void 0===n?void 0:n.getBoundingClientRect().width)||0;null==J||J(-(I.current.length-Math.floor(t/e))*e)}}};return e=requestAnimationFrame(t),()=>{e&&cancelAnimationFrame(e)}},[P,k,u,m,p,J,I]),(0,c.useEffect)(()=>{let e=T.current;if(!e||!t&&0===I.current.length&&null===P)return;let r=e.getContext("2d");if(!r)return;let n=l=>{if(t&&l-z.current>d&&(z.current=l,Z.current)){let e=new Uint8Array(Z.current.frequencyBinCount);Z.current.getByteFrequencyData(e);let t=0;for(let r=0;r<e.length;r++)t+=e[r];let r=t/e.length/255*a;I.current.push(Math.min(1,Math.max(.05,r))),I.current.length>o&&I.current.shift()}let s=e.getBoundingClientRect();r.clearRect(0,0,s.width,s.height);let i=ee||"#9E9E9E",c=u+p,f=Math.floor(s.width/c),v=s.height/2,b=I.current;if(b.length>0){let e=Math.floor(q/c);for(let n=0;n<f;n++){let l;if((l=t?b.length-1-n:Math.max(0,Math.min(b.length-1,b.length-1-n-Math.floor(e))))>=0&&l<b.length){let e=b[l];if(void 0!==e){let t=s.width-(n+1)*c,l=Math.max(m,e*s.height*.7),a=v-l/2;r.fillStyle=i,r.globalAlpha=.3+.7*e,h>0?(r.beginPath(),r.roundRect(t,a,u,l,h),r.fill()):r.fillRect(t,a,u,l)}}}}if(x&&g>0){let e=r.createLinearGradient(0,0,s.width,0),t=Math.min(.2,g/s.width);e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(t,"rgba(255,255,255,0)"),e.addColorStop(1-t,"rgba(255,255,255,0)"),e.addColorStop(1,"rgba(255,255,255,1)"),r.globalCompositeOperation="destination-out",r.fillStyle=e,r.fillRect(0,0,s.width,s.height),r.globalCompositeOperation="source-over"}r.globalAlpha=1,F.current=requestAnimationFrame(n)};return(t||I.current.length>0||null!==P)&&(F.current=requestAnimationFrame(n)),()=>{F.current&&cancelAnimationFrame(F.current)}},[t,a,d,o,u,m,p,h,f,x,g,q,P,I,ee]),(0,c.useEffect)(()=>{if(!S)return;let e=0,t=B.current,r=r=>{var n;let l=r.clientX-B.current,a=H.current-.5*l,s=u+p,i=I.current.length,o=Math.max(0,Math.min(Math.max(0,(i-Math.floor(((null===(n=T.current)||void 0===n?void 0:n.getBoundingClientRect().width)||0)/s))*s),a));null==J||J(o);let c=Date.now();if(N&&V.current&&c-e>50){e=c;let n=Math.max(0,Math.min(i-1,i-1-Math.floor(o/s)))/i*V.current.duration,l=r.clientX-t;t=r.clientX,et(Math.max(0,Math.min(V.current.duration-.1,n)),l)}},n=()=>{if(C(!1),N&&V.current){let e=u+p,t=I.current.length,r=Math.max(0,Math.min(t-1,t-1-Math.floor(q/e)))/t*V.current.duration;er(Math.max(0,Math.min(V.current.duration-.1,r)))}Y.current&&Y.current.stop()};return document.addEventListener("mousemove",r),document.addEventListener("mouseup",n),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n)}},[S,u,p,J,q,N,et,er,I]),(0,n.jsx)("div",{className:(0,i.cn)("relative flex items-center",!t&&I.current.length>0&&"cursor-pointer",b),onMouseDown:en,ref:R,role:!t&&I.current.length>0?"slider":void 0,"aria-label":!t&&I.current.length>0?"Drag to scrub through recording":void 0,"aria-valuenow":!t&&I.current.length>0?Math.abs(q):void 0,"aria-valuemin":!t&&I.current.length>0?0:void 0,"aria-valuemax":!t&&I.current.length>0?I.current.length:void 0,tabIndex:!t&&I.current.length>0?0:void 0,style:{height:K},...M,children:(0,n.jsx)("canvas",{className:"block h-full w-full",ref:T})})},eG=e=>{let{time:t}=e;return(0,n.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,n.jsx)(eU,{active:!0,updateRate:42,sensitivity:5,barGap:1,barWidth:4,fadeEdges:!0,className:"max-h-12 flex-grow tablet:max-h-8"}),(0,n.jsxs)("p",{className:"min-w-8 text-label-md text-secondary",children:[Math.floor(t/60),":",String(t%60).padStart(2,"0")]})]})};var eW=r(88729),eV=r(51697),eX=r(15135);let eY=e=>{let{formHook:t,onSubmit:r,currentPromptPreset:n,onFilePaste:l,allowFilesUpload:a,autoExpand:s,className:x}=e,[g,b]=(0,c.useState)(!1),j=(0,c.useRef)(!1),[w,N]=(0,eW.v1)(m.Ro.IS_FOCUSED),[k,M]=(0,eW.v1)(m.Ro.REUSE_INPUTS),A=(0,o.useSearchParams)(),S=(0,o.useRouter)(),C=(0,y.I)(e=>e.isDialogOpen(d.W.IMAGE_INSPIRATION_FULL_VIEW)),P=(0,o.usePathname)(),_=(0,eS.Av)(),T=(0,eS.Ws)(),R=!_,O=(0,eV.qo)({control:t.control,name:ed.mk.PROMPT}),{isLandingPageChat:I}=(0,f.j)(),Z=_&&!I||T||P!==p.H7.AUTH,{editor:L}=(0,$.fi)(),{readCarryForward:D,clearCarryForward:F}=(0,v.H)(),z=null==P?void 0:P.includes(p.H7.SEARCH_ENGINE),B=(0,c.useMemo)(()=>(0,E.JE)(P),[P]),H=null==P?void 0:P.includes(p.H7.IMAGE),U=(null==P?void 0:P.includes(p.H7.CHAT))||P===p.H7.ROOT;return(0,c.useEffect)(()=>{if(!L)return;let e=e=>{let{event:t}=e;t.clipboardData&&Array.from(t.clipboardData.items).some(e=>"file"===e.kind)&&(l(t),t.preventDefault())},r=()=>{let e=L.getMarkdown();j.current=!0,t.setValue(ed.mk.PROMPT,e,{shouldValidate:!0})},n=()=>{L.view.dom.scrollTop=L.view.dom.scrollHeight},a=()=>{L.view.dom.scrollTop=0};return L.on("paste",e),L.on("update",r),L.on("focus",n),L.on("blur",a),()=>{L.off("paste",e),L.off("update",r),L.off("focus",n),L.off("blur",a)}},[L,t,l]),(0,c.useEffect)(()=>{L&&L.setOptions({editorProps:{attributes:{class:(0,i.cn)("max-h-48 w-full cursor-text overflow-auto bg-inherit p-0 text-markdown-body font-normal text-primary opacity-100 placeholder:text-tertiary border-none outline-none ring-0 transition-[max-height] duration-700 ease-in-out scrollbar-minimal",{"pl-4":!a&&!H&&!z&&U,"max-h-6 overflow-hidden whitespace-nowrap focus:whitespace-normal focus:overflow-y-auto focus:max-h-48":s&&""!==O.trim(),"max-h-16":C},x)}}})},[L,a,s,O,x,H,z,U,C]),(0,c.useEffect)(()=>{L&&P&&""===O.trim()&&L.commands.clearContent()},[P,L,O]),(0,c.useEffect)(()=>{L&&n&&n!==L.getText()?L.commands.setContent(n):null==L||L.commands.clearContent()},[L,n]),(0,c.useEffect)(()=>{Z&&(R?null==L||L.commands.blur():null==L||L.commands.focus(),t.setFocus(ed.mk.PROMPT))},[P,Z,n]),(0,c.useEffect)(()=>{(T||n)&&(R||null==L||L.commands.focus(),t.setFocus(ed.mk.PROMPT))},[P,n,T]),(0,c.useEffect)(()=>{"true"===k&&L&&O!==L.getText()&&(L.commands.setContent(O),M(null))},[L,k,M]),(0,c.useEffect)(()=>{"true"===w&&(null==L||L.commands.focus("start",{scrollIntoView:!1}),N(null))},[w,L,O,N]),(0,c.useEffect)(()=>{let e=D(),r="true"===A.get(h.t.SHOULD_CARRY_FORWARD);if((P===p.H7.AUTH||r)&&L&&(null==e?void 0:e.prompt)&&(t.setValue(ed.mk.PROMPT,e.prompt),t.setValue(ed.mk.FILES,e.files),L.commands.setContent(e.prompt),r)){let e=new URLSearchParams(A.toString());e.delete(h.t.SHOULD_CARRY_FORWARD);let t=e.toString()?"".concat(P,"?").concat(e):P;S.replace(t,{scroll:!1})}},[P,L,t,D,A,S]),(0,c.useEffect)(()=>{if(!L||B!==u.VS.AI_CHAT)return;if(j.current){j.current=!1;return}let e=null!=O?O:"";L.getMarkdown()!==e&&L.commands.setContent(e)},[L,O,B]),(0,c.useEffect)(()=>{let e=D(eX.s.IMAGE_GEN_CARRY_FORWARD);P===p.H7.IMAGE&&L&&(null==e?void 0:e.prompt)&&e.files&&(t.setValue(ed.mk.PROMPT,e.prompt),t.setValue(ed.mk.FILES,e.files),L.commands.setContent(e.prompt),F(eX.s.IMAGE_GEN_CARRY_FORWARD))},[P,L,t,D,F]),{editor:L,watchValue:O,onKeyDown:e=>{let{event:n}=e;if("Enter"===n.key&&_&&(n.preventDefault(),!g&&null!=L)){if(n.shiftKey)return!1;L.commands.focus("end"),t.handleSubmit(r)()}return!0},handleCompositionStart:()=>b(!0),handleCompositionEnd:()=>b(!1)}},eq=e=>{let{autoExpand:t=!1,formHook:r,onFilePaste:l,currentPromptPreset:a,allowFilesUpload:s,className:i,onSubmit:o,clearOnSubmit:c=!0}=e,{editor:d,onKeyDown:u,handleCompositionStart:m,handleCompositionEnd:p}=eY({clearOnSubmit:c,formHook:r,onSubmit:o,currentPromptPreset:a,autoExpand:t,onFilePaste:l,allowFilesUpload:s,className:i}),{isRecording:h,time:f}=(0,g.H)();return h?(0,n.jsx)(eG,{time:f}):(0,n.jsx)("div",{className:"flex min-h-12 w-full items-start justify-center tablet:min-h-8",children:(0,n.jsx)(G.Wi,{control:r.control,name:ed.mk.PROMPT,render:()=>(0,n.jsx)(G.NI,{children:(0,n.jsx)($.kg,{name:ed.mk.PROMPT,editor:d,onKeyDown:e=>(u({event:e}),!0),onCompositionStart:()=>(m(),!1),onCompositionEnd:()=>(p(),!1),className:"w-full border-none bg-inherit px-2 py-1"})})})})};var eJ=r(5899),eK=r(53653);let e$=e=>{let{formHook:t,onSubmit:r,clearOnSubmit:n}=e,{editor:l}=(0,$.fi)(),[a,s]=(0,c.useState)(!1),{currentModelInfo:i}=(0,eK.a)(),{isWebSearch:o,setIsWebSearch:d}=(0,eJ.m)(),[u,m]=(0,c.useState)(!1),[p,f]=(0,eW.v1)(h.t.IS_WEB_SEARCH,eW.AE),x=(0,c.useCallback)(e=>{if(e.preventDefault(),l){let e=l.getMarkdown();t.setValue(ed.mk.PROMPT,e,{shouldValidate:!0}),t.handleSubmit(r)(),n&&l.commands.clearContent()}},[n,r,l]),g=(0,c.useCallback)(()=>{l&&l.commands.focus()},[l]);return(0,c.useEffect)(()=>{if(p){d(p),m(!0);let e=setTimeout(()=>{m(!1),f(null)},1200);return()=>clearTimeout(e)}},[p,d,f]),{handleSubmit:x,onContainerClick:g,isModelSelectionOpen:a,setIsModelSelectionOpen:s,currentModelInfo:i,isWebSearch:o,setIsWebSearch:d,shouldAnimateBorder:u}},eQ=e=>{let{children:t,className:r,autoExpand:s=!1,allowFilesUpload:o=!0,allowMessageStop:c=!0,allowConcurrentPrompts:d=!1,formHook:u,files:m=[],uploadingFiles:p=ei.Of,openFilePicker:h=()=>{},removeFile:f=()=>{},onSubmit:x,prompt:g,disabled:v,generatingResponse:b,stopMessage:j=()=>{},onFilePaste:w=()=>{},currentPromptPreset:y=null,shouldShowTooltipAnimation:N,promptBoxPresetTooltipContent:k,clearOnSubmit:M=!0,showSingleLinePromptBox:E=!1,showSelectionInPromptBox:A=!1,promptBoxSelectionText:C="",handleCloseReferencing:P=()=>{},showLoader:_=!1,showWebSearchToggle:T=!1,showModelDropdown:R=!1}=e,{handleSubmit:O,onContainerClick:I,currentModelInfo:Z,isModelSelectionOpen:L,setIsModelSelectionOpen:D,isWebSearch:F,setIsWebSearch:B,shouldAnimateBorder:H}=e$({formHook:u,onSubmit:x,clearOnSubmit:M});return(0,n.jsx)(a.Rl,{content:k,tooltipProps:{open:N},children:(0,n.jsxs)("div",{className:"relative",children:[H&&(0,n.jsx)("div",{className:"animate-border-glow-left pointer-events-none absolute inset-0 rounded-[28px]"}),(0,n.jsxs)(G.$k,{className:(0,i.cn)("group flex min-h-[100px] w-full flex-col gap-0 rounded-[28px] border border-secondary bg-fill-variant px-3 pb-3 shadow-[0_2px_8px_-1px_rgba(0,0,0,0.08)] transition duration-500 focus-within:border-secondary hover:border-secondary focus:border-secondary focus-visible:border-secondary active:border-secondary tablet:min-h-[108px]",{"tablet:min-h-[104px]":E,"gap-3":m.length>0||p.files.length>0,"pt-3":!o||0===m.length&&0===p.files.length,"bg-fill-disabled duration-150":_},r),htmlFor:ed.mk.PROMPT,tabIndex:0,"data-prompt-box":!0,onClick:I,children:[A&&(0,n.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-2 border-b border-primary pb-4",children:[(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 pl-2",children:[(0,n.jsx)(ec.X,{className:"size-4 text-secondary"}),(0,n.jsx)("p",{className:"text-body-sm font-medium text-secondary",children:"Referencing"})]}),(0,n.jsx)(l.Button,{variant:"icon-ghost",size:"icon-xs",shape:"pill",onClick:P,children:(0,n.jsx)(z.b,{})})]}),(0,n.jsxs)("p",{className:"line-clamp-3 max-h-[60px] w-full text-wrap text-body-sm text-tertiary",children:['"',C,'"']})]}),o&&(0,n.jsx)(U,{uploadingFiles:p,files:m,removeFile:f}),(0,n.jsxs)("form",{className:"flex w-full flex-col items-end justify-between gap-4",onSubmit:O,children:[(0,n.jsx)(eq,{clearOnSubmit:M,autoExpand:s,allowFilesUpload:o,onFilePaste:w,formHook:u,onSubmit:x,currentPromptPreset:y,showSingleLinePromptBox:E}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[o&&!T&&(0,n.jsx)(S,{loading:0!==p.files.length,openFilePicker:h,prompt:g,files:m,currentPromptPreset:y}),o&&T&&(0,n.jsx)(eA,{openFilePicker:h,setIsWebSearch:B,isWebSearch:F}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-end gap-3",children:[t,R&&(0,n.jsx)(eu.I,{variant:em.W.PROMPT_BOX,isOpen:L,setIsOpen:D,activeModel:Z}),(0,n.jsx)(ew,{disabled:v,generatingResponse:b,stopMessage:j,allowMessageStop:c,allowConcurrentPrompts:d,showLoader:_,prompt:g,hasFiles:p.files.length>0||m.length>0})]})]})]})]})]})})},e0={Root:e=>{let{dynamicPlaceholder:t,...r}=e,l=eo({dynamicPlaceholder:t});return(0,n.jsx)(es,{placeholder:l,autoFocus:"end",children:(0,n.jsx)(g.v,{children:(0,n.jsx)(eQ,{...r})})})},Settings:{Root:e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex cursor-pointer",r),children:t})},Trigger:e=>{let{className:t,settingsOpen:r,setSettingsOpen:a,settingsButtonRef:s}=e,{handleSettingsBtnClick:o}=eB({setSettingsOpen:a});return(0,n.jsx)(l.Button,{ref:s,type:"button",variant:"ghost",size:"icon-sm",disabled:r,onClick:o,className:(0,i.cn)("rounded-full bg-fill-tertiary hover:bg-fill-tertiary-hover",{"bg-fill-secondary-active":r},t),children:(0,n.jsx)(eC.V,{className:"size-4 text-primary"})})},ToolTip:e=>{let{virtualRef:t,title:r,description:a}=e,{open:s,setOpenTooltip:i,showOnboarding:o}=eF();return o?(0,n.jsxs)(e_.J2,{open:s,onOpenChange:i,children:[(0,n.jsx)(eP.tW,{virtualRef:t}),(0,n.jsxs)(e_.yk,{className:"relative flex max-h-[104px] w-[298px] flex-col items-start justify-center gap-2 bg-surface-inverse p-4",side:"top",sideOffset:9,align:"end",avoidCollisions:!0,onOpenAutoFocus:e=>e.preventDefault(),onPointerDownOutside:e=>e.preventDefault(),children:[(0,n.jsxs)("div",{className:"flex w-full justify-between gap-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("h1",{className:"text-body-md font-medium text-inverse",children:r})}),(0,n.jsx)(e_.xp,{asChild:!0,children:(0,n.jsxs)(l.Button,{variant:"ghost",className:"hover:bg-inherit",size:"icon-sm",children:[(0,n.jsx)(z.b,{className:"size-4 text-tertiary"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})})]}),(0,n.jsx)("p",{className:"text-body-xs text-inverse",children:a}),(0,n.jsx)("div",{className:"absolute inset-x-0 bottom-0 right-5 flex justify-center",children:(0,n.jsx)(e_.QH,{className:"fill-surface-inverse"})})]})]}):null},Content:e=>{let{children:t,settingsOpen:r,...l}=e,a=(0,eS.Av)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eR,{settingsOpen:r&&a,...l,children:t}),(0,n.jsx)(eI,{settingsOpen:r&&!a,...l,children:t})]})}}}},50590:function(e,t,r){r.d(t,{J2:function(){return i},QH:function(){return d},xo:function(){return o},xp:function(){return c},yk:function(){return u}});var n=r(10250),l=r(95374),a=r(21956),s=r(15751);let i=l.fC,o=l.xz,c=l.x8,d=l.Eh,u=(0,a.forwardRef)((e,t)=>{let{className:r,align:a="center",sideOffset:i=4,...o}=e;return(0,n.jsx)(l.h_,{children:(0,n.jsx)(l.VY,{ref:t,align:a,sideOffset:i,className:(0,s.cn)("z-50 rounded-2xl border border-secondary bg-surface-elevated p-4 text-primary shadow-[0px_6px_12px_0px_rgba(28,39,49,0.05)] outline-none data-[side=bottom]:duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-8 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:slide-out-to-top-8",r),...o})})});u.displayName=l.VY.displayName},19947:function(e,t,r){r.d(t,{r:function(){return c}});var n=r(10250),l=r(45416),a=r(15751),s=r(7734);let i=(0,s.j)("cursor-pointer peer data-[state=checked]:bg-surface-inverse data-[state=unchecked]:bg-surface-tertiary disabled:data-[state=unchecked]:bg-surface-tertiary-disabled disabled:data-[state=checked]:bg-surface-tertiary-disabled group/switch inline-flex shrink-0 items-center rounded-full transition-all outline-none disabled:cursor-not-allowed",{variants:{size:{sm:"h-4 w-8 p-px",md:"h-5 w-10 p-0.5",lg:"h-6 w-12 p-0.5"}},defaultVariants:{size:"md"}}),o=(0,s.j)("bg-surface-variant border-primary group-disabled/switch:bg-surface-disabled pointer-events-none block rounded-full border data-[state=unchecked]:translate-x-0 transition-[transform,color,var(--default-transition-duration)]",{variants:{size:{sm:"data-[state=checked]:translate-x-[calc(100%+2px)] h-3.5 w-3.5 group-active/switch:data-[animate=true]:w-[18px] group-active/switch:data-[state=checked]:translate-x-[calc(100%-6px)]",md:"data-[state=checked]:translate-x-[calc(100%+4px)] h-4 w-4 group-active/switch:data-[animate=true]:w-6 group-active/switch:data-[state=checked]:translate-x-[calc(100%-12px)]",lg:"data-[state=checked]:translate-x-[calc(100%+4px)] h-5 w-5 group-active/switch:data-[animate=true]:w-[30px] group-active/switch:data-[state=checked]:translate-x-[calc(100%-16px)]"}},defaultVariants:{size:"md"}}),c=e=>{let{className:t,size:r,animate:s=!0,thumbClassName:c,...d}=e;return(0,n.jsx)(l.fC,{"data-slot":"switch",className:(0,a.cn)(i({size:r}),t),...d,children:(0,n.jsx)(l.bU,{"data-slot":"switch-thumb","data-animate":s,className:(0,a.cn)(o({size:r}),c)})})}},4769:function(e,t,r){r.d(t,{e:function(){return o}});var n=r(10250),l=r(15751),a=r(6205),s=r(21956);let i=e=>{let{src:t}=e,[r,n]=(0,s.useState)(!1);return{embedUrl:(0,s.useMemo)(()=>t.includes("embed")?t:t.replace("watch?v=","embed/").replace("youtube","youtube-nocookie"),[t]),onLoad:(0,s.useCallback)(()=>n(!0),[]),isLoaded:r}},o=e=>{let{src:t,title:r,className:s}=e,{embedUrl:o,isLoaded:c,onLoad:d}=i({src:t});return(0,n.jsxs)("div",{className:(0,l.cn)("flex size-full flex-col space-y-2 rounded-2xl",s),children:[!c&&(0,n.jsx)(a.O,{className:"size-full rounded-2xl"}),(0,n.jsx)("iframe",{src:o,title:r,className:(0,l.cn)("size-full rounded-2xl object-cover",{hidden:!c}),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,onLoad:d})]})}},35284:function(e,t,r){r.d(t,{o:function(){return n}});let n={DAILY_LIMIT:"daily_limit_reached",USAGE_CTA:"usage",UPGRADE_BUTTON:"Upgrade button",POST_SIGNUP:"post_signup",POST_LOGIN:"post_login",IMAGE_GENERATION:"image_generation",IMAGE_GENERATION_LIMIT:"image_modal",REMOVE_BACKGROUND:"remove_background",UPSCALE:"upscale",DISCOUNT_MODAL:"daily_limit_close",IMAGE_ADJUST:"image_adjust"}},61277:function(e,t,r){r.d(t,{Ro:function(){return n},SO:function(){return l},av:function(){return a}});let n={MODEL:"model",ASPECT_RATIO:"aspect",IS_FOCUSED:"isFocused",REUSE_INPUTS:"reuseInputs",CATEGORY:"category"},l={promptBox:"image-gen-prompt-box",settingsTrigger:"image-gen-settings",settingsContent:"image-gen-settings-content"},a=11},38306:function(e,t,r){r.d(t,{S:function(){return i}});var n=r(10250),l=r(97997),a=r.n(l),s=r(15751);let i={h1:e=>{let{children:t,...r}=e;return(0,n.jsx)("h1",{...r,"data-markdown":"heading-1",className:(0,s.cn)("text-markdown-h1",a().className),children:t})},h2:e=>{let{children:t,...r}=e;return(0,n.jsx)("h2",{...r,"data-markdown":"heading-2",className:(0,s.cn)("text-markdown-h2",a().className),children:t})},h3:e=>{let{children:t,...r}=e;return(0,n.jsx)("h3",{...r,"data-markdown":"heading-3",className:(0,s.cn)("text-markdown-h3",a().className),children:t})},h4:e=>{let{children:t,...r}=e;return(0,n.jsxs)("h4",{...r,"data-markdown":"heading-4",className:(0,s.cn)("text-markdown-h4",a().className),children:[" ",t]})},h5:e=>{let{children:t,...r}=e;return(0,n.jsxs)("h5",{...r,"data-markdown":"heading-5",className:(0,s.cn)("text-markdown-h5",a().className),children:[" ",t]})},h6:e=>{let{children:t,...r}=e;return(0,n.jsxs)("h6",{...r,"data-markdown":"heading-6",className:(0,s.cn)("text-markdown-h6",a().className),children:[" ",t]})},p:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("p",{...l,"data-markdown":"paragraph",className:(0,s.cn)(r,"block text-markdown-body"),children:t})},blockquote:e=>{let{children:t,className:r,...l}=e;return(0,n.jsxs)("blockquote",{...l,"data-markdown":"blockquote",className:(0,s.cn)(r,"flex items-center justify-start gap-4 text-markdown-body font-medium text-primary"),children:[(0,n.jsx)("div",{className:"w-0.5 min-w-0.5 self-stretch rounded-full bg-fill-secondary-active"}),(0,n.jsx)("div",{children:t})]})},pre:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("pre",{...l,"data-markdown":"code-block",className:(0,s.cn)(r,"group w-full shrink whitespace-pre-wrap text-markdown-body","[&:has(>code.no-lang)]:flex [&:has(>code.no-lang)]:items-center [&:has(>code.no-lang)]:gap-2 [&:has(>code.no-lang)]:rounded-xl [&:has(>code.no-lang)]:bg-black [&:has(>code.no-lang)]:px-3 [&:has(>code.no-lang)]:py-2 [&:has(>code.no-lang)]:text-inverse-fixed"),children:t})},em:e=>{let{children:t,...r}=e;return(0,n.jsx)("em",{...r,"data-markdown":"emphasis",className:"text-markdown-body italic",children:t})},strong:e=>{let{children:t,...r}=e;return(0,n.jsx)("strong",{...r,"data-markdown":"strong",className:"text-markdown-body font-semibold",children:t})},ul:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("ul",{...l,"data-markdown":"unordered-list",className:(0,s.cn)(r,"ul group ml-3 flex list-outside list-disc flex-col pl-3"),children:t})},ol:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("ol",{...l,"data-markdown":"ordered-list",className:(0,s.cn)(r,"ol group ml-3 flex list-outside list-decimal flex-col pl-3"),children:t})},li:e=>{let{children:t,className:r,...l}=e;return(0,n.jsx)("li",{...l,"data-markdown":"list-item",className:(0,s.cn)(r,"m-0 p-0 text-markdown-body font-normal"),children:t})},hr:e=>{let{...t}=e;return(0,n.jsx)("hr",{...t,"data-markdown":"horizontal-rule",className:"border-t-1 border-b-0 border-l-0 border-r-0 border-primary"})}}},41432:function(e,t,r){r.d(t,{Y:function(){return l},e:function(){return n}});let n="This model will support file attachment soon. Please use another model to send your query.",l={206:"Partial success: some images failed to generate.",451:"This request was blocked by our content policy. Please try a safer prompt.",402:"Insufficient tokens. Upgrade your plan or purchase tokens via top-up",400:"Invalid request. Check your inputs and try again."}},76485:function(e,t,r){var n,l;r.d(t,{H:function(){return n}}),(l=n||(n={})).HISTORY_POPOVER="historyPopover",l.APP_DOWNLOAD="appDownload",l.IMAGE_SETTINGS="imageSettings",l.MODE_SELECTION="modeSelection"},82113:function(e,t,r){r.d(t,{g:function(){return f},w:function(){return x}});var n=r(10250),l=r(21956),a=r(57331),s=r(68264),i=r(43192);let o=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-label-md font-medium text-primary",children:"Add anything"}),(0,n.jsx)("p",{className:"text-label-md text-tertiary",children:"Drop any file here to add it to the conversation"})]}),c=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-label-md font-medium text-primary",children:"Attach image"}),(0,n.jsx)("p",{className:"text-label-md text-tertiary",children:"Drop your image here to add it as a reference"})]});var d=r(92764),u=r(18324),m=r(15751);let p=()=>{let e=(0,a.usePathname)().startsWith(i.H7.IMAGE),{isSidebarOpen:t}=(0,s.Ap)(),{isBannerVisible:r}=(0,u.Q)();return(0,n.jsx)("div",{className:(0,m.cn)("absolute inset-0 left-[calc(var(--sidebar-width)+16px)] top-[calc(var(--navbar-height)+var(--banner-height)+32px)] z-[999999] flex h-[calc(100%-var(--navbar-height)-var(--banner-height)-64px)] w-[calc(100%-var(--sidebar-width)-32px)] items-center justify-center rounded-xl border border-dashed border-brand bg-surface-variant/90 bg-[linear-gradient(0deg,rgb(var(--bg-fill-brand-secondary-disabled))_0%,rgb(var(--bg-fill-brand-secondary-disabled))_100%)] shadow-md",{"left-[calc(var(--sidebar-collapsed-width)+16px)] w-[calc(100%-var(--sidebar-collapsed-width)-32px)]":!t,"top-[calc(var(--navbar-height)+32px)] h-[calc(100%-var(--navbar-height)-32px)]":!r}),children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1 px-2.5 py-1",children:[(0,n.jsx)(d.e,{}),e?(0,n.jsx)(c,{}):(0,n.jsx)(o,{})]})})},h=(0,l.createContext)(null),f=e=>{let{children:t}=e,[r,a]=(0,l.useState)(null),[s,i]=(0,l.useState)(!1),o=(0,l.useMemo)(()=>({dropzone:r,setDropzone:a,isDragActive:s,setIsDragActive:i}),[r,s]);return(0,n.jsx)(h.Provider,{value:o,children:(0,n.jsxs)("div",{...null==r?void 0:r.getRootProps(),className:"z-0 size-full",children:[(0,n.jsx)("input",{...null==r?void 0:r.getInputProps(),className:"hidden"}),s&&(0,n.jsx)(p,{}),t]})})},x=()=>{let e=(0,l.useContext)(h);if(!e)throw Error("useDropzoneContext must be used within a DropzoneProvider");return e}},84896:function(e,t,r){r.d(t,{v:function(){return h},H:function(){return f}});var n=r(10250),l=r(43075),a=r(21956),s=r(80950),i=r(51897),o=r(65714),c=r(57914);let d=new o.h({baseURL:"".concat(i.x.NEXT_PUBLIC_APP_API_ENDPOINT).concat(i.x.NEXT_PUBLIC_STT_API_PATH),defaultHeadersGenerator:c.A}),u=async e=>{let t=new FormData;t.append("file",e);let{data:r}=await d.post("/transcribe",{body:t},{throwOnError:!0});return r},m=e=>{let{editor:t}=e,[r,n]=(0,a.useState)({isRecording:!1,isProcessing:!1,time:0}),l=(0,a.useRef)(null),i=(0,a.useRef)([]),o=(0,a.useRef)(!1),c=(0,a.useRef)(null),d=(0,a.useCallback)(async()=>{o.current=!1,l.current&&(l.current.onstop=null,l.current.stream.getTracks().forEach(e=>e.stop()),l.current=null);try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/mp4",r=new MediaRecorder(e,{mimeType:t});l.current=r,i.current=[],r.ondataavailable=e=>{e.data.size>0&&i.current.push(e.data)},r.start(),n({isRecording:!0,isProcessing:!1,time:0}),c.current=setInterval(()=>{n(e=>({...e,time:e.time+1}))},1e3)}catch(e){s.Am.error("Enable Microphone Access"),n({isProcessing:!1,isRecording:!1,time:0})}},[]),m=(0,a.useCallback)(()=>{let e=l.current;e&&"recording"===e.state&&(n(e=>({...e,isRecording:!1,isProcessing:!0})),e.onstop=async()=>{if(c.current&&(clearInterval(c.current),c.current=null),o.current){i.current=[],n({isRecording:!1,isProcessing:!1,time:0});return}try{let r=new Blob(i.current,{type:e.mimeType});e.stream.getTracks().forEach(e=>e.stop());let{text:l}=await u(r);t&&(t.commands.insertContent(l.trim()),t.commands.focus()),n({isRecording:!1,isProcessing:!1,time:0})}catch(e){n({isRecording:!1,isProcessing:!1,time:0})}},e.stop())},[t]),p=(0,a.useCallback)(()=>{o.current=!0;let e=l.current;e&&e.stop(),null==e||e.stream.getTracks().forEach(e=>e.stop()),i.current=[],c.current&&(clearInterval(c.current),c.current=null),n({isRecording:!1,isProcessing:!1,time:0})},[]);return(0,a.useEffect)(()=>()=>{var e;c.current&&clearInterval(c.current),null===(e=l.current)||void 0===e||e.stream.getTracks().forEach(e=>e.stop())},[]),{...r,startRecording:d,stopRecording:m,cancelRecording:p}},p=(0,a.createContext)(void 0),h=e=>{let{children:t}=e,{editor:r}=(0,l.fi)(),s=m({editor:r}),i=(0,a.useMemo)(()=>({isRecording:s.isRecording,isProcessing:s.isProcessing,time:s.time,startRecording:s.startRecording,stopRecording:s.stopRecording,cancelRecording:s.cancelRecording}),[s.isRecording,s.isProcessing,s.time,s.startRecording,s.stopRecording,s.cancelRecording]);return(0,n.jsx)(p.Provider,{value:i,children:t})},f=()=>{let e=(0,a.useContext)(p);if(!e)throw Error("usePromptBoxRecorder must be used within a PromptBoxRecorderProvider");return e}},14243:function(e,t,r){r.d(t,{D:function(){return x}});var n=r(21956),l=r(61206),a=r(51846),s=r(85119),i=r(29354),o=r(11873),c=r(12178),d=r(62819),u=r(58129),m=r(22689),p=r(25510);let h=e=>e.content.filter(e=>["file","image_url"].includes(e.type)).map(e=>"mimetype"in e?(0,p.Av)(e.mimetype):void 0).filter(e=>!!e),f=e=>e.map(e=>(0,p.Av)(e)),x=()=>{let{aggregator:e}=(0,c.O)(),{getPromptsLeft:t}=(0,i.$)(),r=(0,d.m)()(e=>e.subscription),{email:p,userId:x,userAccountStatus:g,userPlanPeriod:v,userPlan:b,page:j,source:w}=(0,o.T)(),{deviceType:y}=(0,s.V)();return{trackExport:(0,n.useCallback)(n=>{let{feature:s,trigger:i,prompt_text:o=m.Dl,upload_file_type:c=m.JR}=n,d=t(a.D.AI_DOCS),h=t(a.D.IMAGES),f=(null==r?void 0:r.isActive)?t(a.D.PREMIUM_CHAT_MODELS)+t(a.D.STANDARD_CHAT_MODELS):t(a.D.STANDARD_CHAT_MODELS);e.log(l.H.export.withProperties({feature:s,trigger:i,prompt_text:o,upload_file_type:c,page_name:j,source:w,ai_chat_generations_remaining:f,ai_doc_queries_remaining:d,image_credits_remaining:h,email:p,user_id:x,user_account_status:g,user_plan_period:v,user_plan:b,device:y,...(0,u.U)()}))},[e,t,p,x,g,null==r?void 0:r.isActive,v,b,j,w,y]),getPromptAndFileTypes:(0,n.useCallback)(e=>{var t,r;let n="input_images"in e;return{promptText:n?e.content||m.Dl:null!==(r=null===(t=e.content.find(e=>"text"===e.type))||void 0===t?void 0:t.text)&&void 0!==r?r:m.Dl,uploadFileTypes:n?f(e.input_images):h(e)}},[])}}},2164:function(e,t,r){r.d(t,{C:function(){return a}});var n=r(90678),l=r(21956);let a=e=>{let{text:t,duration:r=.6}=e,[a,s]=(0,l.useState)(0),[i,o]=(0,l.useState)(0),[c,d]=(0,l.useState)(t),[u,m]=(0,l.useState)(!0);c!==t&&(d(t),o(t.startsWith(c)?a:0));let p=t.split("").slice(0,a).join("");return(0,l.useEffect)(()=>{if(!t)return;let e=(0,n.j)(i,t.split("").length,{duration:r,ease:"easeOut",onUpdate(e){s(Math.floor(e))},onPlay(){m(!0)},onComplete(){m(!1)}});return()=>e.stop()},[i,t,r]),{animatedText:p,loading:u}}},53653:function(e,t,r){r.d(t,{a:function(){return u}});var n=r(57331),l=r(21956),a=r(43192),s=r(21633),i=r(9137),o=r(20225),c=r(2350),d=r(35609);let u=()=>{let{models:e,imageGenModels:t}=(0,o.Td)()(e=>({models:e.models,imageGenModels:e.imageGenModels})),{isUtmModelFlow:r}=(0,d.o)(),{currentModelInfo:u}=(0,s.j)(),{currentImageGenModel:m}=(0,i.b)(),p=(0,n.usePathname)(),h=(0,c.JE)(p),{models:f,currentModelInfo:x}=(0,l.useMemo)(()=>(null==p?void 0:p.startsWith(a.H7.IMAGE))?{models:r?t.filter(e=>e.hasCustomDashboard):t,currentModelInfo:m}:{models:e,currentModelInfo:u},[e,t,p,u,m,r,p]);return{currentPageModels:f,chatModels:e,imageGenModels:t,currentModelInfo:x,feature:h}}},26280:function(e,t,r){r.d(t,{R:function(){return l}});var n=r(57331);let l=()=>{let e=(0,n.usePathname)(),t=(0,n.useSearchParams)();return{getRedirectUrl:r=>{let n=new URL(e,window.location.origin);return t.forEach((e,t)=>{n.searchParams.append(t,e)}),r&&Object.entries(r).forEach(e=>{let[t,r]=e;n.searchParams.append(t,r)}),encodeURIComponent(n.toString())}}}},52671:function(e,t,r){r.d(t,{F:function(){return R}});var n=r(10250),l=r(65598),a=r(20666),s=r(57054),i=r(57331),o=r(21956),c=r(68715),d=r(80506),u=r(96550),m=r(54679),p=r(80950),h=r(63856),f=r(43192),x=r(82113),g=r(51897),v=r(69863);let b=async(e,t)=>{let r=new FormData;e.forEach(e=>{r.append("files",e,e.name)});let{data:n}=await v.t.post(g.x.NEXT_PUBLIC_UPLOADS_API_PATH,{body:r,signal:t.signal},{throwOnError:!0});return n},j=async(e,t,r)=>{let n=new FormData;e.forEach(e=>{n.append("files",e,e.name)});let{data:l}=await v.X.post(g.x.NEXT_PUBLIC_FREE_UPLOADS_API_PATH,{body:n,signal:t.signal,headers:{"X-Cft-Token":r}},{throwOnError:!0});return l};var w=r(4062),y=r(9540),N=r(26025),k=r(62819),M=r(25510),E=r(16246),A=r(20504);let S={intervalMs:150,maxPendingProgress:85,pendingStepSize:3,completionIntervalMs:50,completionStepSize:8},C=e=>{let{currentProgress:t,maxPendingProgress:r,pendingStepSize:n}=e,l=t+Math.max(1,Math.min(n,.1*(r-t)));return l>=r?r:l},P=e=>{let{currentProgress:t,completionStepSize:r}=e,n=t+r;return n>=100?100:n},_=e=>{let t=(0,o.useMemo)(()=>({...S,...e}),[e]),[r,n]=(0,o.useState)(0),[l,a]=(0,o.useState)("idle"),s=(0,o.useRef)(null),i=(0,o.useCallback)(()=>{s.current&&(window.clearInterval(s.current),s.current=null)},[]),c=(0,o.useCallback)(()=>{i(),n(0),a("pending")},[i]),d=(0,o.useCallback)(()=>{a("completing")},[]),u=(0,o.useCallback)(()=>{i(),n(0),a("idle")},[i]);return(0,o.useEffect)(()=>(i(),"pending"===l&&(s.current=window.setInterval(()=>{n(e=>C({currentProgress:e,maxPendingProgress:t.maxPendingProgress,pendingStepSize:t.pendingStepSize}))},t.intervalMs)),"completing"===l&&(s.current=window.setInterval(()=>{n(e=>{let r=P({currentProgress:e,completionStepSize:t.completionStepSize});return r>=100?(setTimeout(()=>a("complete"),0),100):r})},t.completionIntervalMs)),i),[l,t,i]),{progress:r,isComplete:"complete"===l,startProgress:c,completeProgress:d,resetProgress:u}};var T=r(28337);let R=e=>{let{id:t,onFilesUpdated:r,dropzoneEnabled:v=!0,shouldAllowFileUpload:S=!0,isLandingPage:C=!1,maxFilesAllowed:P=T.hg,maxFileSizeInMB:R=T.C1,acceptedMimeTypes:O=T.BY,acceptedFileTypes:I=T._0}=e,{setDropzone:Z,setIsDragActive:L}=(0,x.w)(),D=(0,k.m)()(e=>e.user),[F,z]=(0,o.useState)([]),[B,H]=(0,o.useState)(T.Of),{progress:U,startProgress:G,resetProgress:W}=_(),V=(0,N.Q)(e=>e.setIsFileUploading),X=(0,o.useRef)(new Map),Y=(0,A.A)(),{openDialog:q,isAnyDialogOpen:J}=(0,y.I)(e=>({openDialog:()=>e.openDialog(h.W.PRO_MODAL),isAnyDialogOpen:e.isAnyDialogOpen})),K=(0,i.usePathname)(),$=1048576*R,{captchaAction:Q}=(0,w.r)(),ee=(0,o.useCallback)(()=>w.r.getState().token,[]),{mutate:et}=(0,l.D)({mutationFn:async e=>{let{selectedFiles:t,filesContent:r}=e;G();let n=t.map((e,t)=>5*t),l=t.map(e=>({id:(0,E.O)(),name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}));H({files:l,filesContent:r,filesProgress:n}),V(t.length>0);let s=(await Promise.all(t.map(async e=>{if((0,M.w2)(e.type))try{return await (0,a.Z)(e,{maxSizeMB:T.SA,maxWidthOrHeight:T.MR,useWebWorker:!0})}catch(e){}return e}))).map(async(e,t)=>{let r=l[t].id,n=new AbortController;X.current.set(r,n);try{let t=D?await b([e],n):await j([e],n,ee());return{file:e,result:t,fileId:r}}finally{X.current.delete(r)}});return(await Promise.allSettled(s)).filter(e=>"fulfilled"===e.status).map(e=>{var t,r;let{value:n}=e;return{id:(0,E.O)(),name:n.file.name,type:n.file.type,url:null!==(r=null===(t=n.result.files.find(e=>e.name===n.file.name))||void 0===t?void 0:t.url)&&void 0!==r?r:""}})},onError:()=>{W(),H(T.Of),V(!1)},onSuccess:e=>{W(),H(T.Of),V(!1),0!==e.length&&z(t=>{let n=[...t,...e];return r(n),n})}}),er=(0,o.useCallback)(async(e,t)=>{if(!D&&g.x.NEXT_PUBLIC_IS_PRODUCTION_DEPLOYMENT){Q(async()=>{et({selectedFiles:e,filesContent:t})});return}et({selectedFiles:e,filesContent:t})},[Q,et,D]),{openFilePicker:en,clear:el}=(0,d.s)({readAs:"DataURL",accept:I,multiple:!0,validators:[new u.i1({max:P}),new u.Eb({maxFileSize:$})],onFilesSuccessfullySelected:async e=>{let{plainFiles:t,filesContent:r}=e;if(!S){Y(),q();return}if(F.length+t.length>P){p.Am.error("You can only upload up to ".concat(P," files"));return}er(t,r.map(e=>e.content))},onFilesRejected:e=>{(null==e?void 0:e.errors[0].name)==="FileAmountLimitError"?p.Am.error("You can only upload up to ".concat(P," files")):(null==e?void 0:e.errors[0].name)==="FileSizeError"?p.Am.error("File size should be less than ".concat(R,"MB")):p.Am.error(T.aB.Default)}}),ea=async e=>{if(!S){if(C){p.Am.warning("File upload is a pro feature",{renderCta:()=>(0,n.jsx)(s.default,{href:f.H7.AUTH,children:(0,n.jsx)(m.Button,{variant:"outline",size:"sm",className:"hover:bg-surface-warning-hover text-body-m rounded-xl text-warning",onClick:()=>p.Am.dismiss(),children:"Log In"})})});return}Y(),q();return}if(null==B?void 0:B.files.length){p.Am.warning("Please wait for the uploaded files to finish loading");return}if(null===e.clipboardData)return;let t=Array.from(e.clipboardData.items),r=[],l=t.map(async e=>{if("file"===e.kind){let t=e.getAsFile();if(!I.map(e=>e.slice(1)).some(e=>null==t?void 0:t.type.includes(e)))return p.Am.error("File type not supported\nPlease try to upload some other file"),[];if(t){let e=await (0,M.L0)(t);r.push(e)}return t?[t]:[]}return[]}),a=(await Promise.all(l)).flat();if(0!==a.length){if(F.length+a.length>P){p.Am.error("You can upload up to ".concat(P," files"));return}er(a,r)}},es=(0,o.useRef)(()=>{});es.current=async e=>{if(!S){L(!1),Y(),q();return}if(L(!1),null==B?void 0:B.files.length){p.Am.warning("Please wait for the uploaded files to finish loading");return}if(0!==e.length){if(F.length+e.length>P){p.Am.error("You can upload up to ".concat(P," files"));return}if(e.length>0){let t=await Promise.all(e.map(e=>(0,M.L0)(e)));er(e,t)}}};let ei=(0,c.uI)({maxFiles:P,accept:O,maxSize:$,disabled:!!B.files.length||!v||!S,noKeyboard:!0,noClick:!0,onDragEnter:()=>L(!0),onDragLeave:()=>L(!1),onDropAccepted:e=>{es.current(e)},onDropRejected:e=>{if(L(!1),e.some(e=>e.errors.some(e=>"file-invalid-type"===e.code))){p.Am.error("File type not supported\nPlease try to upload some other file");return}if(e.some(e=>e.errors.some(e=>"file-too-large"===e.code))){p.Am.error("File size should be less than ".concat(R,"MB"));return}e.some(e=>e.errors.some(e=>"too-many-files"===e.code))&&p.Am.error("You can upload up to ".concat(P," files"))}});return(0,o.useEffect)(()=>{Z(ei)},[B,v]),(0,o.useEffect)(()=>{let e=X.current;return()=>{e.forEach(e=>e.abort()),e.clear()}},[t]),(0,o.useEffect)(()=>{B.files.length>0&&H(e=>({...e,filesProgress:e.files.map((e,t)=>Math.max(0,Math.min(85,U-5*t)))}))},[U,B.files.length]),(0,o.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"u"===e.key&&(e.preventDefault(),J()||K===f.H7.AUTH||C||en())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[en,J,K,C]),{openFilePicker:en,uploadingFiles:B,removeFile:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uploaded";if("uploading"===t){let t=X.current.get(e);t&&(t.abort(),X.current.delete(e)),H(t=>({...t,files:t.files.filter(t=>t.id!==e)}));return}z(t=>{let n=t.filter(t=>t.id!==e);return r(n),n})},removeAllFiles:()=>{X.current.forEach(e=>e.abort()),X.current.clear(),el(),z([]),H(T.Of),V(!1)},onFilePaste:ea,files:F,setFiles:z}}},28337:function(e,t,r){var n,l,a,s;r.d(t,{_0:function(){return f},jp:function(){return x},BY:function(){return h},aB:function(){return g},Of:function(){return v},E0:function(){return p},SA:function(){return d},MR:function(){return u},hg:function(){return o},xP:function(){return m},C1:function(){return c}}),(a=n||(n={})).PDF=".pdf",a.TXT=".txt",a.CSV=".csv",a.JSON=".json",a.MD=".md",a.HTML=".html",a.DOCX=".docx",a.PPTX=".pptx",a.XLSX=".xlsx",a.EPUB=".epub",(s=l||(l={})).PNG=".png",s.JPG=".jpg",s.JPEG=".jpeg",s.WEBP=".webp";let i={...n,...l},o=5,c=20,d=1,u=1024,m=2,p={"image/png":[l.PNG],"image/jpg":[l.JPG],"image/jpeg":[l.JPEG],"image/webp":[l.WEBP]},h={...p,"application/pdf":[n.PDF],"text/plain":[n.TXT],"text/csv":[n.CSV],"application/json":[n.JSON],"text/markdown":[n.MD],"text/html":[n.HTML],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[n.DOCX],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[n.PPTX],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[n.XLSX],"application/epub+zip":[n.EPUB]},f=Object.values(i),x=Object.values(l),g={FileAmountLimit:"You can only upload up to ".concat(o," files"),FileSizeExceeded:"File size should be less than ".concat(c,"MB"),Default:"Failed to upload files"},v={files:[],filesContent:[],filesProgress:[]}},38291:function(e,t,r){r.d(t,{x:function(){return a}});var n=r(21956),l=r(53588);let a=e=>(0,n.useMemo)(()=>{var t;return null!==(t=(0,l.Qc)(e).domainWithoutSuffix)&&void 0!==t?t:e.split("/").pop()||e},[e])},79157:function(e,t,r){r.d(t,{J:function(){return o}});var n=r(57331),l=r(43192),a=r(1820),s=r(62819),i=r(2350);let o=()=>{let e=(0,n.useRouter)(),t=(0,s.m)()(e=>e.user),r=e=>{let{baseRedirectUrl:r,redirectSearchParams:n,redirectWithAuth:s}=e,o=(0,i.YF)(r,{...n},!0);return s&&!t?(0,i.YF)(l.H7.AUTH,{[a.t.REDIRECT]:o}):o};return{handleRedirect:t=>{let{baseRedirectUrl:n,redirectSearchParams:l,redirectWithAuth:a}=t,s=r({baseRedirectUrl:n,redirectSearchParams:l,redirectWithAuth:a});e.push(s)},getRedirectUrl:r}}},20504:function(e,t,r){r.d(t,{A:function(){return d}});var n=r(57331),l=r(21956),a=r(4206),s=r(43192),i=r(1820),o=r(62819),c=r(2350);let d=()=>{let e=(0,o.m)()(e=>e.user),t=(0,n.useRouter)(),r=(0,n.usePathname)(),d=(0,n.useSearchParams)(),u="";{let e=new URL(r,window.location.origin);e.search=d.toString(),u=(0,c.YF)(s.H7.AUTH,{[i.t.REDIRECT]:e.href})}return(0,l.useCallback)(r=>{e||(r&&sessionStorage.setItem(a.M.AUTH_TRIGGER,r),t.push(u||s.H7.AUTH))},[t,e,u])}},78704:function(e,t,r){r.d(t,{X:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",className:t,children:[(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m13.179 14.373 3.581-3.582L13.18 7.21"}),(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M1.24 3.628v2.388a4.776 4.776 0 0 0 4.776 4.775H16.76"})]})}},38819:function(e,t,r){r.d(t,{H:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",className:t,children:(0,n.jsx)("path",{d:"M3.333 8.632 8 3.965m0 0 4.667 4.667M8 3.965v9.333",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},6322:function(e,t,r){r.d(t,{i:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M4.122 11.394a1.455 1.455 0 1 1 0 2.909 1.455 1.455 0 0 1 0-2.91Zm0 0V4.606c0 2.91 3.393 4.364 6.302 4.364m0 0a1.455 1.455 0 1 1 2.91 0 1.455 1.455 0 0 1-2.91 0ZM4.122 4.606a1.455 1.455 0 1 0 0-2.909 1.455 1.455 0 0 0 0 2.91Z"})})}},25428:function(e,t,r){r.d(t,{j:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M8.429 15.75c-3.464-.281-6.179-3.192-6.179-6.743 0-3.726 3.009-6.757 6.724-6.757 3.436 0 6.263 2.588 6.669 5.927m-4.325-1.519c-.35-2.573-1.267-4.408-2.345-4.408-1.07 0-1.994 1.835-2.343 4.408a16.507 16.507 0 0 0-.162 2.349c0 .83.056 1.624.162 2.355.245 1.786 1 3.509 1.798 4.387M2.25 9.013h9.068m2.494 2.109.075.205c.284.774.89 1.383 1.66 1.67l.203.076-.204.075a2.818 2.818 0 0 0-1.66 1.67l-.074.205-.076-.205a2.817 2.817 0 0 0-1.66-1.67l-.203-.075.204-.076a2.817 2.817 0 0 0 1.659-1.67l.075-.205Z"})})}},92764:function(e,t,r){r.d(t,{e:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"100",height:"87",fill:"none",viewBox:"0 0 100 87",className:t,children:[(0,n.jsx)("path",{fill:"#FAFAFA",stroke:"#EDEDED",strokeWidth:".5",d:"m48.103.348 31.505 45.178-47.755 33.301L.348 33.65 48.103.348Z"}),(0,n.jsx)("path",{fill:"#08F",d:"M47.184 6.005 5.968 34.746l21.898 31.401 41.216-28.741L47.184 6.005Z"}),(0,n.jsx)("path",{fill:"#FAFAFA",d:"M47.184 6.005 5.968 34.746l21.898 31.401 41.216-28.741L47.184 6.005Z",opacity:".8"}),(0,n.jsx)("path",{fill:"#08F",d:"M31.403 33.035a7.042 7.042 0 1 1-11.553 8.054 7.042 7.042 0 0 1 11.553-8.054Z"}),(0,n.jsx)("path",{fill:"#FAFAFA",d:"M31.403 33.035a7.042 7.042 0 1 1-11.553 8.054 7.042 7.042 0 0 1 11.553-8.054Z",opacity:".1"}),(0,n.jsx)("path",{fill:"#08F",d:"M57.69 29.932a10.21 10.21 0 0 0-8.154-2.933c-.046-.064-.081-.134-.127-.201a10.212 10.212 0 0 0-18.282 8.401 6.337 6.337 0 0 0-.884.507 6.113 6.113 0 0 0-2.465 6.402 6.908 6.908 0 0 0-3.274 2.672 7.437 7.437 0 0 0-.082 8.159 7.311 7.311 0 0 0 10.268 1.944l11.85-8.265 10.855-7.57a5.56 5.56 0 0 0 1.497-7.666l-.032-.049c-.347-.501-.738-.97-1.17-1.401Z"}),(0,n.jsx)("path",{fill:"#000",d:"M57.69 29.932a10.21 10.21 0 0 0-8.154-2.933c-.046-.064-.081-.134-.127-.201a10.212 10.212 0 0 0-18.282 8.401 6.337 6.337 0 0 0-.884.507 6.113 6.113 0 0 0-2.465 6.402 6.908 6.908 0 0 0-3.274 2.672 7.437 7.437 0 0 0-.082 8.159 7.311 7.311 0 0 0 10.268 1.944l11.85-8.265 10.855-7.57a5.56 5.56 0 0 0 1.497-7.666l-.032-.049c-.347-.501-.738-.97-1.17-1.401Z",opacity:".3"}),(0,n.jsx)("path",{fill:"#FAFAFA",stroke:"#EDEDED",strokeWidth:".5",d:"m49.591 8.378 29.845 46.291-48.932 31.547L.659 39.925 49.591 8.378Z"}),(0,n.jsx)("path",{fill:"#08F",d:"M48.468 13.998 6.236 41.225 26.98 73.4 69.21 46.173 48.468 13.998Z"}),(0,n.jsx)("path",{fill:"#FAFAFA",d:"M48.468 13.998 6.236 41.225 26.98 73.4 69.21 46.173 48.468 13.998Z",opacity:".8"}),(0,n.jsx)("path",{fill:"#08F",d:"M32.669 45.716a7.028 7.028 0 1 0-13.746-2.937 7.028 7.028 0 0 0 13.746 2.937Z"}),(0,n.jsx)("path",{fill:"#FAFAFA",d:"M32.669 45.716a7.028 7.028 0 1 0-13.746-2.937 7.028 7.028 0 0 0 13.746 2.937Z",opacity:".1"}),(0,n.jsx)("path",{fill:"#08F",d:"M58.092 38.3a10.211 10.211 0 0 0-8.05-3.228c-.042-.07-.073-.14-.12-.208a10.211 10.211 0 0 0-18.57 7.747c-.314.131-.617.289-.905.472a6.117 6.117 0 0 0-2.69 6.303 6.874 6.874 0 0 0-3.37 2.549 7.43 7.43 0 0 0-.377 8.148 7.308 7.308 0 0 0 10.19 2.33l12.166-7.844 11.127-7.173a5.564 5.564 0 0 0 1.761-7.606l-.035-.049a9.861 9.861 0 0 0-1.127-1.44Z"}),(0,n.jsx)("path",{fill:"#000",d:"M58.092 38.3a10.211 10.211 0 0 0-8.05-3.228c-.042-.07-.073-.14-.12-.208a10.211 10.211 0 0 0-18.57 7.747c-.314.131-.617.289-.905.472a6.117 6.117 0 0 0-2.69 6.303 6.874 6.874 0 0 0-3.37 2.549 7.43 7.43 0 0 0-.377 8.148 7.308 7.308 0 0 0 10.19 2.33l12.166-7.844 11.127-7.173a5.564 5.564 0 0 0 1.761-7.606l-.035-.049a9.861 9.861 0 0 0-1.127-1.44Z",opacity:".3"}),(0,n.jsx)("path",{fill:"#FAFAFA",stroke:"#EDEDED",strokeWidth:".5",d:"m93.267 13.989 6.006 54.75L41.4 75.087l-6.006-54.75 57.873-6.348Z"}),(0,n.jsx)("path",{fill:"#08F",d:"m89.754 18.514-49.948 5.479 4.175 38.053 49.947-5.479-4.174-38.053Z"}),(0,n.jsx)("path",{fill:"#FAFAFA",d:"m89.754 18.514-49.948 5.479 4.175 38.053 49.947-5.479-4.174-38.053Z",opacity:".8"}),(0,n.jsx)("path",{fill:"#08F",d:"m93.776 55.174.152 1.391-25.944 2.849 6.193-7.345 6.342-7.529 13.257 10.634Z"}),(0,n.jsx)("path",{fill:"#000",d:"m93.776 55.174.152 1.391-25.944 2.849 6.193-7.345 6.342-7.529 13.257 10.634Z",opacity:".3"}),(0,n.jsx)("path",{fill:"#08F",d:"m82.698 57.797-38.712 4.247-.338-3.06 15.194-17.23L74.18 52.069l8.518 5.73Z"}),(0,n.jsx)("path",{fill:"#000",d:"m82.698 57.797-38.712 4.247-.338-3.06 15.194-17.23L74.18 52.069l8.518 5.73Z",opacity:".3"}),(0,n.jsx)("path",{fill:"#08F",d:"M77.938 32.65a5.947 5.947 0 1 0-11.884-.495 5.947 5.947 0 0 0 11.884.496Z"}),(0,n.jsx)("path",{fill:"#FAFAFA",d:"M77.938 32.65a5.947 5.947 0 1 0-11.884-.495 5.947 5.947 0 0 0 11.884.496Z",opacity:".1"})]})}},15210:function(e,t,r){r.d(t,{f:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:(0,n.jsx)("path",{d:"M4.66699 2.5H11.333C12.5296 2.5 13.5 3.47038 13.5 4.66699V11.333C13.5 12.5296 12.5296 13.5 11.333 13.5H4.66699C3.47038 13.5 2.5 12.5296 2.5 11.333V4.66699L2.51074 4.44531C2.61421 3.42542 3.42542 2.61421 4.44531 2.51074L4.66699 2.5Z",fill:"currentColor",stroke:"currentColor"})})}},65146:function(e,t,r){r.d(t,{W:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:(0,n.jsx)("path",{d:"m17.5 17.5-3.583-3.583m1.916-4.75a6.667 6.667 0 1 1-13.333 0 6.667 6.667 0 0 1 13.333 0Z",stroke:"currentColor",strokeWidth:"currentStroke",strokeLinecap:"round",strokeLinejoin:"round"})})}},91897:function(e,t,r){r.d(t,{j:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",className:t,children:[(0,n.jsxs)("mask",{id:"a",fill:"#fff",children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M12.54 7.71c.22.22.576.22.795 0l2.25-2.25a.562.562 0 0 0 0-.795l-2.25-2.25a.562.562 0 1 0-.795.795l1.852 1.853-1.852 1.852a.562.562 0 0 0 0 .795ZM2.25 5.553c0-.31.252-.563.563-.563.852 0 1.598.009 2.243.082.648.075 1.231.219 1.747.514 1.054.602 1.656 1.24 2.175 3.062.718 2.515 1.78 3.36 2.649 3.655.455.155.909.177 1.324.154.21-.01.403-.033.587-.054l.02-.002c.165-.02.35-.04.505-.04a.562.562 0 1 1 0 1.125c-.083 0-.203.012-.398.035h-.006c-.18.021-.403.046-.647.06-.496.027-1.107.005-1.747-.213-1.325-.45-2.586-1.666-3.368-4.411C7.39 7.183 6.89 6.931 6.245 6.562c-.334-.19-.75-.307-1.317-.372-.572-.065-1.256-.075-2.115-.075a.563.563 0 0 1-.563-.562Z",clipRule:"evenodd"}),(0,n.jsx)("path",{d:"M9.521 7.869c.653-1.391 1.437-1.945 2.106-2.172.455-.155.909-.177 1.324-.154.21.01.403.033.587.054l.02.002c.165.02.35.04.505.04a.562.562 0 1 0 0-1.125c-.083 0-.203-.012-.398-.035h-.006c-.18-.021-.403-.047-.647-.06-.496-.026-1.107-.005-1.747.213-.834.283-1.643.87-2.323 1.95.221.367.41.789.58 1.287ZM9.084 9a12.22 12.22 0 0 1-.106-.352 8.23 8.23 0 0 0-.464-1.279A10.847 10.847 0 0 0 7.909 9c.18.625.386 1.17.611 1.645.164-.364.315-.789.458-1.293.035-.121.07-.239.106-.352ZM8.08 11.43a9.68 9.68 0 0 1-.576-1.266c-.38.857-.78 1.148-1.259 1.422-.334.19-.75.307-1.317.372-.572.065-1.069.075-1.928.075a.562.562 0 1 0 0 1.125c.853 0 1.411-.009 2.056-.082.648-.075 1.231-.219 1.747-.514.522-.297.933-.64 1.278-1.132Z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M12.54 10.29c.22-.22.576-.22.795 0l2.25 2.25c.22.22.22.576 0 .795l-2.25 2.25a.562.562 0 1 1-.795-.795l1.852-1.852-1.852-1.853a.562.562 0 0 1 0-.795Z",clipRule:"evenodd"})]}),(0,n.jsx)("path",{fill:"currentColor",d:"m13.335 7.71-1.06-1.06 1.06 1.06Zm-.795 0 1.06-1.06-1.06 1.06Zm3.045-2.25 1.06 1.06-1.06-1.06Zm0-.795 1.06-1.06-1.06 1.06Zm-2.25-2.25 1.06-1.06-1.06 1.06Zm-.795 0-1.06-1.06 1.06 1.06Zm0 .795-1.06 1.06 1.06-1.06Zm1.852 1.853 1.06 1.06a1.5 1.5 0 0 0 0-2.121l-1.06 1.06ZM12.54 6.915l1.06 1.06-1.06-1.06ZM2.813 4.99v1.5-1.5Zm-.563.563h1.5-1.5Zm2.806-.48-.171 1.49.17-1.49Zm1.747.513L6.06 6.888l.744-1.302Zm2.175 3.062 1.443-.41-1.443.41Zm2.649 3.655-.483 1.42.483-1.42Zm1.324.154-.08-1.498.08 1.498Zm.587-.054.17 1.49-.17-1.49Zm.02-.002.17 1.49-.17-1.49Zm.505-.04v-1.5 1.5Zm.562.562h1.5-1.5Zm-.563.563v-1.5 1.5Zm-.397.035-.17-1.49.17 1.49Zm-.006 0 .17 1.49-.17-1.49Zm-.647.06-.08-1.498.08 1.498Zm-1.747-.213-.483 1.42.483-1.42ZM7.897 8.957l-1.443.411 1.443-.411ZM6.245 6.562 6.99 5.26l-.744 1.303ZM4.928 6.19l-.171 1.49.17-1.49Zm-2.115-.075v1.5-1.5ZM9.52 7.87l-1.42.484a1.5 1.5 0 0 0 2.778.153L9.521 7.87Zm2.106-2.172-.483-1.42.483 1.42Zm1.324-.154-.08 1.497.08-1.497Zm.587.054.17-1.49-.17 1.49Zm.02.002.17-1.49-.17 1.49Zm.505.04v1.5-1.5Zm0-1.125v1.5-1.5Zm-.398-.035-.17 1.49.17-1.49Zm-.006 0 .17-1.49-.17 1.49Zm-.647-.06-.08 1.498.08-1.498Zm-1.747.213-.483-1.42.483 1.42Zm-2.323 1.95-1.27-.798a1.5 1.5 0 0 0-.014 1.573l1.284-.774ZM9.084 9l1.43.454a1.5 1.5 0 0 0 0-.908L9.084 9Zm-.57-1.63 1.354-.646a1.5 1.5 0 0 0-2.71.004l1.356.641ZM7.909 9l-1.441-.416a1.5 1.5 0 0 0 0 .832L7.908 9Zm.611 1.645-1.354.644a1.5 1.5 0 0 0 2.721-.027l-1.367-.617Zm.458-1.293 1.443.41-1.443-.41Zm-.897 2.078 1.228.862a1.5 1.5 0 0 0 .085-1.586l-1.313.724Zm-.577-1.266 1.404-.528a1.5 1.5 0 0 0-2.775-.08l1.37.608Zm-1.259 1.422.744 1.302-.744-1.302Zm-1.317.372.17 1.49-.17-1.49Zm.128 1.118-.171-1.49.17 1.49Zm1.747-.514L6.06 11.26l.744 1.303Zm6.532-2.272-1.06 1.06 1.06-1.06Zm-.795 0 1.06 1.06-1.06-1.06Zm3.045 2.25 1.06-1.06-1.06 1.06Zm0 .795 1.06 1.06-1.06-1.06Zm-2.25 2.25 1.06 1.06-1.06-1.06Zm-.795 0-1.06 1.06 1.06-1.06Zm0-.795-1.06-1.06 1.06 1.06Zm1.852-1.852 1.06 1.06a1.5 1.5 0 0 0 0-2.121l-1.06 1.06Zm-1.852-1.853 1.06-1.06-1.06 1.06Zm.795-3.375-1.06-1.06a.937.937 0 0 1 1.325 0l-1.06 1.06-1.06 1.06a2.062 2.062 0 0 0 2.916 0l-1.06-1.06Zm2.25-2.25-1.06-1.06-2.25 2.25 1.06 1.06 1.06 1.06 2.25-2.25-1.06-1.06Zm0-.795-1.06 1.06a.938.938 0 0 1 0-1.325l1.06 1.06 1.06 1.06a2.062 2.062 0 0 0 0-2.916l-1.06 1.06Zm-2.25-2.25-1.06 1.06 2.25 2.25 1.06-1.06 1.06-1.06-2.25-2.25-1.06 1.06Zm-.795 0 1.06 1.06a.937.937 0 0 1-1.325 0l1.06-1.06 1.06-1.06a2.062 2.062 0 0 0-2.916 0l1.06 1.06Zm0 .795 1.06-1.06a.938.938 0 0 1 0 1.325l-1.06-1.06-1.06-1.06a2.062 2.062 0 0 0 0 2.916l1.06-1.06Zm1.852 1.853 1.06-1.061L13.6 2.15l-1.06 1.06-1.06 1.06 1.851 1.853 1.061-1.06ZM12.54 6.915l1.06 1.06 1.853-1.852-1.061-1.06-1.06-1.061-1.853 1.852 1.06 1.06Zm0 .795 1.06-1.06a.938.938 0 0 1 0 1.325l-1.06-1.06-1.06-1.06a2.062 2.062 0 0 0 0 2.916l1.06-1.06ZM2.813 4.99v-1.5C1.673 3.49.75 4.414.75 5.553h3c0 .518-.42.937-.938.937v-1.5Zm2.243.082.17-1.49c-.741-.085-1.57-.092-2.413-.092v3c.861 0 1.525.01 2.072.073l.17-1.49Zm1.747.514.744-1.303c-.759-.433-1.563-.614-2.32-.7l-.171 1.49-.171 1.49c.54.062.901.169 1.174.325l.744-1.302Zm2.175 3.062 1.443-.41c-.286-1.004-.63-1.813-1.13-2.48-.515-.685-1.118-1.117-1.744-1.475l-.744 1.303-.744 1.302c.428.244.653.432.832.671.194.259.411.68.645 1.5l1.442-.41Zm2.649 3.655.482-1.42c-.26-.09-1.06-.44-1.688-2.646l-1.443.411-1.442.412c.805 2.824 2.133 4.162 3.608 4.663l.483-1.42Zm1.324.154-.08-1.498c-.31.017-.553-.005-.762-.076l-.482 1.42-.483 1.42c.703.239 1.366.26 1.888.232l-.08-1.498Zm.587-.054-.17-1.49a8.162 8.162 0 0 1-.497.046l.08 1.498.081 1.498c.26-.014.496-.041.676-.062l-.17-1.49Zm.02-.002-.171-1.49-.02.002.17 1.49.171 1.49.02-.002-.17-1.49Zm.505-.04v-1.5c-.258 0-.534.033-.676.05l.17 1.49.171 1.49c.189-.022.282-.03.335-.03v-1.5Zm.562.562h1.5c0-1.139-.923-2.062-2.063-2.062v3a.937.937 0 0 1-.937-.938h1.5Zm-.563.563v1.5c1.14 0 2.063-.924 2.063-2.063h-3c0-.518.42-.937.938-.937v1.5Zm-.397.035.17 1.49.21-.022c.048-.005.045-.003.018-.003v-3c-.19 0-.409.026-.568.044l.17 1.49Zm-.006 0 .17 1.49h.007l-.17-1.49-.171-1.49h-.007l.17 1.49Zm-.647.06.081 1.498c.294-.016.558-.047.736-.067l-.17-1.49-.171-1.49a9.14 9.14 0 0 1-.557.05l.081 1.499Zm-1.747-.213-.483 1.42c.888.302 1.708.323 2.311.29l-.08-1.497-.082-1.498c-.389.02-.79-.001-1.184-.135l-.482 1.42ZM7.897 8.957l-1.443.411c.87 3.052 2.394 4.763 4.328 5.42l.483-1.42.482-1.42c-.715-.243-1.712-.963-2.408-3.402l-1.442.411ZM6.245 6.562l-.744 1.303c.352.2.392.232.458.314.085.104.267.389.495 1.19l1.443-.412 1.442-.411c-.277-.973-.598-1.702-1.051-2.259-.472-.58-1.004-.859-1.299-1.027l-.744 1.303ZM4.928 6.19l-.171 1.49c.458.053.653.133.744.185l.744-1.303.744-1.302c-.577-.33-1.215-.483-1.89-.56l-.171 1.49Zm-2.115-.075v1.5c.868 0 1.47.011 1.944.065l.17-1.49.171-1.49c-.668-.077-1.436-.085-2.285-.085v1.5Zm-.563-.562H.75c0 1.139.923 2.062 2.063 2.062v-3c.517 0 .937.42.937.938h-1.5Zm7.271 2.316 1.358.637c.505-1.075 1-1.31 1.23-1.389l-.482-1.42-.483-1.42c-1.107.376-2.18 1.248-2.98 2.955l1.357.637Zm2.106-2.172.482 1.42c.21-.07.452-.093.762-.077l.08-1.497.081-1.498c-.522-.028-1.185-.007-1.888.232l.483 1.42Zm1.324-.154-.08 1.497c.157.009.308.026.496.047l.17-1.49.171-1.49c-.18-.02-.416-.048-.676-.062l-.08 1.498Zm.587.054-.171 1.49.02.003.17-1.49.171-1.491-.02-.002-.17 1.49Zm.02.002-.171 1.49c.142.017.418.05.675.05v-3c-.052 0-.145-.008-.334-.03l-.17 1.49Zm.505.04v1.5c1.139 0 2.062-.923 2.062-2.062h-3c0-.518.42-.938.938-.938v1.5Zm.562-.562h1.5c0-1.14-.923-2.063-2.063-2.063v3a.937.937 0 0 1-.937-.937h1.5Zm-.563-.563v-1.5c.028 0 .031.002-.018-.002l-.208-.023-.17 1.49-.171 1.49c.16.019.379.045.568.045v-1.5Zm-.397-.035.17-1.49h-.006l-.17 1.49-.171 1.49h.007l.17-1.49Zm-.006 0 .17-1.49c-.178-.021-.442-.052-.736-.068l-.08 1.498-.082 1.498c.194.01.375.03.557.052l.17-1.49Zm-.647-.06.081-1.498c-.603-.032-1.423-.01-2.311.29l.483 1.421.482 1.42c.394-.134.795-.156 1.184-.135l.081-1.498Zm-1.747.213-.483-1.42c-1.185.402-2.26 1.223-3.11 2.572l1.27.799 1.27.799c.511-.813 1.052-1.166 1.535-1.33l-.482-1.42Zm-2.323 1.95-1.284.775c.152.252.299.571.443.996l1.42-.484 1.42-.484a8.076 8.076 0 0 0-.714-1.577l-1.285.775ZM9.084 9l1.43-.454a10.557 10.557 0 0 1-.093-.309l-1.443.411-1.442.412c.038.135.078.266.119.394L9.085 9Zm-.106-.352 1.443-.41a9.705 9.705 0 0 0-.553-1.514l-1.354.645-1.355.645c.121.254.247.589.377 1.046l1.442-.412ZM8.514 7.37l-1.356-.641a12.34 12.34 0 0 0-.69 1.856L7.908 9l1.442.416c.16-.552.336-1.016.52-1.405l-1.356-.642ZM7.909 9l-1.441.416c.2.693.433 1.316.698 1.873l1.354-.644L9.875 10a9.33 9.33 0 0 1-.525-1.417L7.909 9Zm.611 1.645 1.367.617c.203-.449.376-.947.534-1.5l-1.443-.41-1.442-.412c-.13.456-.257.809-.383 1.088l1.367.617Zm.458-1.293 1.443.41c.03-.106.061-.209.093-.308L9.084 9l-1.43-.454c-.04.128-.08.26-.118.394l1.442.412Zm-.897 2.078 1.313-.724a8.179 8.179 0 0 1-.486-1.07l-1.404.528-1.404.528c.198.527.42 1.014.667 1.462l1.314-.724Zm-.577-1.266-1.371-.609c-.135.305-.24.434-.3.495-.06.063-.135.121-.332.233l.744 1.303.744 1.302a4.301 4.301 0 0 0 1-.751c.356-.367.64-.812.886-1.364l-1.371-.609Zm-1.259 1.422-.744-1.303c-.09.052-.286.132-.744.185l.17 1.49.171 1.49c.676-.077 1.314-.23 1.891-.56l-.744-1.302Zm-1.317.372-.171-1.49c-.479.055-.901.065-1.757.065v3c.863 0 1.435-.009 2.098-.085l-.17-1.49ZM3 12.033v-1.5c-1.14 0-2.063.923-2.063 2.062h3c0 .518-.42.938-.937.938v-1.5Zm-.563.562h-1.5c0 1.14.924 2.063 2.063 2.063v-3c.518 0 .938.42.938.937h-1.5Zm.563.563v1.5c.856 0 1.49-.008 2.226-.092l-.17-1.49-.171-1.49c-.552.063-1.036.072-1.885.072v1.5Zm2.056-.082.17 1.49c.758-.087 1.562-.268 2.321-.7l-.744-1.303-.744-1.303c-.273.156-.634.264-1.174.325l.17 1.49Zm1.747-.514.744 1.303c.675-.386 1.267-.868 1.762-1.573L8.08 11.43l-1.228-.861c-.195.277-.425.48-.794.691l.744 1.303Zm6.532-2.272 1.06-1.06a2.062 2.062 0 0 0-2.916 0l1.06 1.06 1.061 1.06a.937.937 0 0 1-1.325 0l1.06-1.06Zm2.25 2.25 1.06-1.06-2.25-2.25-1.06 1.06-1.06 1.06 2.25 2.25 1.06-1.06Zm0 .795 1.06 1.06a2.062 2.062 0 0 0 0-2.916l-1.06 1.06-1.06 1.061a.937.937 0 0 1 0-1.325l1.06 1.06Zm-2.25 2.25 1.06 1.06 2.25-2.25-1.06-1.06-1.06-1.06-2.25 2.25 1.06 1.06Zm-.795 0-1.06 1.06a2.062 2.062 0 0 0 2.916 0l-1.06-1.06-1.061-1.06a.937.937 0 0 1 1.325 0l-1.06 1.06Zm0-.795-1.06-1.06a2.062 2.062 0 0 0 0 2.916l1.06-1.06 1.06-1.061a.937.937 0 0 1 0 1.325l-1.06-1.06Zm1.852-1.852-1.06-1.061-1.853 1.852 1.06 1.06L13.6 15.85l1.853-1.852-1.061-1.06Zm-1.852-1.853-1.06 1.06 1.851 1.853 1.061-1.06 1.06-1.061-1.852-1.852-1.06 1.06Zm0-.795-1.06-1.06a2.062 2.062 0 0 0 0 2.916l1.06-1.06 1.06-1.061a.937.937 0 0 1 0 1.325l-1.06-1.06Z",mask:"url(#a)"})]})}},38545:function(e,t,r){r.d(t,{V:function(){return l}});var n=r(10250);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9.074 5.1a2.1 2.1 0 0 1-4.2 0m4.2 0a2.1 2.1 0 0 0-4.2 0m4.2 0H15.9m-11.024 0H2.25m6.824 7.349a2.1 2.1 0 0 0 4.2 0m-4.2 0a2.1 2.1 0 1 1 4.2 0m-4.2 0H2.25m11.024 0h2.625"})})}},69863:function(e,t,r){r.d(t,{X:function(){return i},t:function(){return s}});var n=r(51897),l=r(65714),a=r(57914);let s=new l.h({baseURL:n.x.NEXT_PUBLIC_UPLOADS_API_URL,defaultHeadersGenerator:a.A}),i=new l.h({baseURL:n.x.NEXT_PUBLIC_UPLOADS_API_URL,defaultHeadersGenerator:a.A})},67226:function(e,t,r){r.d(t,{Hg:function(){return c},mk:function(){return l}});var n,l,a=r(69325);let s=a.Ry({id:a.Z_(),name:a.Z_(),mimetype:a.Z_(),type:a.Km(["image_url","file"]),file_url:a.Ry({url:a.Z_().url(),meta_data:a.Ry({name:a.Z_()})})}),i=a.Z_().trim(),o=a.IX(s);(n=l||(l={})).PROMPT="prompt",n.FILES="files";let c=a.Ry({prompt:i,files:o.optional()})},18324:function(e,t,r){r.d(t,{Q:function(){return n}});let n=(0,r(79391).Ue)()(e=>({isBannerVisible:!1,isMobileBannerVisible:!1,toggleMobileBanner:t=>e({isMobileBannerVisible:t}),toggleBanner:t=>e({isBannerVisible:t})}))},26025:function(e,t,r){r.d(t,{Q:function(){return n}});let n=(0,r(79391).Ue)()(e=>({setIsFileUploading:t=>e({isFileUploading:t}),isFileUploading:!1}))},34870:function(e,t,r){r.d(t,{_:function(){return s}});var n=r(79391),l=r(76485),a=r(33630);let s=(0,n.Ue)()((e,t)=>({tooltips:{[l.H.APP_DOWNLOAD]:!1,[l.H.HISTORY_POPOVER]:!1,[l.H.IMAGE_SETTINGS]:!1,[l.H.MODE_SELECTION]:!1},openTooltip:t=>e(e=>({tooltips:{...e.tooltips,[t]:!0}})),closeTooltip:t=>e(e=>({tooltips:{...e.tooltips,[t]:!1}})),setTooltipOpen:(t,r)=>e(e=>({tooltips:{...e.tooltips,[t]:r}})),toggleTooltip:t=>e(e=>({tooltips:{...e.tooltips,[t]:!e.tooltips[t]}})),isTooltipOpen:e=>t().tooltips[e],isAnyTooltipOpen:()=>Object.values(t().tooltips).some(e=>e),closeAll:()=>{e(e=>({tooltips:(0,a.s4)(e.tooltips).reduce((e,t)=>({...e,[t]:!1}),{})}),!0)}}))},25510:function(e,t,r){r.d(t,{Av:function(){return l},L0:function(){return a},w2:function(){return n}});let n=e=>e.startsWith("image/"),l=e=>{var t;let r=null!==(t=e.split("/")[1])&&void 0!==t?t:"";switch(r){case"vnd.openxmlformats-officedocument.spreadsheetml.sheet":return"xlsx";case"vnd.ms-excel":return"xls";case"vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";case"msword":return"doc";case"vnd.openxmlformats-officedocument.presentationml.presentation":return"pptx";case"vnd.ms-powerpoint":return"ppt";case"pdf":return"pdf";case"plain":return"Text";default:return r||"Selected file"}},a=e=>new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=()=>{r(Error("Failed to read file: ".concat(e.name)))},n.onabort=()=>{r(Error("File reading aborted: ".concat(e.name)))},n.readAsDataURL(e)})}}]);