"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6692],{58920:function(e,t,s){s.d(t,{S:function(){return c}});var l=s(21956),r=s(35609),a=s(18324),n=s(20225),i=s(62819),o=s(58682);let c=()=>{let{bgColor:e,text:t,textColor:s,name:c,tryNowLink:d,promotionText:u}=(0,n.Td)()(e=>e.globalBanner),m=(0,i.m)()(e=>e.user),{isBannerVisible:x,toggleBanner:h}=(0,a.Q)(),{isUtmModelFlow:p}=(0,r.o)();return(0,l.useLayoutEffect)(()=>{p&&localStorage.setItem((0,o.b)({banner:c,userId:null==m?void 0:m.id}),"true")},[]),{isBannerVisible:x,bgColor:e,text:t,textColor:s,handleBannerButtonClick:()=>{localStorage.setItem((0,o.b)({banner:c,userId:null==m?void 0:m.id}),"true"),h(!1)},tryNowLink:d,promotionText:u}}},52272:function(e,t,s){s.d(t,{K:function(){return sE}});var l,r,a,n=s(10250),i=s(21956),o=s(3218),c=s(82185),d=s(21633),u=s(5899),m=s(28951),x=s(44066);let h=()=>{let{isOpen:e,close:t,messageId:s,toggle:l}=(0,x._)(),{sourcesMap:r}=(0,u.m)(),{isLandingPageChat:a}=(0,d.j)(),n=(0,m.Av)();return{sources:r[s],isOpen:e,close:t,toggle:l,showSourcesBottomSheet:!a&&!n}},p=()=>{let{isOpen:e,sources:t,toggle:s,showSourcesBottomSheet:l}=h();return l?(0,n.jsx)(o.yo,{open:e,onOpenChange:s,children:(0,n.jsxs)(o.ue,{side:"bottom",className:"flex size-full h-[90dvh] flex-col gap-4 rounded-t-2xl border-none bg-primary p-0 pb-5",children:[(0,n.jsxs)(o.Tu,{className:"flex h-16 flex-row items-center justify-between border-x-0 border-b border-t-[0px] border-b-secondary-disabled p-4 text-left",children:[(0,n.jsx)(o.bC,{className:"text-body-lg font-medium text-primary",children:"Web Sources"}),(0,n.jsx)(o.Sv,{})]}),(0,n.jsx)(c.h,{sources:t})]})}):null};var f=s(14405),g=s(15751);let j=()=>{let{isOpen:e,close:t,messageId:s,toggle:l}=(0,x._)(),{sourcesMap:r}=(0,u.m)(),{isLandingPageChat:a}=(0,d.j)(),n=(0,m.nw)(),i=(0,m.Av)();return{sources:r[s],isOpen:e,close:t,toggle:l,showSourcesDialog:a||i&&!n,isLandingPage:a}},v=()=>{let{isOpen:e,sources:t,toggle:s,showSourcesDialog:l,isLandingPage:r}=j();return l?(0,n.jsx)(f.Vq,{open:e,onOpenChange:s,children:(0,n.jsxs)(f.cZ,{showOverlay:!0,className:(0,g.cn)("flex size-full max-h-[75dvh] max-w-[calc(100%-32px)] flex-col rounded-2xl border-none bg-primary ring-0 tablet:max-w-[484px] xl:max-h-[600px]",{"max-h-[calc(75dvh-var(--landing-page-navbar-height))]":r}),children:[(0,n.jsxs)(f.fK,{className:"flex h-14 shrink-0 items-center justify-between border-b-secondary-disabled pr-3 ps-4",children:[(0,n.jsx)(f.$N,{className:"text-label-md font-medium text-primary",children:"Web Sources"}),(0,n.jsx)(f.iK,{})]}),(0,n.jsx)("div",{"data-lenis-prevent":!0,className:"flex-1 overflow-y-auto overscroll-contain px-4 pt-4",children:(0,n.jsx)(c.h,{sources:t})})]})}):null};var y=s(88577),b=s(86340),N=s(54679),w=s(25325),k=s(87082),C=s(28886),I=s(51897),T=s(7911),S=s(26450),L=s(69088),A=s(4062),E=s(20225);let _=e=>{let{error:t,lastMessage:s,regenerateMessage:l}=e,{currentModelInfo:r,isLandingPageChat:a}=(0,d.j)(),{branding:n,externalLinks:i}=(0,E.Td)()(e=>({branding:e.branding,externalLinks:e.externalLinks})),o=(0,A.r)(e=>e.captchaAction);return{error:t,handleRegenerateMessage:async()=>{if(s){if(a){o(()=>l(s.id,r));return}await l(s.id,r)}},logos:n.logos,externalLinks:i,captchaAction:o}},M=e=>{let{error:t,lastMessage:s,regenerateMessage:l}=e,{error:r,handleRegenerateMessage:a,externalLinks:i,logos:o}=_({error:t,lastMessage:s,regenerateMessage:l});return r&&r!==k.K.FREE_CHAT_LIMIT?(0,n.jsxs)("div",{className:"space-y-10",children:[(0,n.jsxs)("div",{className:"flex w-full gap-4",children:[(0,n.jsx)("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-full border border-secondary",children:(0,n.jsx)(b.default,{src:(0,L.j)(o[C.VS.AI_CHAT]),alt:"".concat(I.x.NEXT_PUBLIC_BRAND_NAME," Logo"),className:"rounded-full",width:28,height:28})}),(0,n.jsxs)("div",{className:"flex w-full gap-3 rounded-2xl border border-critical bg-surface-critical p-4",children:[(0,n.jsx)(T.g,{className:"text-critical"}),(0,n.jsxs)("p",{className:"text-body-sm text-primary",children:["There was an issue while processing your request. If this issue persists please contact customer support at"," ",(0,n.jsx)(w.x,{className:"underline",href:"mailto:".concat(i.SUPPORT_EMAIL),children:i.SUPPORT_EMAIL})]})]})]}),(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsxs)(N.Button,{size:"md",variant:"outline",className:"gap-2",onClick:a,children:[(0,n.jsx)(S.D,{className:"size-[18px]"}),(0,n.jsx)("span",{className:"text-body-md font-medium",children:"Regenerate"})]})})]}):null};var O=s(57054),R=s(35787),z=s(58920),D=s(15475),B=s(21761),U=s(4206),P=s(63856),H=s(43192),F=s(9540);let G=()=>{let{isLandingPageChat:e,currentModelInfo:t}=(0,d.j)(),{isBannerVisible:s}=(0,z.S)(),{logos:l}=(0,E.Td)()(e=>e.branding),r=(0,F.I)(e=>()=>e.openDialog(P.W.SUBSCRIPTION_POPUP)),a=e?H.H7.AUTH:"";return{message:e?" It seems like you have exhausted your free limit of chat. Please sign in to continue chatting and enjoy never ending conversations.":"It seems like you have exhausted your free limit of chat. Please upgrade your plan to continue chatting and enjoy never ending conversations.",redirectLink:a,onClick:e?()=>{}:()=>{sessionStorage.setItem(U.M.ATC_CTA_SOURCE,B.I.UPGRADE_PLAN_BUTTON),sessionStorage.setItem(U.H.TRIGGER,D.c.UPGRADE_BUTTON),r()},messageButtonText:e?"Sign In":"Upgrade Plan",currentModelInfo:t,logos:l,isLandingPageChat:e,isBannerVisible:s}},V=e=>{let{showChatLimitMessage:t}=e,{message:s,redirectLink:l,onClick:r,messageButtonText:a,logos:i,isLandingPageChat:o,isBannerVisible:c}=G();return t?(0,n.jsxs)("div",{className:(0,g.cn)("flex min-h-[calc(100dvh-570px)] w-full flex-col gap-6 tablet:min-h-[calc(100dvh-480px)]",{"min-h-[calc(100dvh-500px)] tablet:min-h-[calc(100dvh-600px)]":o&&!c,"min-h-[calc(100dvh-500px)] tablet:min-h-[calc(100dvh-650px)]":o&&c,"min-h-[calc(100dvh-620px)] tablet:min-h-[calc(100dvh-520px)]":!o&&c}),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 laptop:flex-row",children:[(0,n.jsx)("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-full border border-secondary",children:(0,n.jsx)(b.default,{src:(0,L.j)(i[C.VS.AI_CHAT]),alt:"".concat(I.x.NEXT_PUBLIC_BRAND_NAME," Logo"),width:28,height:28,className:"rounded-full"})}),(0,n.jsx)("p",{className:"text-body-sm text-primary",children:s})]}),(0,n.jsx)("div",{className:"w-full laptop:px-14",children:(0,n.jsx)(N.Button,{variant:"brand-tonal",size:"md",shape:"rect",className:"flex w-fit gap-2",asChild:!0,children:(0,n.jsxs)(O.default,{href:l,onClick:r,prefetch:!0,children:[(0,n.jsx)("span",{children:a}),(0,n.jsx)(R.f,{className:"size-[18px]"})]})})})]}):null};var K=s(2089),Z=s(19322),W=s(33472),$=s(58624);let q=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m11.297 2.667-2.54-.627A1.368 1.368 0 0 0 8.43 2H5.715c-.25 0-.497.069-.71.2a1.34 1.34 0 0 0-.498.537L2.142 7.404a1.319 1.319 0 0 0 .06 1.297c.12.193.29.353.491.464.201.11.428.168.658.168H7.92m3.377-6.666v6l-2.29 3.392c-.269.396-.411.862-.411 1.338a.607.607 0 0 1-.612.603H7.92a1.36 1.36 0 0 1-.956-.39 1.325 1.325 0 0 1-.395-.943V9.333m4.728-6.666h1.352c.358 0 .702.14.955.39.254.25.396.59.396.943v4c0 .354-.142.693-.396.943a1.36 1.36 0 0 1-.955.39H10.96"})})},X=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:(0,n.jsx)("path",{d:"M16.5 3.01v5.408c0 .834-.684 1.518-1.518 1.518h-1.51V1.5h1.51A1.51 1.51 0 0 1 16.5 3.01ZM3.111 2.661l-1.59 7.03c-.15.863.507 1.65 1.388 1.65h4.48v3.28c0 1.032.844 1.875 1.865 1.875h.085a.94.94 0 0 0 .862-.571l2.559-5.99V1.5H4.499c-.685 0-1.266.487-1.388 1.162Z",fill:"currentColor"})})};var Q=s(92378);let Y=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:(0,n.jsx)("path",{d:"M1.5 14.99V9.583c0-.834.684-1.518 1.518-1.518h1.51V16.5h-1.51A1.51 1.51 0 0 1 1.5 14.99Zm13.389.348 1.59-7.03a1.404 1.404 0 0 0-1.388-1.65h-4.48v-3.28a1.878 1.878 0 0 0-1.865-1.875H8.66a.94.94 0 0 0-.862.571L5.24 8.064V16.5h8.261c.685 0 1.266-.487 1.388-1.162Z",fill:"currentColor"})})};var J=s(45153),ee=s(9789),et=s(80950);(l=r||(r={})).NONE="NONE",l.LIKE="LIKE",l.DISLIKE="DISLIKE";let es=e=>{let{handleFeedbackSubmit:t}=e,s=(0,E.Td)()(e=>e.feedbackMessages),{isFeedbackModalOpen:l,toggleFeedbackModal:a}=(0,F.I)(e=>({isFeedbackModalOpen:e.isDialogOpen(P.W.FEEDBACK_MODAL),toggleFeedbackModal:()=>e.toggleDialog(P.W.FEEDBACK_MODAL)})),[n,o]=(0,i.useState)(null),[c,d]=(0,i.useState)("");(0,i.useEffect)(()=>{l&&(o(null),d(""))},[l]);let u=0===c.trim().length&&!n,m=()=>{t(r.DISLIKE)};return{feedbackMessages:s,handleSelectMessage:e=>{o(t=>t===e?null:e)},selectedMessage:n,isFeedbackModalOpen:l,toggleFeedbackModal:()=>{m(),a()},handleFeedbackMessageChange:e=>{d(e.target.value)},feedbackMessage:c,submitDisabled:u,onSubmit:()=>{try{let e=[n,c.trim()].filter(Boolean).join(", ");t(r.DISLIKE,e),et.Am.success("Thanks for your feedback",{className:"text-label-sm font-normal"}),a()}catch(e){et.Am.error("Error submitting feedback")}}}},el=e=>{let{handleFeedbackSubmit:t}=e,{feedbackMessages:s,handleSelectMessage:l,selectedMessage:r,isFeedbackModalOpen:a,toggleFeedbackModal:i,handleFeedbackMessageChange:o,submitDisabled:c,onSubmit:d}=es({handleFeedbackSubmit:t});return(0,n.jsxs)(f.Vq,{open:a,onOpenChange:i,children:[(0,n.jsxs)(f.cZ,{onOpenAutoFocus:e=>{e.preventDefault()},className:"flex w-[343px] flex-col items-center justify-center tablet:w-[460px]",children:[(0,n.jsxs)(f.fK,{className:"flex h-20 w-full items-center justify-between p-4 tablet:p-6",children:[(0,n.jsx)(f.$N,{className:"text-heading-xs font-medium",children:"Provide Additional Feedback"}),(0,n.jsx)(f.iK,{})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 p-4 tablet:p-6",children:[(0,n.jsx)("div",{className:"flex w-full flex-wrap items-start justify-start gap-3",children:s.map(e=>(0,n.jsx)(ee.A.Root,{size:"md",className:(0,g.cn)("box-border w-fit cursor-pointer rounded-full border border-tertiary px-2.5 py-1 text-body-xs text-secondary",{"border-inverse bg-fill-secondary":r===e}),onClick:()=>{l(e)},children:e},e))}),(0,n.jsx)("div",{className:"w-full overflow-hidden rounded-xl",children:(0,n.jsx)(J.Z,{className:"max-h-[116px] w-full resize-none rounded-xl border border-tertiary bg-transparent px-3 py-2 text-body-sm text-primary placeholder:text-secondary focus-within:ring-0 focus:outline-none focus:ring-0 active:ring-0 tablet:max-h-24",placeholder:"Type your feedback here (optional)",minRows:1,onChange:o})}),(0,n.jsx)("div",{className:"flex w-full items-center justify-end",children:(0,n.jsx)(N.Button,{variant:"primary",className:"px-6 py-2",onClick:d,disabled:c,children:"Submit"})})]})]}),(0,n.jsx)(f.t9,{className:"fixed inset-0 z-50 bg-black/30"})]})};var er=s(61206),ea=s(85119),en=s(11873),ei=s(12178),eo=s(57914),ec=s(65714);let ed=new ec.h({baseURL:I.x.NEXT_PUBLIC_FEEDBACK_API_URL,defaultHeadersGenerator:eo.A}),eu=async e=>await ed.post("/feedback",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},{throwOnError:!0});var em=s(20704),ex=s(58129);let eh=e=>{var t,s;let{chatId:l,messageId:a,parentMessageId:n,selectedLLM:o,feature:c}=e,{aggregator:d}=(0,ei.O)(),m=(0,E.Td)()(e=>e.models),{messages:x}=(0,u.m)(),h=x.find(e=>e.id===n),{deviceType:p}=(0,ea.V)(),f=Array.isArray(null==h?void 0:h.content)?null!==(s=null==h?void 0:null===(t=h.content.find(e=>"text"===e.type&&"text"in e&&!!e.text))||void 0===t?void 0:t.text)&&void 0!==s?s:"":null==h?void 0:h.content.toString(),{page:g,email:j,userId:v,userAccountStatus:y,userPlanPeriod:b,slug:N,userPlan:w,source:k}=(0,en.T)(),C=(0,i.useMemo)(()=>{var e,t;return(0,em.y)(null!==(t=null===(e=m.find(e=>e.model===o))||void 0===e?void 0:e.name)&&void 0!==t?t:o)},[m,o]),I=async(e,t)=>{try{var s,r;await eu({feature:c,chatId:l,messageId:a,selectedLLM:o,feedbackReaction:e,feedbackMessage:t}),d.log(er.H.message_feedback.withProperties({feedback_type:e,dislike_reason:null!==(s=null==t?void 0:t.split(", ")[0])&&void 0!==s?s:"",other_reason:null!==(r=null==t?void 0:t.split(", ")[1])&&void 0!==r?r:"",prompt_text:f,model:C,chat_id:l,message_id:a,page_name:g,source:k,slug:N,email:j,user_id:v,user_account_status:y,user_plan_period:b,user_plan:w,device:p,...(0,ex.U)()}))}catch(e){et.Am.error("Error submitting feedback")}},[T,S]=(0,i.useState)(r.NONE),{openDialog:L}=(0,F.I)(e=>({openDialog:e.openDialog})),A=async()=>{if(T!==r.LIKE)try{await I(r.LIKE),S(r.LIKE)}catch(e){et.Am.error("Error submitting feedback")}};return{liked:T===r.LIKE,disliked:T===r.DISLIKE,handleLike:A,handleDislike:()=>{T!==r.DISLIKE&&(S(r.DISLIKE),L(P.W.FEEDBACK_MODAL))},handleFeedbackSubmit:I}},ep=e=>{let{chatId:t,messageId:s,parentMessageId:l,selectedLLM:r,feature:a}=e,{liked:i,handleLike:o,disliked:c,handleDislike:d,handleFeedbackSubmit:u}=eh({chatId:t,messageId:s,parentMessageId:l,selectedLLM:r,feature:a});return(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(N.Button,{variant:"icon-ghost",size:"icon-sm",onClick:o,children:[i?(0,n.jsx)(Y,{className:"size-4"}):(0,n.jsx)(Q.l,{className:"!size-[18px]"}),(0,n.jsx)("span",{className:"sr-only",children:"Like"})]}),(0,n.jsxs)(N.Button,{variant:"icon-ghost",size:"icon-sm",onClick:d,children:[c?(0,n.jsx)(X,{className:"size-4"}):(0,n.jsx)(q,{className:"!size-[18px]"}),(0,n.jsx)("span",{className:"sr-only",children:"Dislike"})]}),(0,n.jsx)(el,{handleFeedbackSubmit:u})]})};var ef=s(73450),eg=s(23412),ej=s(15210);let ev=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,n.jsx)("path",{d:"M13.0766 11.3939C13.6673 10.3694 13.9861 9.19754 14 7.99997C13.9861 6.80239 13.6673 5.63053 13.0766 4.60602M11.2342 6.54542C11.5552 6.95297 11.7199 7.47166 11.696 7.99997C11.7199 8.52828 11.5552 9.04696 11.2342 9.45451M4.30856 6.05499H2.92343C2.42047 6.05499 2 6.49786 2 7.02763V8.97292C2 9.5027 2.42047 9.94557 2.92343 9.94557H4.30856L7.45744 13.165C8.05333 13.5993 8.90956 13.142 8.92569 12.3772V3.62336C8.94299 2.85804 8.1381 2.40003 7.54055 2.83552L4.30856 6.05499Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})},ey=e=>{let{isPlaying:t,isLoading:s,stop:l,handleVolumePlayClick:r}=e;return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(ef.Rl,{content:"Stop",tooltipContentProps:{side:"bottom"},children:(0,n.jsxs)(N.Button,{variant:"icon-secondary",size:"icon-sm",onClick:l,children:[(0,n.jsx)(ej.f,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Stop"})]})}),!t&&s&&(0,n.jsxs)(N.Button,{variant:"icon-ghost",size:"icon-sm",disabled:!0,children:[(0,n.jsx)(eg.c,{className:"size-4 animate-spin"}),(0,n.jsx)("span",{className:"sr-only",children:"Loading..."})]}),!t&&!s&&(0,n.jsx)(ef.Rl,{content:"Read Aloud",tooltipContentProps:{side:"bottom"},children:(0,n.jsxs)(N.Button,{variant:"icon-ghost",size:"icon-sm",onClick:r,children:[(0,n.jsx)(ev,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Read Aloud"})]})})]})};var eb=s(57331),eN=s(68264),ew=s(41432),ek=s(14243),eC=s(22689),eI=s(5);let eT=()=>{let[,e]=(0,eI.m9)(),[t,s]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(t){let e=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(e)}return()=>{}},[t]),{showCopied:t,handleCopy:async t=>{s(!0),await e(t)}}};var eS=s(49190);let eL=null,eA=e=>{null==eL||eL(),eL=e},eE=e=>{eL===e&&(eL=null)};var e_=s(72053),eM=s.n(e_);async function eO(e){let{text:t,controller:s}=e,l=new FormData;l.append("data",JSON.stringify({text:t}));let r="".concat(I.x.NEXT_PUBLIC_APP_API_ENDPOINT).concat(I.x.NEXT_PUBLIC_TTS_API_PATH,"/generate"),a=await fetch(r,{method:"POST",headers:{...(0,eo.A)()},body:l,signal:s.signal});if((a.headers.get("Content-Type")||"").includes("application/json")){let e=await a.json();if(400===e.code)throw Error(e.message);throw Error("Something went wrong.")}if(!a.ok||!a.body)throw Error("TTS request failed or streaming not supported");return a.body.getReader()}async function eR(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.aborted)return s;let{value:l,done:r}=await e.read();return r?s:(l&&s.push(l),eR(e,t,s))}async function ez(e){let{reader:t,sourceBuffer:s,mediaSource:l,audio:r,signal:a,onFirstChunk:n}=e;if(a.aborted){"open"===l.readyState&&l.endOfStream();return}let{done:i,value:o}=await t.read();if(i){"open"===l.readyState&&l.endOfStream();return}o&&(await new Promise((e,t)=>{s.appendBuffer(o),s.onupdateend=()=>e(),s.onerror=()=>t()}),n()),await ez({reader:t,sourceBuffer:s,mediaSource:l,audio:r,signal:a,onFirstChunk:n})}let eD=e=>{let{content:t}=e,[s,l]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),n=(0,i.useRef)(null),o=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useCallback)(()=>{var e;null===(e=n.current)||void 0===e||e.abort(),n.current=null,o.current&&(o.current.pause(),o.current.src=""),a(!1),l(!1)},[]),u=(0,i.useCallback)(async()=>{if(!t)return;eA(d),l(!0),a(!1);let e=new AbortController;n.current=e;let s=new Audio;o.current=s,(eS.G6||eS.gn)&&s.play().catch(()=>{});try{let r;let i=await eO({text:(r=(r=t).replace(/\[.*?\]\(.*?\)/g,""),r=(r=(r=(r=eM()(r)).replace(/\b([a-zA-Z0-9]+)\.([a-zA-Z0-9]+)\b/g,"$1[dot]$2")).replace(/\n{2,}/g,"\n").replace(/[ \t]{2,}/g," ")).trim()),controller:n.current});if("undefined"!=typeof MediaSource&&MediaSource.isTypeSupported("audio/mpeg")){let t=new MediaSource;s.src=URL.createObjectURL(t),t.addEventListener("sourceopen",async()=>{try{if(!MediaSource.isTypeSupported("audio/mpeg"))throw Error("Audio not supported in this browser");let r=t.addSourceBuffer("audio/mpeg");c.current=r;let n=!1;await ez({reader:i,sourceBuffer:r,mediaSource:t,audio:s,signal:e.signal,onFirstChunk:()=>{n||(n=!0,l(!1),a(!0),s.play().catch(()=>{et.Am.error("Failed to play audio"),d()}))}}).catch(()=>{d()})}catch(e){d(),et.Am.error(e instanceof Error?e.message:"Something went wrong.")}}),s.onended=()=>a(!1)}else{let t=await eR(i,e.signal);if(e.signal.aborted)return;s.src=URL.createObjectURL(new Blob(t,{type:"audio/mpeg"})),eS.G6||eS.gn?s.onloadedmetadata=()=>{l(!1),a(!0),s.play().catch(()=>{et.Am.error("Failed to play audio"),d()})}:s.oncanplaythrough=()=>{l(!1),a(!0),s.play().catch(()=>{et.Am.error("Failed to play audio"),d()})},s.onended=()=>a(!1)}}catch(e){d(),et.Am.error(e instanceof Error?e.message:"Something went wrong.")}},[t,d]);return(0,i.useEffect)(()=>()=>{eE(d),d()},[d]),{isLoading:s,isPlaying:r,play:u,stop:d}};var eB=s(62819),eU=s(2350);let eP=(e,t,s,l,r,a,n,o)=>{let{setCurrentModel:c,isModelPageChat:u,isLandingPageChat:m,getModelInfo:x}=(0,d.j)(),{isSidebarOpen:h}=(0,eN.Ap)(),p=(0,A.r)(e=>e.captchaAction),f=(0,eB.m)()(e=>{var t;return null===(t=e.subscription)||void 0===t?void 0:t.isActive}),{openProModal:j}=(0,F.I)(e=>({openProModal:()=>e.openDialog(P.W.PRO_MODAL)})),{isLoading:v,isPlaying:y,play:b,stop:N}=eD({content:o}),w=(0,eb.usePathname)(),{showCopied:k,handleCopy:I}=eT(),{getPromptAndFileTypes:T,trackExport:S}=(0,ek.D)(),L=(0,i.useCallback)(e=>{I(e);let{promptText:t,uploadFileTypes:s}=T(n);S({feature:a,trigger:eC.nx.COPY_BUTTON,prompt_text:t,upload_file_type:s})},[I,T,S,a,n]),E=(0,i.useCallback)(()=>{f?b():j()},[j,b,f]);return{handleRegenerate:async s=>{let r=x(s);if(r.shouldDisableFileUpload&&t){et.Am.error(ew.e,{className:(0,g.cn)("laptop:whitespace-nowrap w-full max-w-[424px] px-4 py-3 laptop:max-w-[613px] tablet:ml-[var(--sidebar-collapsed-width)] text-label-sm [&>svg]:size-5",{"tablet:ml-[var(--sidebar-expanded-width)]":h})});return}c(r.name),m?p(()=>l(e,r)):(w.includes(H.H7.SEARCH_ENGINE),l(e,r))},showCopied:k,handleCopy:L,showModelDropdown:!u&&a===C.VS.AI_CHAT&&!r,activeModel:x(s),shouldShowFeedback:!m&&!u,shouldShowTTS:(0,eU.JE)(w)===C.VS.AI_CHAT&&!m,isLoading:v,isPlaying:y,handleVolumePlayClick:E,stop:N}},eH=e=>{let{model:t,content:s,parentId:l,isModelSelectionOpen:r,setIsModelSelectionOpen:a,userMessageContainsFiles:i,userMessage:o,messageId:c,regenerateMessage:d,isWebSearch:u,feature:m,isLandingPage:x}=e,{handleRegenerate:h,showCopied:p,handleCopy:f,showModelDropdown:g,activeModel:j,shouldShowFeedback:v,shouldShowTTS:y,isLoading:b,isPlaying:w,stop:k,handleVolumePlayClick:C}=eP(l,i,t,d,u,m,o,s);return(0,n.jsxs)("div",{className:"relative -ml-2 flex items-center text-secondary",children:[p?(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(W.n,{className:"size-4"})}):(0,n.jsxs)(N.Button,{variant:"icon-ghost",size:"icon-sm",onClick:()=>f(s),children:[(0,n.jsx)($.T,{className:"!size-[18px]"}),(0,n.jsx)("span",{className:"sr-only",children:"Copy"})]}),(0,n.jsxs)(N.Button,{variant:"icon-ghost",size:"icon-sm",onClick:()=>h(t),children:[(0,n.jsx)(S.D,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Regenerate"})]}),v&&(0,n.jsx)(ep,{chatId:l,messageId:c,parentMessageId:l,selectedLLM:t,feature:m}),y&&(0,n.jsx)(ey,{isLoading:b,isPlaying:w,stop:k,handleVolumePlayClick:C}),g&&!x&&(0,n.jsx)(K.I,{isOpen:r,setIsOpen:a,variant:Z.W.SYSTEM_RESPONSE,valueChangeHandler:h,activeModel:j})]})};var eF=s(57676),eG=s(47897);let eV=e=>{let{type:t}=e,s=(0,E.Td)()(e=>e.handOffConfig).cards[t],[l,r]=(0,i.useState)(!0);return{showCard:l,onClose:(0,i.useCallback)(()=>{r(!1)},[]),title:null==s?void 0:s.title,description:null==s?void 0:s.description,image:null==s?void 0:s.image}},eK=e=>{let{type:t}=e,{showCard:s,onClose:l,title:r,description:a,image:i}=eV({type:t});return s&&(r||a)?(0,n.jsxs)("div",{className:"relative flex w-full gap-4 rounded-3xl border border-secondary bg-surface p-4",children:[(0,n.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center overflow-hidden rounded-[10px] border border-secondary bg-surface [&_svg]:size-10",children:(0,n.jsx)("div",{className:"size-10 [&_svg]:size-full",dangerouslySetInnerHTML:{__html:i}})}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-[7px]",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("h3",{className:"text-label-lg font-semibold text-primary",children:r}),(0,n.jsx)("p",{className:"text-body-sm text-secondary",children:a})]}),(0,n.jsx)("div",{className:(0,g.cn)("inline-flex h-9 w-fit items-center gap-1.5 rounded-xl bg-fill-brand-secondary px-2.5 py-1.5 text-label-md text-brand"),children:"Coming Soon!"})]}),(0,n.jsx)(N.Button,{variant:"icon-secondary",shape:"pill",size:"icon-xs",onClick:l,className:"absolute -right-2 -top-2",children:(0,n.jsx)(eG.b,{className:"size-2 text-primary"})})]}):null},eZ=e=>{let{alt:t,className:s,width:l=40,height:r=40,...a}=e;return(0,n.jsx)(b.default,{alt:t,width:l,height:r,className:(0,g.cn)("size-10 overflow-hidden rounded-[10px] border border-secondary bg-surface object-cover",s),...a})};var eW=s(1844),e$=s(91074),eq=s(61277),eX=s(15135),eQ=s(65598),eY=s(79417);let eJ=new ec.h({baseURL:I.x.NEXT_PUBLIC_AUTH_API_URL,defaultHeadersGenerator:eo.A});var e0=s(16888);let e1=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e?"Bearer ".concat(e):(0,e0.Oj)();return eJ.get("/user/persona",{headers:{Authorization:t}})},e2=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=t?"Bearer ".concat(t):(0,e0.Oj)();return eJ.put("/user/persona",{body:{persona:e},headers:{Authorization:s,"Content-Type":"application/json"}})};(a||(a={})).GET_USER_PERSONA="get-user-persona";let e3=()=>(0,eQ.D)({mutationFn:e2}),e4=()=>(0,eY.a)({queryKey:[a.GET_USER_PERSONA],queryFn:async()=>{let e=await e1();return"success"===e.code?e.data.result:null}}),e6=()=>{let{data:e,isLoading:t,refetch:s}=e4(),{mutateAsync:l}=e3(),r=(0,i.useCallback)(async t=>{var r;await l({...null!==(r=null==e?void 0:e.persona)&&void 0!==r?r:{},imageGenTouchpoints:{hasInteracted:!1,ids:t}}),await s()},[e,l,s]),a=(0,i.useCallback)(async()=>{var t;await l({...null!==(t=null==e?void 0:e.persona)&&void 0!==t?t:{},imageGenTouchpoints:{hasInteracted:!0,ids:[]}}),await s()},[e,l,s]);return{personaInfo:e,isPersonaInfoLoading:t,storeImageGenTouchPoints:r,registerUserInteraction:a}};var e5=s(64925);let e8=()=>{var e;return null===(e=(0,e5.UT)()(e=>e.flags).IMAGE_GEN_TOUCHPOINT_COUNT_REACHED)||void 0===e||e};var e7=s(38126),e9=s(35609),te=s(29306);let tt=e=>{var t;let{messageId:s,userMessage:l,forceShow:r=!1}=e,[a,n]=(0,i.useState)(!1),o=(0,eb.useRouter)(),{id:c}=(0,u.m)(),{isUtmModelFlow:m}=(0,e9.o)(),{isUtmPlanBasic:x}=(0,te.G)(),{isLandingPageChat:h}=(0,d.j)(),p=e8(),f=(0,E.Td)()(e=>e.defaultIGTouchpointModel),{setCarryForward:g}=(0,e7.H)(),{isPersonaInfoLoading:j,personaInfo:v,storeImageGenTouchPoints:y,registerUserInteraction:b}=e6(),N=(0,i.useCallback)(()=>{n(!1),b()},[b]),w=(0,i.useCallback)(()=>{if(l.role!==e$.y.USER)return;g({prompt:l.content.reduce((e,t)=>"text"===t.type?e+t.text:e,""),files:[],feature:C.VS.IMAGE_GENERATION},eX.s.IMAGE_GEN_CARRY_FORWARD);let e=new URL(window.location.origin+H.H7.IMAGE);e.searchParams.append(eq.Ro.MODEL,f),N(),o.push(e.toString())},[l.role,l.content,f,g,N,o]),k=(0,i.useCallback)(()=>{N()},[N]);return(0,i.useEffect)(()=>{if(r){n(!0);return}n((()=>{var e,t,l,r,a;let n="".concat(c,":").concat(s),i=null!==(a=null==v?void 0:null===(t=v.persona)||void 0===t?void 0:null===(e=t.imageGenTouchpoints)||void 0===e?void 0:e.ids)&&void 0!==a?a:[];return!!p&&!x&&!m&&!h&&!j&&(null==v||null===(r=v.persona)||void 0===r||null===(l=r.imageGenTouchpoints)||void 0===l||!l.hasInteracted)&&!(i.length>=eW.$)&&(!!i.find(e=>e===n)||(i.push(n),y(i),!0))})())},[r,x,m,h,p,s,j,null==v?void 0:null===(t=v.persona)||void 0===t?void 0:t.imageGenTouchpoints,c,y]),{showTouchpoint:a,onCarryForward:w,onClose:k}},ts=e=>{let{messageId:t,userMessage:s,forceShow:l=!1}=e,{showTouchpoint:r,onCarryForward:a,onClose:i}=tt({messageId:t,userMessage:s,forceShow:l});return r?(0,n.jsxs)("div",{className:"relative flex w-full gap-4 rounded-3xl border border-secondary bg-surface p-4",children:[(0,n.jsxs)("div",{className:"flex shrink-0",children:[(0,n.jsx)(eZ,{src:(0,L.j)("images/chat/image-gen-touchpoint-1-1.png"),alt:"Image Gen Touchpoint 1",className:"-rotate-[4deg]"}),(0,n.jsx)(eZ,{src:(0,L.j)("images/chat/image-gen-touchpoint-2-1.png"),alt:"Image Gen Touchpoint 2",className:"-ml-6 rotate-[4deg]"})]}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("h3",{className:"text-label-lg font-semibold text-primary",children:"Try Advanced Image Generation ✨"}),(0,n.jsx)("p",{className:"text-body-sm text-secondary",children:"Effortlessly create variations, merge images, remove backgrounds, and upscale to high resolution, all through simple chat commands."})]}),(0,n.jsxs)(N.Button,{variant:"brand-tonal",size:"sm",shape:"pill",onClick:a,className:"w-fit",children:["Take It Further",(0,n.jsx)(R.f,{className:"size-5"})]})]}),(0,n.jsx)(N.Button,{variant:"icon-secondary",shape:"pill",size:"icon-xs",onClick:i,className:"absolute -right-2 -top-2",children:(0,n.jsx)(eG.b,{className:"size-2 text-primary"})})]}):null};var tl=s(29075),tr=s(59759),ta=s(84330),tn=s(64323);let ti=(0,i.createContext)(null);function to(){let e=(0,i.useContext)(ti);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let tc=(0,i.forwardRef)((e,t)=>{let{orientation:s="horizontal",opts:l,setApi:r,plugins:a,className:o,children:c,...d}=e,[u,m]=(0,tr.Z)({...l,axis:"horizontal"===s?"x":"y"},a),[x,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),j=(0,i.useCallback)(e=>{e&&(h(e.canScrollPrev()),f(e.canScrollNext()))},[]),v=(0,i.useCallback)(()=>{null==m||m.scrollPrev()},[m]),y=(0,i.useCallback)(()=>{null==m||m.scrollNext()},[m]),b=(0,i.useCallback)(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[v,y]);return(0,i.useEffect)(()=>{m&&r&&r(m)},[m,r]),(0,i.useEffect)(()=>{if(m)return j(m),m.on("reInit",j),m.on("select",j),()=>{null==m||m.off("select",j)}},[m,j]),(0,n.jsx)(ti.Provider,{value:{carouselRef:u,api:m,opts:l,orientation:s||((null==l?void 0:l.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:y,canScrollPrev:x,canScrollNext:p},children:(0,n.jsx)("div",{ref:t,onKeyDownCapture:b,className:(0,g.cn)("relative",o),role:"region","aria-roledescription":"carousel",...d,children:c})})});tc.displayName="Carousel";let td=(0,i.forwardRef)((e,t)=>{let{className:s,viewportClassName:l,...r}=e,{carouselRef:a,orientation:i}=to();return(0,n.jsx)("div",{ref:a,className:(0,g.cn)("overflow-hidden",l),"data-slot":"carousel-content",children:(0,n.jsx)("div",{ref:t,className:(0,g.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",s),...r})})});td.displayName="CarouselContent";let tu=(0,i.forwardRef)((e,t)=>{let{className:s,...l}=e,{orientation:r}=to();return(0,n.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,g.cn)("min-w-0 shrink-0 grow-0 basis-full pt-4",{"pl-4":"horizontal"===r},s),...l})});tu.displayName="CarouselItem";let tm=(0,i.forwardRef)((e,t)=>{let{className:s,variant:l="outline",size:r="icon-xs",renderIcon:a,...i}=e,{orientation:o,scrollPrev:c,canScrollPrev:d}=to(),u=a||(0,n.jsx)(ta.w,{className:"h-4 w-4"});return(0,n.jsxs)(N.Button,{ref:t,variant:l,size:r,className:(0,g.cn)("absolute  h-8 w-8 rounded-full","horizontal"===o?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:c,...i,children:[u,(0,n.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});tm.displayName="CarouselPrevious";let tx=(0,i.forwardRef)((e,t)=>{let{className:s,variant:l="outline",size:r="icon-xs",renderIcon:a,...i}=e,{orientation:o,scrollNext:c,canScrollNext:d}=to(),u=a||(0,n.jsx)(tn.X,{className:"h-4 w-4"});return(0,n.jsxs)(N.Button,{ref:t,variant:l,size:r,className:(0,g.cn)("absolute h-8 w-8 rounded-full","horizontal"===o?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:c,...i,children:[u,(0,n.jsx)("span",{className:"sr-only",children:"Next slide"})]})});tx.displayName="CarouselNext";var th=s(41269),tp=s(16800),tf=s(4769),tg=s(46596),tj=s(48316),tv=s(38291);let ty=e=>{let{siteUrl:t,title:s,messageId:l}=e,r=(0,tv.x)(t);return(0,n.jsxs)(O.default,{href:t,target:"_blank",rel:"noopener noreferrer",className:"group absolute bottom-4 left-auto right-auto z-[100] mx-4 flex size-fit flex-col items-start justify-start gap-2 rounded-xl bg-[#171717]/50 p-4 text-label-lg text-inverse-fixed backdrop-blur tablet:mx-0 desktop-sm:bottom-0 desktop-sm:top-8 desktop-sm:items-center desktop-sm:justify-center",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-1 desktop-sm:justify-start",children:[(0,n.jsx)(b.default,{src:(0,y.rL)(null!=t?t:""),alt:"favicon",width:14,height:14,className:"size-3.5 rounded-full border-[0.75px] border-primary"}),(0,n.jsx)("p",{className:"text-label-sm capitalize text-secondary group-hover:text-tertiary tablet:text-label-md",children:r})]}),(0,n.jsx)("p",{className:"text-white group-hover:text-secondary",children:null!=s?s:l})]})};var tb=s(46173),tN=s(44397),tw=s(16246);let tk=e=>{let{url:t,title:s}=e,{width:l,isInProgress:r,handleImageDownload:a,aspectRatio:i}=(0,tN.L)({src:t,messageId:(0,tw.O)()});return(0,n.jsx)(tb.P,{src:t,title:s,type:"system_image",messageId:(0,tw.O)(),aspectRatio:null!=i?i:"1/1",width:null!=l?l:void 0,handleImageDownload:a,isInProgress:r,isSourcePanel:!0,isDownload:!1})};var tC=s(44634);let tI=()=>{let{index:e,items:t,type:s}=(0,tC.N)(),[l,r]=(0,i.useState)(null),[a,n]=(0,i.useState)(()=>e),{isDialogOpen:o,setIsDialogOpen:c}=(0,F.I)(e=>({isDialogOpen:e.isDialogOpen(P.W.CHAT_MEDIA_CAROUSEL),setIsDialogOpen:t=>e.setDialogOpen(P.W.CHAT_MEDIA_CAROUSEL,t)})),d=(0,i.useCallback)(()=>{l&&n(l.selectedScrollSnap())},[l]);return(0,i.useEffect)(()=>l?(l.on("select",d),()=>{l.off("select",d)}):()=>{},[l,d]),(0,i.useEffect)(()=>{n(e)},[e]),{index:e,isDialogOpen:o,items:t,type:s,setIsDialogOpen:c,setCarouselApi:r,currentIndex:a}},tT=()=>{var e;let{index:t,isDialogOpen:s,items:l,type:r,setIsDialogOpen:a,setCarouselApi:i,currentIndex:o}=tI();return(0,n.jsx)(f.Vq,{open:s,onOpenChange:a,children:(0,n.jsxs)(f.cZ,{showOverlay:!1,className:"flex size-full max-h-full max-w-full flex-col items-center justify-center overflow-hidden rounded-none border-none bg-black ring-0",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,n.jsx)(th.K,{title:"Media Full View Carousel",description:"Shows a carousel of images and videos",variant:tp.S.Dialog}),"image"===r&&l[o]&&l[o].siteUrl&&l[o].title&&(0,n.jsx)(ty,{siteUrl:null!==(e=l[o].siteUrl)&&void 0!==e?e:"",title:l[o].title,messageId:""}),(0,n.jsxs)(tc,{tabIndex:0,className:"flex size-full items-center justify-center scrollbar-none focus:outline-none",opts:{startIndex:t,align:"center",containScroll:!1},setApi:i,plugins:[(0,tl.Z)({snapped:"!opacity-100"})],children:[(0,n.jsx)(td,{viewportClassName:"w-full",children:l.length>0&&(null==l?void 0:l.map(e=>{let{url:t,title:s}=e;return(0,n.jsx)(tu,{className:(0,g.cn)("flex items-center justify-center opacity-50 first:ml-[12.5%] last:mr-[12.5%] tablet:basis-3/4 tablet:pl-4 desktop:pl-32 xl:pl-56",{"pt-8":"image"===r}),children:"image"===r?(0,n.jsx)(tk,{url:t,title:s}):(0,n.jsx)(tf.e,{title:s,src:t,className:"aspect-video"})},t)}))}),(0,n.jsx)(tm,{className:"left-8 z-10 translate-y-0 bg-fill-secondary-hover text-primary",renderIcon:(0,n.jsx)(tg.Y,{})}),(0,n.jsx)(tx,{className:"right-8 z-10 translate-y-0 bg-fill-secondary-hover text-primary",renderIcon:(0,n.jsx)(tj.o,{})})]}),(0,n.jsx)("div",{className:"absolute left-8 top-8 z-[100] flex items-center gap-4",children:(0,n.jsxs)("span",{className:"text-label-xl text-secondary",children:[o+1,"/",l.length]})}),(0,n.jsx)("div",{className:"absolute right-8 top-8 z-[100] flex items-center gap-4",children:(0,n.jsx)(f.GG,{className:"size-7 cursor-pointer focus:ring-0",asChild:!0,children:(0,n.jsx)(N.Button,{variant:"ghost",size:"none",className:"size-7 border-none bg-transparent ring-0 hover:bg-transparent active:bg-transparent",children:(0,n.jsx)(eG.b,{className:"size-full text-inverse-fixed"})})})})]})})},tS=()=>{let[e,t]=(0,i.useState)(!1);return{hasImageLoaded:e,onImageLoad:()=>{t(!0)}}},tL=e=>{let{src:t}=e,{hasImageLoaded:s,onImageLoad:l}=tS();return(0,n.jsx)("div",{className:(0,g.cn)("relative -ml-1 size-[18px] overflow-hidden rounded-full first:ml-0",{"bg-fill-tertiary-hover":!s}),children:(0,n.jsx)(b.default,{src:(0,y.rL)(t),alt:"Source icon",fill:!0,className:"rounded-full object-cover",onLoad:l})},t)},tA=e=>{let{sources:t,messageId:s}=e,{setMessageId:l,toggle:r}=(0,x._)();return{shouldShowSources:(0,i.useMemo)(()=>t.length>0,[t.length]),additionalSourcesCount:(0,i.useMemo)(()=>t.length-3,[t.length]),handleSourcesClick:(0,i.useCallback)(()=>{l(s),r()},[s,l,r])}},tE=e=>{let{sources:t,messageId:s}=e,{shouldShowSources:l,additionalSourcesCount:r,handleSourcesClick:a}=tA({sources:t,messageId:s});return l?(0,n.jsxs)(N.Button,{size:"xs",variant:"ghost",shape:"pill",className:"max-w-fit",onClick:a,children:[t.length>0&&(0,n.jsx)("div",{className:"flex w-full items-center justify-start",children:t.slice(0,3).map(e=>(0,n.jsx)(tL,{src:e.url},e.url))}),r>0&&(0,n.jsxs)("p",{className:"whitespace-nowrap text-label-sm text-primary",children:["+",r," Sources"]})]}):null};var t_=s(37053);let tM=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeWidth:"1.2",d:"m13.516 7.442 1.367.665.334.169c.71.36.71 1.286 0 1.646l-4.528 2.289a3.782 3.782 0 0 1-3.378 0l-4.528-2.29c-.71-.359-.71-1.286 0-1.645l.334-.17 1.33-.685m9.128 3.33 1.51.691c.746.339.77 1.297.04 1.666l-4.436 2.244c-1.05.53-2.329.53-3.379 0L2.938 13.14c-.742-.376-.701-1.355.07-1.678l1.52-.66m2.783-8.155-4.528 2.29c-.71.36-.71 1.286 0 1.646l4.528 2.29a3.782 3.782 0 0 0 3.378 0l4.528-2.29c.71-.36.71-1.287 0-1.646l-4.528-2.29a3.782 3.782 0 0 0-3.378 0Z"})})};var tO=s(78704);let tR=e=>{let{search:t}=e,{sendMessage:s}=(0,u.m)();return(0,n.jsxs)(N.Button,{type:"button",variant:"ghost",className:"-ml-2 flex cursor-pointer justify-start gap-2 py-3 hover:rounded-xl hover:bg-fill-secondary-hover",onClick:()=>s(t),children:[(0,n.jsx)(tO.X,{className:"size-4 shrink-0 text-primary"}),(0,n.jsx)("p",{className:"text-body-xs text-primary",children:t})]})},tz=e=>{let{relatedSearches:t}=e;return(0,n.jsxs)("div",{className:"mt-6 flex flex-col gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)(tM,{}),(0,n.jsx)("h4",{className:"text-markdown-h4 font-semibold text-primary",children:"Related searches"})]}),(0,n.jsx)(t_.i,{}),(0,n.jsx)("div",{className:"flex flex-col",children:t.slice(0,3).map(e=>(0,n.jsx)(tR,{search:e},e))})]})};var tD=s(3259),tB=s(10947);let tU=e=>{let{content:t}=e,[s,l]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>{let e=t.trim(),s=e.match(/\*\*Subject\*\*\s*(.+?)(?:\n|$)/),l=s?s[1].trim():"",r=e;if(s){let t=e.indexOf(s[0])+s[0].length;r=e.slice(t).trim()}return{subject:l,body:r}},[t]),a=(0,i.useCallback)(()=>{let{subject:e,body:t}=r;return"Subject: ".concat(e,"\n\n").concat(t)},[r]);return{parsedEmail:r,isCopied:s,handleCopy:(0,i.useCallback)(async()=>{try{await navigator.clipboard.writeText(a()),l(!0),setTimeout(()=>l(!1),2e3)}catch(e){}},[a])}},tP=e=>{let{content:t,markdownComponents:s}=e,{parsedEmail:l,isCopied:r,handleCopy:a}=tU({content:t});return(0,n.jsxs)("div",{className:"flex w-full flex-col rounded-2xl border border-primary bg-surface-variant py-1.5 shadow-sm",translate:"yes",children:[(0,n.jsxs)("div",{className:"flex w-full items-center justify-between border-b border-primary px-6 py-3",children:[(0,n.jsx)("p",{className:"text-label-md text-primary",children:"Email"}),(0,n.jsx)(N.Button,{size:"icon-sm",variant:"icon-ghost",onClick:a,shape:"rect","aria-label":"Copy email",children:r?(0,n.jsx)(W.n,{className:"size-4"}):(0,n.jsx)($.T,{className:"size-4"})})]}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-start gap-2 border-b border-primary px-6 py-3",children:[(0,n.jsx)("p",{className:"text-label-lg font-semibold text-primary",children:"Subject"}),(0,n.jsx)(tB.T5,{className:"text-primary",components:s,children:l.subject})]}),l.body&&(0,n.jsx)("div",{className:"px-6 py-3",children:(0,n.jsx)(tB.T5,{className:"text-primary",components:s,children:l.body})})]})};var tH=s(67296);let tF=e=>{let{videos:t}=e,{setItems:s,setIndex:l,setType:r}=(0,tC.N)(),a=(0,F.I)(e=>e.openDialog),o=(0,i.useCallback)(e=>{s(t),l(e),r("video"),a(P.W.CHAT_MEDIA_CAROUSEL)},[a,l,s,r,t]);return(0,n.jsx)("div",{className:(0,g.cn)("mb-3 mt-4 flex size-full min-w-0 flex-1 gap-1 overflow-x-auto",{"h-[288px]":1===t.length}),children:t.slice(0,3).map((e,s)=>(0,n.jsx)("div",{onClick:()=>o(s),className:(0,g.cn)("h-[126px] w-[224px] min-w-[224px] flex-1 cursor-pointer overflow-hidden tablet:max-w-[224px] desktop-sm:h-[135px] desktop-sm:w-[240px] desktop-sm:max-w-[240px]",{"h-[135px] w-[311px] tablet:h-[288px] tablet:w-[512px] tablet:max-w-[512px] desktop-sm:h-[288px] desktop-sm:w-[512px] desktop-sm:max-w-[512px]":1===t.length}),children:(0,n.jsx)(tH.u,{src:e.url,title:e.title},e.url)},e.url))})};var tG=s(97098),tV=s(75083);let tK=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M14 2.666H2m12 7.112H2m9.333-3.558H2m9.333 7.113H2"})})},tZ=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M6.793 8.604a3.018 3.018 0 0 0 4.55.326l1.81-1.812A3.021 3.021 0 0 0 11.01 2a3.015 3.015 0 0 0-2.122.848L7.849 3.88m1.358 3.515a3.018 3.018 0 0 0-4.55-.326l-1.81 1.812A3.022 3.022 0 0 0 4.99 14a3.015 3.015 0 0 0 2.122-.848l1.032-1.033"})})},tW=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:(0,n.jsx)("path",{d:"M3.333 2v2.667m9.334 6.666V14M2 3.333h2.667m6.666 9.334H14M8 2 6.725 5.875a1.333 1.333 0 0 1-.85.85L2 8l3.875 1.275a1.333 1.333 0 0 1 .85.85L8 14l1.275-3.875a1.333 1.333 0 0 1 .85-.85L14 8l-3.875-1.275a1.333 1.333 0 0 1-.85-.85L8 2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};var t$=s(25788),tq=s(82861);let tX={Root:e=>{let{children:t,className:s}=e;return(0,n.jsx)("div",{className:(0,g.cn)("flex flex-col",s),children:t})},Item:e=>{let{className:t,children:s,...l}=e;return(0,n.jsx)(tq.E.div,{initial:{y:-5,filter:"blur(4px)",opacity:0},animate:{y:0,filter:"blur(0)",opacity:1},transition:{duration:.3},...l,className:(0,g.cn)("flex items-center gap-2 text-markdown-body text-primary will-change-transform",t),children:s})}},tQ=e=>{let{as:t="span",className:s,duration:l=4,spread:r=20,children:a,...i}=e,o=Math.min(Math.max(r,5),45);return(0,n.jsx)(t,{className:(0,g.cn)("bg-size-[200%_auto] bg-clip-text font-medium text-transparent","animate-shimmer",s),style:{backgroundImage:"linear-gradient(to right, rgb(var(--content-tertiary)) ".concat(50-o,"%, rgb(var(--content-primary)) 50%, rgb(var(--content-tertiary)) ").concat(50+o,"%)"),animationDuration:"".concat(l,"s")},...i,children:a})},tY=e=>1===e.length?e[0]:e.map((t,s)=>(0,n.jsxs)("span",{children:[0===s?t:t.toLocaleLowerCase(),s<e.length-1&&" and "]},t)),tJ=e=>{let{content:t,items:s,primaryIcon:l,secondaryIcon:r,analyzingText:a}=e,[o,c]=(0,i.useState)(0);return(0,i.useEffect)(()=>{if(!s.length)return()=>{};let e=setInterval(()=>c(e=>(e+1)%s.length),1200);return()=>clearInterval(e)},[s]),(0,n.jsxs)(tX.Root,{children:[(0,n.jsxs)(tX.Item,{children:[l,(0,n.jsx)(tQ,{duration:3,className:"line-clamp-1 truncate",children:tY(t)})]}),s.length>0&&(0,n.jsxs)(tX.Item,{className:"flex items-start text-tertiary",children:[r,(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)(t$.M,{mode:"popLayout",children:[a&&(0,n.jsxs)("span",{children:[a,"\xa0"]}),(0,n.jsx)(tq.E.span,{initial:{y:-5,filter:"blur(4px)",opacity:0},animate:{y:0,filter:"blur(0)",opacity:1},exit:{y:5,filter:"blur(4px)",opacity:0},className:"text-wrap text-left",children:s[o]},o)]})})]})]})},t0=["Analyzing your request...","Identifying the best approach...","Deciding what information is needed…","Tracing the logic...","Setting things up…"],t1=()=>{let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=setInterval(()=>t(e=>(e+1)%t0.length),3e3);return()=>clearInterval(e)},[]),(0,n.jsx)(tX.Root,{children:(0,n.jsx)(tX.Item,{initial:{opacity:.4},animate:{opacity:1},transition:{duration:.3},children:(0,n.jsx)(tQ,{duration:3,children:t0[e]})},e)})},t2=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M8.252 2H5.188C3.228 2 2 3.387 2 5.35v5.3C2 12.612 3.223 14 5.188 14h5.623C12.777 14 14 12.613 14 10.65V7.296M9.205 5.85h.006m-4.556 4.898 1.793-2.912a.475.475 0 0 1 .792-.027l1.12 1.575c.18.252.55.268.75.032l.402-.472a.476.476 0 0 1 .768.06l1.067 1.745a.475.475 0 0 1-.406.724H5.06a.475.475 0 0 1-.404-.725Zm7.423-4.898.075-.203A2.787 2.787 0 0 1 13.798 4L14 3.925l-.202-.075a2.787 2.787 0 0 1-1.645-1.648L12.078 2l-.075.202a2.787 2.787 0 0 1-1.645 1.648l-.202.075.202.075a2.787 2.787 0 0 1 1.645 1.647l.075.203Z"})})},t3=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:[(0,n.jsx)("path",{stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M9.409 6.154c.52 0 .941-.413.941-.923a.933.933 0 0 0-.941-.923.933.933 0 0 0-.942.923c0 .51.422.923.942.923ZM5.642 10.77c.26 0 .47-.207.47-.462a.466.466 0 0 0-.47-.462c-.26 0-.471.207-.471.462s.21.461.47.461ZM5.642 7.538c.52 0 .942-.413.942-.923a.933.933 0 0 0-.942-.923.933.933 0 0 0-.942.923c0 .51.422.923.942.923Z"}),(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M10.37 12.874a.912.912 0 0 0-.183-.496.94.94 0 0 0-.43-.316 1.878 1.878 0 0 1-1.021-.795 1.816 1.816 0 0 1 .39-2.367c.342-.284.776-.44 1.224-.438h1.761c.302 0 .6-.07.869-.206.268-.135.5-.332.674-.574a1.825 1.825 0 0 0 .237-1.685A6.002 6.002 0 0 0 11.99 3.35 6.183 6.183 0 0 0 8.96 2.057a6.234 6.234 0 0 0-3.273.438 6.098 6.098 0 0 0-2.564 2.041 5.9 5.9 0 0 0-.439 6.221 6.05 6.05 0 0 0 2.254 2.368 6.214 6.214 0 0 0 4.819.653.847.847 0 0 0 .478-.34.817.817 0 0 0 .134-.564Z"})]})},t4=()=>(0,n.jsxs)(tX.Root,{children:[(0,n.jsxs)(tX.Item,{children:[(0,n.jsx)(t2,{className:"stroke-[1.5] text-primary"}),(0,n.jsx)(tQ,{duration:3,children:"Setting up image generation"})]}),(0,n.jsxs)(tX.Item,{className:"text-tertiary",initial:{y:-5,filter:"blur(6px)",opacity:.4,display:"none"},animate:{y:0,filter:"blur(0)",opacity:1,display:"flex"},transition:{duration:.4,delay:3},children:[(0,n.jsx)(t3,{className:"size-4 shrink-0 stroke-[1.5]"}),(0,n.jsx)("span",{children:"Interpreting style and details…"})]})]}),t6=e=>{let{content:t}=e;return(0,n.jsxs)(tX.Root,{children:[(0,n.jsxs)(tX.Item,{children:[(0,n.jsx)(tG.$,{className:"size-4 shrink-0 text-primary"}),(0,n.jsx)(tQ,{duration:3,children:"Reading your document"})]}),(0,n.jsxs)(tX.Item,{className:"text-tertiary",initial:{y:-5,filter:"blur(6px)",opacity:0,display:"none"},animate:{y:0,filter:"blur(0)",opacity:1,display:"flex"},transition:{duration:.4,delay:3},children:[(0,n.jsx)(tV.n,{className:"size-4 shrink-0 stroke-[1.5]"}),(0,n.jsx)("span",{className:"line-clamp-1 truncate",children:tY(t)})]})]})},t5=e=>{let{content:t}=e,s=(0,i.useMemo)(()=>t.length>1?"Reading the links you shared":"Reading the link you shared",[t]);return(0,n.jsxs)(tX.Root,{children:[(0,n.jsxs)(tX.Item,{children:[(0,n.jsx)(tZ,{className:"text-primary"}),(0,n.jsx)(tQ,{duration:3,children:s})]}),(0,n.jsxs)(tX.Item,{className:"text-tertiary",initial:{y:-10,filter:"blur(4px)",opacity:0,display:"none"},animate:{y:0,filter:"blur(0)",opacity:1,display:"flex"},transition:{duration:.3,delay:3},children:[(0,n.jsx)(tV.n,{className:"size-4 shrink-0 stroke-[1.5]"}),(0,n.jsx)("span",{className:"line-clamp-1 truncate",children:tY(t)})]})]})};var t8=s(53588),t7=s(24937),t9=s(99720),se=s(90678);let st=e=>{let{number:t,duration:s=1}=e,l=(0,t7.c)(0),r=(0,t9.H)(()=>Math.round(l.get()));return(0,i.useEffect)(()=>{let e=(0,se.j)(l,t,{duration:s});return()=>e.stop()},[]),(0,n.jsx)(tq.E.span,{children:r})};var ss=s(65146);let sl=e=>{let{content:t,searchResults:s}=e,[l,r]=(0,i.useState)(0);return(0,i.useEffect)(()=>{if(!s.length)return()=>{};let e=setInterval(()=>r(e=>(e+1)%s.length),1200);return()=>clearInterval(e)},[s]),(0,n.jsxs)(tX.Root,{children:[(0,n.jsxs)(tX.Item,{children:[(0,n.jsx)(ss.W,{className:"size-4 shrink-0 stroke-[2]"}),(0,n.jsx)(tQ,{duration:3,className:"line-clamp-1 truncate",children:tY(t)}),s.length>0&&(0,n.jsxs)("div",{className:"flex text-tertiary",children:[(0,n.jsx)(st,{number:s.length,duration:.8},s.length),(0,n.jsx)("span",{children:"\xa0results"})]})]}),s.length>0&&(0,n.jsxs)(tX.Item,{className:"text-tertiary",children:[(0,n.jsx)(tV.n,{className:"size-4 shrink-0 stroke-[1.5]"}),(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)(t$.M,{mode:"popLayout",children:[(0,n.jsx)("span",{children:"Browsing\xa0"}),(0,n.jsxs)(tq.E.span,{initial:{y:-5,filter:"blur(4px)",opacity:0},animate:{y:0,filter:"blur(0)",opacity:1},exit:{y:5,filter:"blur(4px)",opacity:0},children:[(0,t8.Qc)(s[l].url).hostname,"/..."]},l)]})})]})]})};var sr=s(15379),sa=s.n(sr);let sn=e=>{let{content:t,currentToolName:s,minDisplayTime:l}=e,r=(0,E.Td)()(e=>e.toolCalls),[a,n]=(0,i.useState)(s),o=(0,i.useRef)(Date.now()),c=(0,i.useRef)(s);c.current=s;let d=(0,i.useMemo)(()=>{let e=t[eF.d.TOOL_CALL];if(sa()(e))return null;let r=l?a:s;if(r&&e[r])return{tool:r,toolContent:e[r]};let n=Object.entries(e),i=n[n.length-1];return i?{tool:i[0],toolContent:i[1]}:null},[t,s,a,l]);return(0,i.useEffect)(()=>{let e;if(!l){n(s);return}return a===s||o.current?o.current&&(e=setTimeout(()=>{n(c.current),o.current=Date.now()},(l-(Date.now()-o.current)/1e3)*1e3)):(n(s),o.current=Date.now()),()=>clearTimeout(e)},[s,a,l]),{toolToDisplay:d,allTools:r}},si=e=>{let{content:t,currentToolName:s,minDisplayTime:l}=e,{toolToDisplay:r,allTools:a}=sn({content:t,currentToolName:s,minDisplayTime:l});if(!r)return(0,n.jsx)(t1,{});let{tool:i,toolContent:o}=r;switch(i){case a.webSearch:case a.docsWebSearch:return(0,n.jsx)(sl,{content:o,searchResults:t[eF.d.TOOL_RESULT].web_results},i);case a.structure:return(0,n.jsx)(tJ,{content:o,items:t[eF.d.TOOL_RESULT].structure||[],primaryIcon:(0,n.jsx)(tK,{className:"size-4 shrink-0 stroke-[2]"}),secondaryIcon:(0,n.jsx)(eg.c,{className:"mt-1 size-4 shrink-0 animate-spin"})},i);case a.plan:return(0,n.jsx)(tJ,{content:o,items:t[eF.d.TOOL_RESULT].plan||[],primaryIcon:(0,n.jsx)(tW,{className:"size-4 shrink-0 stroke-[2]"}),secondaryIcon:(0,n.jsx)(eg.c,{className:"mt-1 size-4 shrink-0 animate-spin"})},i);case a.docsScrapper:return(0,n.jsx)(tJ,{content:o,items:t[eF.d.TOOL_RESULT].docsScrapper||[],primaryIcon:(0,n.jsx)(tZ,{className:"size-4 shrink-0 stroke-[2]"}),secondaryIcon:(0,n.jsx)(tV.n,{className:"mt-1 size-4 shrink-0"}),analyzingText:"Analyzing"},i);case a.docsRag:return(0,n.jsx)(tJ,{content:o,items:t[eF.d.TOOL_RESULT].docsRag||[],primaryIcon:(0,n.jsx)(tG.$,{className:"size-4 shrink-0 stroke-[2]"}),secondaryIcon:(0,n.jsx)(eg.c,{className:"mt-1 size-4 shrink-0 animate-spin"}),analyzingText:"Analyzing"},i);case a.imageGeneration:return(0,n.jsx)(t4,{},i);case a.rag:return(0,n.jsx)(t6,{content:o},i);case a.webScrapper:return(0,n.jsx)(t5,{content:o},i);default:return(0,n.jsx)(t1,{},"generic")}};var so=s(23829);let sc=e=>{let{currentContentType:t,message:s,textToRender:l,isStreaming:r,isHideLoader:a,hasToolCallAfterToken:n}=e,o=(0,i.useMemo)(()=>t===so.d.REASONING&&!l,[t,l]),c=(0,i.useMemo)(()=>t===so.d.TOOL_CALL||t===so.d.TOOL_RESULT,[t]),d=(0,i.useMemo)(()=>{let e=!sa()(s.content[so.d.TOOL_CALL]);return!o&&!!r&&(!!a&&!l||e||c||n)},[s.content,o,r,a,l,c,n]),u=(0,i.useMemo)(()=>d&&!l,[d,l]);return{showToolCallsAfterToken:(0,i.useMemo)(()=>d&&!!l&&(n||c),[d,l,n,c]),showToolCallsBeforeToken:u,isReasoning:o}},sd=e=>{let{messageId:t,message:s,reasoningTime:l,currentContentType:r,reasoningContent:a,shouldShowLoader:i,textToRender:o,customMarkdownComponents:c,isStreaming:d,isHideLoader:u,hasToolCallAfterToken:m,currentToolName:x}=e,{showToolCallsBeforeToken:h,showToolCallsAfterToken:p,isReasoning:f}=sc({currentContentType:r,message:s,textToRender:o,isStreaming:d,isHideLoader:u,hasToolCallAfterToken:m});return(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(si,{content:s.content,currentToolName:x,minDisplayTime:5}),s.content[eF.d.REASONING]&&(0,n.jsx)(tB.OT,{isReasoning:f,messageId:t,reasoningTime:l,components:c,className:"w-full self-start text-primary",children:a}),o&&(0,n.jsx)(tB.T5,{className:"w-full text-primary",components:c,children:o}),p&&(0,n.jsx)(si,{content:s.content,currentToolName:x,minDisplayTime:5}),s.content[eF.d.CITATION]&&s.content[eF.d.CITATION].length>0&&(0,n.jsx)(tF,{videos:s.content[eF.d.CITATION_VIDEO]}),s.content[eF.d.EMAIL_BLOCK]&&(0,n.jsx)(tP,{content:s.content[eF.d.EMAIL_BLOCK],markdownComponents:c}),i&&!o&&!f&&(0,n.jsx)(tD.g,{})]})};var su=s(19091),sm=s(37266),sx=s(2164),sh=s(18324);let sp=e=>{"rgba(0, 0, 0, 0)"!==window.getComputedStyle(e).backgroundColor&&(e.style.backgroundColor="transparent"),"a"!==e.tagName.toLowerCase()&&(e.style.color="black")},sf=e=>{e.preventDefault();let t=window.getSelection();if(!t)return;let s=t.getRangeAt(0),l=document.createElement("div");l.appendChild(s.cloneContents()),l.querySelectorAll("*").forEach(e=>{sp(e)}),e.clipboardData&&(e.clipboardData.setData("text/html",l.innerHTML),e.clipboardData.setData("text/plain",l.textContent||""))};var sg=s(5216);let sj=()=>{},sv=e=>{var t,s,l,r,a,n,o,c;let{message:m,id:x,model:h,isLast:p,isChatHistory:f,showChatLimitMessage:g,isFirstImageMessage:j,lastMessageProps:v,feature:y}=e,[b,N]=(0,i.useState)(!1),[w,k]=(0,i.useState)(!1),{currentContentType:I,loading:T}=(0,u.m)(),S=null!==(t=null==v?void 0:v.loading)&&void 0!==t&&t,L=(0,i.useMemo)(()=>{var e;return null!==(e=null==v?void 0:v.messagesReasonedTimeMap)&&void 0!==e?e:{}},[v]),A=null!==(s=null==v?void 0:v.hasToolCallAfterToken)&&void 0!==s&&s,_=null!==(l=null==v?void 0:v.currentToolName)&&void 0!==l?l:null,M=null!==(r=null==v?void 0:v.stopScroll)&&void 0!==r?r:sj,O=null===(a=null==v?void 0:v.escapedFromLock)||void 0===a||a,{isBannerVisible:R}=(0,sh.Q)(),{getModelInfo:z,isLandingPageChat:D}=(0,d.j)(),{loading:B}=(0,sm.f)(),{resolvedTheme:U}=(0,su.F)(),P=(0,eB.m)()(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.id}),H=(0,i.useRef)(null),{logos:F,handOffConfig:G}=(0,E.Td)()(e=>({logos:e.branding.logos,handOffConfig:e.handOffConfig})),V=z(h),K=(0,i.useMemo)(()=>m.content[eF.d.TOOL_RESULT]&&m.content[eF.d.TOOL_RESULT].web_results.length>0,[m.content]),Z=(0,i.useMemo)(()=>T||B,[T,B]),W=(0,i.useMemo)(()=>Object.entries(m.content).every(e=>{let[t,s]=e;return t===eF.d.TOOL_RESULT?Object.values(s).every(sa()):sa()(s)}),[m.content]),$=(0,i.useMemo)(()=>m.content[eF.d.CITATION],[m.content]),q=null!==(n=m.content[eF.d.HAND_OFF])&&void 0!==n?n:"",X=null!==(o=m.content[eF.d.TOKEN])&&void 0!==o?o:"",Q=q!==so.Z.SHEETS&&q!==so.Z.SLIDES&&q!==so.Z.IMAGE||X.trim()?X:null!==(c=G.messages[q])&&void 0!==c?c:"",{animatedText:Y}=(0,sx.C)({text:m.content[eF.d.REASONING],duration:.4}),{animatedText:J,loading:ee}=(0,sx.C)({text:Q}),et=f||!ee,es=(0,i.useMemo)(()=>!S&&et&&q===so.Z.IMAGE,[S,et,q]),el=(0,i.useMemo)(()=>S||!et||q!==so.Z.SHEETS&&q!==so.Z.SLIDES?null:q,[S,et,q]),er=(0,i.useMemo)(()=>(0,sg.x)({messageId:x,userId:null!=P?P:"",isLast:p,isDark:"dark"===U}),[x,p,P,U]),ea=(0,i.useMemo)(()=>m.content[eF.d.TOOL_RESULT]&&m.content[eF.d.TOOL_RESULT].related_searches.length>0&&!Z,[m.content,Z]),en=!f&&p&&W&&!w&&Z&&S,ei=(0,i.useMemo)(()=>p&&j&&!g&&!S,[j,p,S,g]),eo=p&&!f?J:Q,ec=p&&!f?Y:m.content.reasoning;return(0,i.useEffect)(()=>{H.current&&H.current.scrollHeight>.6*window.innerHeight&&!O&&M()},[eo,O,M]),(0,i.useEffect)(()=>{let e=H.current;return e?(e.addEventListener("copy",sf),()=>{e.removeEventListener("copy",sf)}):()=>{}},[]),(0,i.useEffect)(()=>{let e;return w?()=>{}:(en&&Z&&(e=setTimeout(()=>{W&&Z&&k(!0)},3e3)),()=>clearTimeout(e))},[en,w,W,Z]),{shouldShowLoader:en,modelInfo:V,markdownComponents:er,isDropdownOpen:b,setIsDropdownOpen:N,loading:S,textToRender:eo,markdownRef:H,modelImageSrc:V.isOpenAiModel?F[C.VS.AI_CHAT]:V.image,sources:$,reasoningContent:ec,currentContentType:I,reasoningTime:L[x],shouldShowRelatedSearches:ea,isToolCall:K,isBannerVisible:R,isStreaming:Z,isHideLoader:w&&W,shouldShowLogoImage:y!==C.VS.AI_DOCS,shouldShowSources:y!==C.VS.AI_DOCS&&K,isLandingPageChat:D,hasToolCallAfterToken:A,currentToolName:_,isTokenAnimationComplete:et,comingSoonHandOffType:el,shouldShowImageGenHandOff:es,showImageGenTouchPoint:ei}},sy=(0,i.memo)(e=>{let{id:t,message:s,model:l,isLast:r,isChatHistory:a,parentId:i,userMessage:o,userMessageContainsFiles:c,regenerateMessage:d,feature:u,lastMessageProps:m,isFirst:x,isFirstImageMessage:h,error:p,showChatLimitMessage:f,isLandingPage:j=!1}=e,{modelInfo:v,shouldShowLoader:y,markdownComponents:N,isDropdownOpen:w,setIsDropdownOpen:k,loading:C,textToRender:I,markdownRef:T,modelImageSrc:S,reasoningContent:A,currentContentType:E,reasoningTime:_,shouldShowRelatedSearches:M,isToolCall:O,isBannerVisible:R,isStreaming:z,isHideLoader:D,shouldShowLogoImage:B,shouldShowSources:U,isLandingPageChat:P,hasToolCallAfterToken:H,currentToolName:F,comingSoonHandOffType:G,shouldShowImageGenHandOff:V,showImageGenTouchPoint:K}=sv({message:s,id:t,model:l,isLast:r,isChatHistory:a,feature:u,lastMessageProps:m,error:p,showChatLimitMessage:f,isFirstImageMessage:h}),Z=s.content[eF.d.EMAIL_BLOCK],W=Z?"".concat(I,"\n\n").concat(Z):I,$=r&&!x&&!f&&!P,q=r&&!x&&!f&&P;return(0,n.jsxs)("div",{className:(0,g.cn)("group relative flex w-full flex-col justify-start gap-4",{"min-h-[calc(100dvh-370px)] tablet:min-h-[calc(100dvh-350px)]":$&&!R,"min-h-[calc(100dvh-420px)] tablet:min-h-[calc(100dvh-400px)]":$&&R,"min-h-[calc(100dvh-500px)] tablet:min-h-[calc(100dvh-600px)]":q&&!R,"min-h-[calc(100dvh-550px)] tablet:min-h-[calc(100dvh-650px)]":q&&R}),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 laptop:flex-row",children:[B&&(0,n.jsx)("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-full border border-secondary",children:(0,n.jsx)(b.default,{src:(0,L.j)(S),alt:v.name,className:"rounded-full",width:28,height:28})}),(0,n.jsxs)("div",{className:"my-auto w-full min-w-0",children:[(0,n.jsx)("div",{className:(0,g.cn)("flex items-center",{"size-full flex-col items-start":I.length}),children:(0,n.jsxs)("div",{className:(0,g.cn)("inline-flex max-w-full flex-col",{"size-full":I.length}),translate:"no",ref:T,children:[(0,n.jsx)(sd,{currentContentType:E,message:s,reasoningTime:_,reasoningContent:A,textToRender:I,shouldShowLoader:y,messageId:t,customMarkdownComponents:N,isStreaming:z,isHideLoader:D,hasToolCallAfterToken:H,currentToolName:F}),(0,n.jsx)(tT,{})]})}),(0,n.jsxs)("div",{className:"mt-4 w-full",children:[G&&(0,n.jsx)(eK,{type:G}),V&&(0,n.jsx)(ts,{messageId:s.id,userMessage:o,forceShow:!0})]}),(0,n.jsxs)("div",{className:(0,g.cn)("mt-3 flex items-center gap-1 transition duration-500",{"w-full opacity-100":r||w,hidden:C}),children:[(0,n.jsx)(eH,{model:l,content:W,parentId:i,isModelSelectionOpen:w,setIsModelSelectionOpen:k,userMessageContainsFiles:c,messageId:t,userMessage:o,regenerateMessage:d,feature:u,isWebSearch:O,isLandingPage:j}),U&&(0,n.jsx)(tE,{messageId:t,sources:s.content[eF.d.TOOL_RESULT].web_results})]}),M&&(0,n.jsx)(tz,{relatedSearches:s.content[eF.d.TOOL_RESULT].related_searches})]})]}),K&&(0,n.jsx)(ts,{messageId:s.id,userMessage:o})]})});var sb=s(51846),sN=s(29354);let sw=e=>{let{error:t,loading:s}=e,{isLandingPageChat:l,currentModelInfo:r}=(0,d.j)(),{hasReachedLimit:a}=(0,sN.$)(),n=(0,eb.usePathname)(),o=(0,eU.JE)(n),c=!r.isPro&&a(sb.D.STANDARD_CHAT_MODELS),u=r.isPro&&a(sb.D.PREMIUM_CHAT_MODELS),m=(0,i.useMemo)(()=>o===C.VS.AI_CHAT?c||u:a(sb.B[o]),[c,u,o,a]);return{showChatLimitMessage:l?!s&&t===k.K.FREE_CHAT_LIMIT:!s&&!!m}},sk=()=>{let e=(0,i.useRef)(null),t=(0,E.Td)()(e=>e.toolCalls.imageGeneration),s=(0,i.useCallback)(e=>{let s=e.content[eF.d.TOOL_CALL][t];return(null==s?void 0:s.length)>0},[t]);return{isFirstImageMessage:(0,i.useCallback)(t=>t.role!==e$.y.USER&&(e.current===t.id||!!(null===e.current&&s(t))&&(e.current=t.id,!0)),[s])}},sC=(e,t)=>{let{loading:s,fileIncluded:l,isReasoning:r,messagesReasonedTimeMap:a,hasToolCallAfterToken:n,currentToolName:i}=(0,u.m)(),{loading:o,hasToolCallAfterToken:c,currentToolName:d}=(0,sm.f)();return{loading:s||o,fileIncluded:l,isReasoning:r,messagesReasonedTimeMap:a,hasToolCallAfterToken:n||c,currentToolName:i||d,stopScroll:e,escapedFromLock:t}},sI=e=>{let{stopScroll:t,escapedFromLock:s,error:l}=e,r=sC(t,s),{isFirstImageMessage:a}=sk(),{currentModelInfo:n}=(0,d.j)(),i=(0,eb.usePathname)(),o=(0,eU.JE)(i),{showChatLimitMessage:c}=sw({error:l,loading:r.loading});return{lastMessageProps:r,isFirstImageMessage:a,currentFeature:o,currentModelInfo:n,showChatLimitMessage:c}};var sT=s(31132),sS=s(92533),sL=s(49916);let sA=(0,i.memo)(e=>{let{id:t,content:s,selectionInfo:l}=e,{images:r,documents:a,text:o}=(0,i.useMemo)(()=>({images:s.filter(e=>"image_url"===e.type),documents:s.filter(e=>"file"===e.type),text:s.find(e=>"text"===e.type)}),[s]),c=(0,i.useMemo)(()=>o?(0,sL.F)(o.text):"",[o]);return(0,n.jsx)("div",{className:"group relative flex w-full justify-end overflow-hidden",children:(0,n.jsx)("div",{className:"w-full max-w-64 tablet:max-w-[364px] laptop:max-w-[512px]",children:(0,n.jsxs)("div",{className:"flex w-full flex-col items-end gap-2",children:[(0,n.jsx)("div",{className:(0,g.cn)("hidden w-full flex-wrap justify-end gap-2",{flex:r.length>0}),children:r.map(e=>(0,n.jsx)(sS.e,{type:"user_image",src:e.file_url.url,messageId:t},e.file_url.url))}),a.map(e=>(0,n.jsx)(sT.U,{type:e.mimetype,name:e.file_url.meta_data.name},e.id)),l&&(0,n.jsxs)("div",{className:"mb-2 flex items-start justify-center gap-4 px-2",children:[(0,n.jsx)(tO.X,{className:"size-[18px] shrink-0 text-tertiary"}),(0,n.jsx)("p",{className:"line-clamp-3 text-label-md text-tertiary",children:l.text})]}),c&&(0,n.jsx)("div",{className:"flex min-w-0 max-w-full flex-col justify-end overflow-hidden rounded-2xl bg-surface-secondary px-4 py-3 text-primary [&_span]:text-markdown-body",translate:"no",children:c})]})})})}),sE=(0,i.forwardRef)((e,t)=>{let{messages:s,isChatHistory:l,stopScroll:r,escapedFromLock:a,regenerateMessage:i,error:o,isLandingPage:c=!1}=e,{lastMessageProps:d,isFirstImageMessage:u,currentFeature:m,currentModelInfo:x,showChatLimitMessage:h}=sI({stopScroll:r,escapedFromLock:a,error:o});return(0,n.jsxs)("div",{className:"mb-12 flex w-full max-w-[768px] flex-col items-center gap-10",ref:t,children:[s.map((e,t)=>{var r;let a=t===s.length-1;return(0,n.jsx)("div",{className:"w-full",children:"user"===e.role?(0,n.jsx)(sA,{id:e.id,content:e.content,selectionInfo:e.selection_info}):(0,n.jsx)(sy,{error:o,id:e.id,model:"model"in e?e.model:x.model,message:e,isLast:a,isChatHistory:l,parentId:null===(r=s[t-1])||void 0===r?void 0:r.id,userMessage:{...s[t-1],model:"model"in s[t-1]?s[t-1].model:x.model},userMessageContainsFiles:(0,y._2)(s[t-1]),feature:m,regenerateMessage:i,isFirst:1===t,isFirstImageMessage:u(e),showChatLimitMessage:h,lastMessageProps:a?d:void 0,isLandingPage:c})},e.id)}),(0,n.jsx)(V,{showChatLimitMessage:h}),(0,n.jsx)(M,{error:o,lastMessage:s[s.length-1],regenerateMessage:i}),(0,n.jsx)(v,{}),(0,n.jsx)(p,{})]})});sE.displayName="ChatMessagesList"},67296:function(e,t,s){s.d(t,{u:function(){return c}});var l=s(10250),r=s(86340);let a=e=>{let{className:t}=e;return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",className:t,children:(0,l.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.334 3c-.397 0-.786.099-1.133.286a2.184 2.184 0 0 0-.862.77A2.115 2.115 0 0 0 5 5.166V18.834c.007.394.124.777.339 1.11.211.328.51.594.862.77a2.378 2.378 0 0 0 2.305-.023l11.306-6.83c.351-.174.647-.437.856-.763a2.077 2.077 0 0 0 0-2.248 2.145 2.145 0 0 0-.857-.762L8.504 3.308A2.377 2.377 0 0 0 7.334 3Z",clipRule:"evenodd"})})};var n=s(15751),i=s(51897);let o=e=>{let t=e.split("v=")[1].split("&")[0];return"".concat(i.x.NEXT_PUBLIC_YOUTUBE_THUMBNAIL_URL).concat(t,"/maxresdefault.jpg")},c=e=>{let{src:t,title:s,className:i}=e,c=o(t);return(0,l.jsxs)("div",{className:(0,n.cn)("group/video relative flex size-full items-center justify-center overflow-hidden rounded-2xl",i),children:[(0,l.jsx)(r.default,{src:c,alt:s,fill:!0,loading:"eager"}),(0,l.jsx)("div",{className:"pointer-events-none absolute inset-x-0 top-0 z-10 rounded-t-2xl bg-gradient-to-b from-black/90 via-black/40 to-transparent px-3 py-2 text-xs font-medium text-white opacity-0 transition-opacity duration-150 ease-out group-hover/video:opacity-100",children:(0,l.jsx)("p",{className:"truncate",children:s})}),(0,l.jsx)("div",{className:"z-20 flex size-12 items-center justify-center rounded-full bg-black/40 p-3 backdrop-blur-md",children:(0,l.jsx)(a,{className:" text-white"})})]})}},10947:function(e,t,s){s.d(t,{T5:function(){return h},OT:function(){return p}});var l=s(10250),r=s(21956),a=s(14337);s(73450);var n=s(15751),i=s(39989);s(54679);var o=s(82861),c=s(35218),d=s(18085);let u=e=>{let{children:t,messageId:s,reasoningTime:r,isReasoning:a}=e;return(0,l.jsx)(c.UQ,{type:"single",collapsible:!0,className:"mb-4",children:(0,l.jsxs)(c.Qd,{value:"model-reasoning".concat(s),className:"my-0 bg-inherit p-0",children:[(0,l.jsx)(o.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:(0,l.jsxs)(c.o4,{className:"group/trigger -ml-2 -mt-1 flex max-w-fit items-center justify-start gap-1 rounded-full px-4 py-2 hover:bg-fill-secondary",children:[(0,l.jsx)("span",{className:(0,n.cn)("text-markdown-body text-primary",{"animate-shimmer bg-clip-text text-transparent":a}),children:a?(0,l.jsx)("span",{children:"Reasoning"}):r?(0,l.jsxs)("span",{children:["Reasoned for ",r," seconds"]}):(0,l.jsx)("span",{children:"Show Reasoning"})}),(0,l.jsx)(c.Ho,{children:(0,l.jsx)(d.v,{className:"stroke-[1.2]"})})]})}),(0,l.jsxs)(c.vF,{className:"mt-2 flex gap-4 py-0 text-markdown-body text-secondary",children:[(0,l.jsx)("div",{className:"h-auto min-h-full w-0.5 shrink-0 rounded-full bg-fill-secondary"}),(0,l.jsx)("div",{children:t})]})]})})},m=["github-light","github-dark"],x=(0,i.B)(),h=(0,r.memo)(e=>{let{className:t,...s}=e;return(0,l.jsx)(a.qI,{rehypePlugins:x,className:(0,n.cn)("size-full space-y-0",t),shikiTheme:m,controls:{mermaid:{fullscreen:!1}},...s})},(e,t)=>e.children===t.children);h.displayName="MessageResponse";let p=(0,r.memo)(e=>{let{className:t,messageId:s,isReasoning:r,reasoningTime:i,...o}=e;return(0,l.jsx)(u,{messageId:s,isReasoning:r,reasoningTime:i,children:(0,l.jsx)(a.qI,{rehypePlugins:x,className:(0,n.cn)("size-full space-y-0 pt-0",t),...o})})},(e,t)=>e.children===t.children);p.displayName="ReasoningResponse"},87082:function(e,t,s){s.d(t,{K:function(){return l}});let l={FREE_CHAT_LIMIT:"limit reached"}},82185:function(e,t,s){s.d(t,{h:function(){return b}});var l=s(10250),r=s(21956),a=s(57956),n=s(86340),i=s(57054),o=s(38291),c=s(88577);let d=e=>{let{title:t,url:s,description:r}=e,a=(0,o.x)(s);return(0,l.jsxs)(i.default,{target:"_blank",href:s,className:"flex cursor-pointer flex-col gap-2 rounded-xl p-3 hover:bg-surface",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("h4",{className:"text-body-sm font-medium text-primary",children:t}),(0,l.jsx)("p",{className:"text-body-xs text-primary",children:r})]}),(0,l.jsxs)("div",{className:"flex w-fit items-center gap-1 rounded-full border border-primary py-0.5 pl-1 pr-1.5",children:[(0,l.jsx)(n.default,{className:"rounded-full border-[0.75px] border-primary",src:(0,c.rL)(s),alt:t,width:14,height:14}),(0,l.jsx)("p",{className:"text-label-xs capitalize text-secondary",children:a})]})]})},u=e=>{let{citations:t}=e;return 0===t.length?null:(0,l.jsx)("div",{className:"flex flex-col",children:t.map(e=>(0,l.jsx)(d,{title:e.title,url:e.url,description:e.content},e.url))})};var m=s(47834),x=s(63856),h=s(44634),p=s(9540),f=s(16246);let g=e=>{let{images:t}=e,s=(0,p.I)(e=>e.openDialog),{setItems:a,setIndex:n,setType:i}=(0,h.N)(),o=(0,r.useCallback)(e=>{a(t.map(e=>({url:e.content,title:e.title,siteUrl:e.url}))),n(e),i("image"),s(x.W.CHAT_MEDIA_CAROUSEL)},[s,n,a,i,t]);return(0,l.jsx)("div",{className:"flex flex-wrap gap-2 pl-3 pt-4 desktop-sm:pl-0",children:t.map((e,t)=>(0,l.jsx)(m.b,{type:"system_image",src:e.content,title:e.title,messageId:(0,f.O)(),isSourcePanel:!0,aspectRatio:"1/1",isPortrait:!1,isLandscape:!1,isImageLoading:!1,isImageError:!1,showImageFallback:!1,isInProgress:!1,handleImageDownload:()=>{},onClick:o,index:t,isDownload:!1},e.content))})};var j=s(67296);let v=e=>{let{videos:t}=e,s=(0,p.I)(e=>e.openDialog),{setItems:a,setIndex:n,setType:i}=(0,h.N)(),o=(0,r.useCallback)(e=>{a(t),n(e),i("video"),s(x.W.CHAT_MEDIA_CAROUSEL)},[s,n,a,i,t]);return(0,l.jsx)("div",{className:"flex w-full flex-wrap gap-2 px-3 pt-4 desktop-sm:flex-col desktop-sm:px-0",children:t.map((e,t)=>(0,l.jsx)("div",{onClick:()=>o(t),className:"w-full",children:(0,l.jsx)(j.u,{src:e.url,title:e.title,className:"aspect-video h-auto w-full"},e.url)},e.url))})},y={CITATIONS:"Citations",IMAGES:"Images",VIDEOS:"Videos"},b=e=>{var t,s,n;let{sources:i}=e,[o,c]=(0,r.useState)(y.CITATIONS);return(0,l.jsxs)(a.mQ,{defaultValue:y.CITATIONS,onValueChange:c,className:"flex h-full flex-col gap-2 overflow-hidden",children:[(0,l.jsx)(a.dr,{className:"jusitfy-start flex flex-shrink-0 justify-start gap-1 border-none",children:Object.values(y).map(e=>(0,l.jsx)(a.YW,{value:e,layoutId:"sources-tabs",isActive:o===e,variant:"secondary-variant",children:e},e))}),(0,l.jsx)(a.nU,{value:y.CITATIONS,className:"min-h-0 flex-1 overflow-y-auto overflow-x-hidden scrollbar-none",children:(0,l.jsx)(u,{citations:null!==(t=i.web_results)&&void 0!==t?t:[]})}),(0,l.jsx)(a.nU,{value:y.IMAGES,className:"min-h-0 flex-1 overflow-y-auto overflow-x-hidden scrollbar-none",children:(0,l.jsx)(g,{images:null!==(s=i.image_results)&&void 0!==s?s:[]})}),(0,l.jsx)(a.nU,{value:y.VIDEOS,className:"min-h-0 flex-1 overflow-y-auto overflow-x-hidden scrollbar-none",children:(0,l.jsx)(v,{videos:null!==(n=i.video_results)&&void 0!==n?n:[]})})]})}},69274:function(e,t,s){s.d(t,{y:function(){return r}});var l=s(21956);let r=(e,t)=>{let s=(0,l.useRef)(null),r=(0,l.useRef)(e);return(0,l.useEffect)(()=>{r.current=e},[e]),(0,l.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),(0,l.useCallback)(function(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r.current(...l)},t)},[t])}},58624:function(e,t,s){s.d(t,{T:function(){return r}});var l=s(10250);let r=e=>{let{className:t}=e;return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M5.805 3.649C5.975 2.665 6.765 2 7.954 2h3.859C13.156 2 14 2.857 14 4.067V8.53c0 1.103-.702 1.915-1.853 2.043M4.187 5.41h3.858c1.344 0 2.187.854 2.187 2.064v4.463c0 1.21-.838 2.064-2.187 2.064H4.188C2.838 14 2 13.146 2 11.936V7.473c0-1.21.839-2.064 2.187-2.064Z"})})}},97098:function(e,t,s){s.d(t,{$:function(){return r}});var l=s(10250);let r=e=>{let{className:t}=e;return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"currentStroke",d:"M9.483 3.5v1.2c0 .66.533 1.2 1.185 1.2h1.185M5.631 8.6H8M5.631 11h4.74m2.964-6v6c0 1.8-.89 3-2.963 3H5.63c-2.074 0-2.963-1.2-2.963-3V5c0-1.8.889-3 2.963-3h4.74c2.075 0 2.964 1.2 2.964 3Z"})})}},75083:function(e,t,s){s.d(t,{n:function(){return r}});var l=s(10250);let r=e=>{let{className:t}=e;return(0,l.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",className:t,children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"currentStroke",d:"M10 17.5a7.5 7.5 0 0 0 7.5-7.5M10 17.5A7.5 7.5 0 0 1 2.5 10m7.5 7.5a12.946 12.946 0 0 0 2.885-7.5A12.946 12.946 0 0 0 10 2.5m0 15A12.946 12.946 0 0 1 7.115 10 12.946 12.946 0 0 1 10 2.5m7.5 7.5A7.5 7.5 0 0 0 10 2.5m7.5 7.5h-15M10 2.5A7.5 7.5 0 0 0 2.5 10"})})}},26450:function(e,t,s){s.d(t,{D:function(){return r}});var l=s(10250);let r=e=>{let{className:t}=e;return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 8c0 3.312-2.688 6-6 6s-5.334-3.336-5.334-3.336m0 0h2.712m-2.712 0v3M2 8c0-3.312 2.664-6 6-6 4.002 0 6 3.336 6 3.336m0 0v-3m0 3h-2.664"})})}},92378:function(e,t,s){s.d(t,{l:function(){return r}});var l=s(10250);let r=e=>{let{className:t}=e;return(0,l.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 16 16",className:t,children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.43 6.667h3.219a1.365 1.365 0 0 1 1.15.632 1.32 1.32 0 0 1 .059 1.297l-2.365 4.667a1.34 1.34 0 0 1-.498.538c-.214.13-.46.2-.711.199H7.57c-.11 0-.22-.013-.327-.04l-2.54-.627M9.43 6.667V3.333c0-.353-.143-.692-.396-.942A1.36 1.36 0 0 0 8.08 2h-.064a.607.607 0 0 0-.612.603c0 .476-.142.942-.41 1.338L4.701 7.333v6m4.729-6.666H8.08m-3.378 6.666H3.351a1.36 1.36 0 0 1-.955-.39A1.324 1.324 0 0 1 2 12V8c0-.354.142-.693.396-.943.253-.25.597-.39.955-.39H5.04"})})}},44634:function(e,t,s){s.d(t,{N:function(){return l}});let l=(0,s(79391).Ue)(e=>({items:[],index:-1,type:"video",setItems:t=>e({items:t}),setIndex:t=>e({index:t}),setType:t=>e({type:t})}))},44066:function(e,t,s){s.d(t,{_:function(){return l}});let l=(0,s(79391).Ue)(e=>({isOpen:!1,messageId:"",open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),toggle:()=>e(e=>({isOpen:!e.isOpen})),setMessageId:t=>e({messageId:t})}))},58682:function(e,t,s){s.d(t,{b:function(){return l}});let l=e=>{let{banner:t,userId:s}=e;return"".concat(t,"-").concat(s)}},39989:function(e,t,s){s.d(t,{B:function(){return a},K:function(){return r}});var l=s(14337);let r=(e,t)=>{let s;let l=t?RegExp("^(#{".concat(t,"})\\s+(.*)$"),"gm"):/^(#{1,6})\s+(.*)$/gm,r=[];for(s=l.exec(e);null!==s;s=l.exec(e))r.push(s[2].trim());return r},a=()=>{let e=l.Zn;return delete e.harden,Object.values(e)}}}]);