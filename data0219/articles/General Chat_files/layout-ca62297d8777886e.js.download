(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7630],{31648:function(e,t,r){Promise.resolve().then(r.bind(r,11012))},85578:function(e,t,r){"use strict";r.d(t,{Y:function(){return n},l:function(){return o}});let n={CAMPAIGN:"utm_campaign",TERM:"utm_term",SOURCE:"utm_source",MEDIUM:"utm_medium",PLAN:"utm_plan",MODEL:"utm_model"},o={COUPON:"utm_coupon"}},1844:function(e,t,r){"use strict";r.d(t,{$:function(){return o},c:function(){return n}});let n={MODEL:"model",MODE:"mode"},o=3},51594:function(e,t,r){"use strict";r.d(t,{y:function(){return n}});let n={USER:"user",TOKEN:"token",UTM_CAMPAIGN:"utm_campaign",REFRESH_TOKEN:"refreshToken",TOKEN_EXPIRES_IN:"tokenExpiresIn",LANDING_SOURCE:"landing_source",RM_STORE_GATEWAY:"rmStoreGateway",UTM_MODEL:"utm_model",UTM_MODEL_EXPIRY:"utm_model_expiry",UTM_PLAN:"utm_plan",IS_PASSWORD:"is_password",IMPERSONATE_USER_TOKEN:"impersonateUserToken",UTM_COUPON:"utm_coupon",COUNTRY_CODE:"country_code"}},43192:function(e,t,r){"use strict";r.d(t,{H7:function(){return n},NB:function(){return s},QP:function(){return c},fO:function(){return o},ky:function(){return _},nY:function(){return a}});let n={ROOT:"/",AUTH:"".concat("/").concat("auth"),CHAT:"".concat("/").concat("chat"),IMAGE:"".concat("/").concat("image"),SEARCH_ENGINE:"".concat("/").concat("search-engine"),SUBSCRIPTION:"".concat("/").concat("/?openGlobalModal=subscriptionPopup"),SWITCH_PLAN:"".concat("/").concat("subscription","/").concat("switch-plan"),SUBSCRIPTION_SUCCESS:"".concat("/").concat("subscription-success"),STRIPE_REDIRECT:"".concat("/").concat("stripe-redirect"),SUPPORT:"".concat("/").concat("support"),LANDING_PAGE:"".concat("/").concat("ai-agent"),HISTORY_PAGE:"".concat("/").concat("history"),AI_CHAT:"".concat("/").concat("ai-chat"),AI_MODELS:"".concat("/").concat("models"),BLOG:"".concat("/").concat("blog"),NEWS:"".concat("/").concat("news"),AI_TOOLS:"".concat("/").concat("ai-tools"),DOCS:"".concat("/").concat("docs"),AI_SEARCH_ENGINE:"".concat("/").concat("ai-search-engine"),AI_IMAGE_GENERATOR:"".concat("/").concat("ai-image-generator"),AI_DOCUMENT_GENERATOR:"".concat("/").concat("ai-document-generator"),FAVICON_ICO:"".concat("/").concat("favicon.ico"),FAVICON:"".concat("/").concat("favicon.png"),FAVICON_DARK:"".concat("/").concat("favicon-dark.png"),FAVICON_LIGHT:"".concat("/").concat("favicon-light.png"),TERMS_AND_SERVICES:"".concat("/").concat("terms-and-service"),PRIVACY_POLICY:"".concat("/").concat("privacy-policy"),REFUND_POLICY:"".concat("/").concat("refund-policy"),MINI_APPS:"".concat("/").concat("apps")};n.AUTH,n.ROOT,n.LANDING_PAGE,n.SUPPORT,n.SUBSCRIPTION,n.CHAT,n.IMAGE,n.SEARCH_ENGINE,n.DOCS,n.AI_MODELS,n.BLOG,n.NEWS,n.MINI_APPS;let o=[n.AI_MODELS,n.AI_CHAT,n.BLOG,n.NEWS,n.AI_TOOLS,n.AI_DOCUMENT_GENERATOR,n.AI_IMAGE_GENERATOR],_=new Set([n.AUTH]),a=[n.AI_MODELS],s=[n.CHAT,n.IMAGE,n.SEARCH_ENGINE,n.SUPPORT,n.DOCS,n.MINI_APPS];n.IMAGE,n.SEARCH_ENGINE,n.SUPPORT,n.DOCS;let c=[n.BLOG,n.NEWS,n.AI_DOCUMENT_GENERATOR,n.AI_MODELS]},1820:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});let n={SECRET_TOKEN:"secret",TAB:"tab",TOKEN:"token",PRODUCT:"product",REDIRECT:"redirect",IS_SIGN_UP:"isSignUp",OPEN:"open",EMAIL:"email",PRICE_ID:"priceId",SESSION_ID:"session_id",QUANTITY:"quantity",MODEL:"model",PROMPT:"prompt",UTM_EXPERIMENT:"utm_experiment",UTM_MODEL:"utm_model",UTM_PLAN:"utm_plan",SUBSCRIPTION_SUCCESS:"subscriptionSuccess",SHOULD_CARRY_FORWARD:"shouldCarryForward",UTM_COUPON:"utm_coupon",COUPON:"coupon",IS_WEB_SEARCH:"webSearch",FEATURE:"feature"}},54498:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});class n{addModel(e){this.map[e.name.toLowerCase()]=e,this.setDefaultModel()}getModelByName(e){var t;return null!==(t=this.map[e.toLowerCase()])&&void 0!==t?t:this.defaultModel}getModelByKey(e){var t;return null!==(t=Object.values(this.map).find(t=>t.model===e))&&void 0!==t?t:this.defaultModel}getDefaultModel(){return this.defaultModel}getModelByGuestUserKey(e){var t;return null!==(t=Object.values(this.map).find(t=>t.guestUserKey===e))&&void 0!==t?t:this.defaultModel}getModelByFreeUserKey(e){var t;return null!==(t=Object.values(this.map).find(t=>t.freeUserKey===e))&&void 0!==t?t:this.defaultModel}getModelByUtmParam(e){var t;return null!==(t=Object.values(this.map).find(t=>t.utmParam===e))&&void 0!==t?t:this.defaultModel}setDefaultModel(){var e;let t=Object.values(this.map);this.defaultModel=null!==(e=t.find(e=>e.default))&&void 0!==e?e:t[0]}constructor(e){this.map=e.reduce((e,t)=>(e[t.name.toLowerCase()]=t,e),{}),this.setDefaultModel()}}},21633:function(e,t,r){"use strict";r.d(t,{R:function(){return l},j:function(){return E}});var n=r(10250),o=r(57331),_=r(21956),a=r(1844),s=r(35609),c=r(20225),i=r(54498);let u=(0,_.createContext)(void 0),l=e=>{let{children:t}=e,{models:r}=(0,c.Td)()(e=>({models:e.models})),l=(0,_.useMemo)(()=>new i.s(r),[r]),E=(0,o.useSearchParams)(),{isUtmModelFlow:P,utmModel:T}=(0,s.o)(),[I,d]=(0,_.useState)(null),[N,A]=(0,_.useState)(!1),U=E.get(a.c.MODEL),[C,L]=(0,_.useState)(()=>U?l.getModelByName(U):P&&T?l.getModelByUtmParam(T):l.getDefaultModel()),[f,h]=(0,_.useState)(!1),R=(0,_.useMemo)(()=>r.find(e=>e.isSearchEngineModel),[r]),p=(0,_.useMemo)(()=>e=>P?l.getModelByFreeUserKey(e):f?l.getModelByGuestUserKey(e):l.getModelByKey(e),[l,P,f]),O=(0,_.useMemo)(()=>{let e=new Map;return r.forEach(t=>{e.has(t.provider)||e.set(t.provider,t.image)}),Array.from(e.entries()).map(e=>{let[t,r]=e;return{name:t,image:r}})},[r]);(0,_.useEffect)(()=>{let e=E.get(a.c.MODEL);e&&L(l.getModelByName(e))},[E,l]);let S=(0,_.useMemo)(()=>({defaultModel:l.getDefaultModel(),currentModelInfo:C,setCurrentModel:e=>L(l.getModelByName(e)),currentPromptPreset:I,setCurrentPromptPreset:d,getModelInfoByName:e=>l.getModelByName(e),getModelInfo:p,resetChatStates:()=>{L(l.getDefaultModel())},isModelPageChat:N,setIsModelPageChat:A,isLandingPageChat:f,setIsLandingPageChat:h,searchEngineModel:null!=R?R:l.getDefaultModel(),providers:O}),[C,I,l,N,f,p,R,O]);return(0,n.jsx)(u.Provider,{value:S,children:t})},E=()=>{let e=(0,_.useContext)(u);if(void 0===e)throw Error("useChatConfigContext must be used within a ChatConfigContext");return e}},8797:function(e,t,r){"use strict";r.d(t,{ChatFormProvider:function(){return s},i:function(){return c}});var n=r(10250),o=r(58551),_=r(51697),a=r(67226);let s=e=>{let{children:t}=e,r=(0,_.cI)({resolver:(0,o.F)(a.Hg),defaultValues:{[a.mk.PROMPT]:"",[a.mk.FILES]:[]},mode:"onChange"});return(0,n.jsx)(_.RV,{...r,children:t})},c=()=>{let e=(0,_.Gc)();if(!e)throw Error("useChatFormContext must be used within ChatFormProvider");return e}},51897:function(e,t,r){"use strict";r.d(t,{x:function(){return _}});var n=r(97026),o=r(69325);let _=(0,n.D)({client:{NEXT_PUBLIC_APP_URL:o.Z_(),NEXT_PUBLIC_IS_DEBUG:o.O7(),NEXT_PUBLIC_IS_PRODUCTION_DEPLOYMENT:o.O7(),NEXT_PUBLIC_APP_CDN_URL:o.Z_(),NEXT_PUBLIC_GOOGLE_CLIENT_ID:o.Z_(),NEXT_PUBLIC_FACEBOOK_APP_ID:o.Z_(),NEXT_PUBLIC_VYRO_AUTH_FRONTEND_URL:o.Z_(),NEXT_PUBLIC_AUTH_API_URL:o.Z_(),NEXT_PUBLIC_APP_NAME:o.Z_(),NEXT_PUBLIC_PAYMENT_API_URL:o.Z_(),NEXT_PUBLIC_PROFILE_IMAGE_CDN:o.Z_(),NEXT_PUBLIC_APP_API_ENDPOINT:o.Z_(),NEXT_PUBLIC_CHAT_API_PATH:o.Z_(),NEXT_PUBLIC_USER_API_PATH:o.Z_(),NEXT_PUBLIC_SEARCH_ENGINE_API_PATH:o.Z_(),NEXT_PUBLIC_UPLOADS_API_URL:o.Z_(),NEXT_PUBLIC_UPLOADS_API_PATH:o.Z_(),NEXT_PUBLIC_FREE_UPLOADS_API_PATH:o.Z_(),NEXT_PUBLIC_GTM_ID:o.Z_(),NEXT_PUBLIC_FLAGS_API_URL:o.Z_(),NEXT_PUBLIC_BRAND_NAME:o.Z_(),NEXT_PUBLIC_CLARITY_PROJECT_ID:o.Z_(),NEXT_PUBLIC_CLOUDFLARE_SITE_KEY:o.Z_(),NEXT_PUBLIC_FREE_CHAT_API_PATH:o.Z_(),NEXT_PUBLIC_APP_BACKEND_INTERNAL_API:o.Z_(),NEXT_PUBLIC_AWS_BASE_SIGNED_URL:o.Z_(),NEXT_PUBLIC_APPLE_CLIENT_ID:o.Z_(),NEXT_PUBLIC_FEEDBACK_API_URL:o.Z_(),NEXT_PUBLIC_FAVICON_URL:o.Z_(),NEXT_PUBLIC_DEFAULT_USER_ID:o.Z_(),NEXT_PUBLIC_STRAPI_API_KEY:o.Z_(),NEXT_PUBLIC_STRAPI_API_URL:o.Z_(),NEXT_PUBLIC_CHATBASE_API_URL:o.Z_(),NEXT_PUBLIC_CHATBASE_CHATBOT_ID:o.Z_(),NEXT_PUBLIC_REALTIME_API_URL:o.Z_(),NEXT_PUBLIC_USERBACK_TOKEN:o.Z_(),NEXT_PUBLIC_ASSET_CDN:o.Z_(),NEXT_PUBLIC_YOUTUBE_THUMBNAIL_URL:o.Z_(),NEXT_PUBLIC_AGENT_API_PATH:o.Z_(),NEXT_PUBLIC_CDN_BUCKET_PATH:o.Z_(),NEXT_PUBLIC_DOC_API_PATH:o.Z_(),NEXT_PUBLIC_TTS_API_PATH:o.Z_(),NEXT_PUBLIC_STT_API_PATH:o.Z_(),NEXT_PUBLIC_CHATLY_CHURNKEY_APP_ID:o.Z_(),NEXT_PUBLIC_IMAGINE_CHURNKEY_APP_ID:o.Z_(),NEXT_PUBLIC_CHATLY_HELP_URL:o.Z_()},runtimeEnv:{NEXT_PUBLIC_IS_PRODUCTION_DEPLOYMENT:!0,NEXT_PUBLIC_APP_URL:"https://chatlyai.app",NEXT_PUBLIC_IS_DEBUG:!1,NEXT_PUBLIC_APP_CDN_URL:"https://cdn-chatly.vyro.ai",NEXT_PUBLIC_AUTH_API_URL:"https://auth.vyro.ai/apis/v1",NEXT_PUBLIC_GOOGLE_CLIENT_ID:"810287210002-3muq5aq7qibf3fpulk2vmnn3t43hqie5.apps.googleusercontent.com",NEXT_PUBLIC_FACEBOOK_APP_ID:"873040353831396",NEXT_PUBLIC_VYRO_AUTH_FRONTEND_URL:"https://accounts.vyro.ai/auth",NEXT_PUBLIC_APP_NAME:"chatly",NEXT_PUBLIC_PAYMENT_API_URL:"https://payment-gateway.vyro.ai/apis/v1",NEXT_PUBLIC_PROFILE_IMAGE_CDN:"https://profile-image.cdn.imagine.art/profile-image",NEXT_PUBLIC_APP_API_ENDPOINT:"https://streaming-chatly.vyro.ai/v2",NEXT_PUBLIC_CHAT_API_PATH:"/chat",NEXT_PUBLIC_USER_API_PATH:"/user",NEXT_PUBLIC_SEARCH_ENGINE_API_PATH:"/search",NEXT_PUBLIC_UPLOADS_API_URL:"https://streaming-chatly.vyro.ai/v2",NEXT_PUBLIC_UPLOADS_API_PATH:"/chat/upload",NEXT_PUBLIC_FREE_UPLOADS_API_PATH:"/free/chat/upload",NEXT_PUBLIC_GTM_ID:"GTM-N83XJB9Z",NEXT_PUBLIC_FLAGS_API_URL:"https://flags.vyro.ai/apis/v1",NEXT_PUBLIC_BRAND_NAME:"Chatly",NEXT_PUBLIC_CLARITY_PROJECT_ID:"mppardzdvj",NEXT_PUBLIC_CLOUDFLARE_SITE_KEY:"0x4AAAAAAA-iYapsZuN9fKiY",NEXT_PUBLIC_FREE_CHAT_API_PATH:"/free/chat/completions",NEXT_PUBLIC_APP_BACKEND_INTERNAL_API:"https://internal.vyro.ai",NEXT_PUBLIC_AWS_BASE_SIGNED_URL:"https://pub-9de3ef333ad945ebac537fd0ec8d12d0.r2.dev",NEXT_PUBLIC_APPLE_CLIENT_ID:"com.vyro.chatlyai",NEXT_PUBLIC_FEEDBACK_API_URL:"https://feedback.vyro.ai",NEXT_PUBLIC_FAVICON_URL:"https://www.google.com/s2/favicons?sz=64&domain_url=",NEXT_PUBLIC_DEFAULT_USER_ID:"7051c58c-bbf2-4c85-a337-eb61a8b8a635",NEXT_PUBLIC_STRAPI_API_KEY:"3cf028297a376ecc907384661576a190952636538c49866ac71b916c4c2d53a36a7c13abd4f686340d1c411c52f9ce52e996afb76608c9af3e1966a384ad5d35b7d2d0762942031696bfc60b27a4621d10213058d478c37c64ed109c94a8e225d0ed8a19e851f2c8f0485e710c2cc0716a646097c1816ac225cb81a8c26d4e56",NEXT_PUBLIC_STRAPI_API_URL:"https://chatly-strapi.vyro.ai",NEXT_PUBLIC_CHATBASE_API_URL:"https://www.chatbase.co/api/v1",NEXT_PUBLIC_CHATBASE_CHATBOT_ID:"K_ZL-aNONwY8MpTWJ6d3G",NEXT_PUBLIC_REALTIME_API_URL:"wss://realtime.vyro.ai/connection/websocket",NEXT_PUBLIC_USERBACK_TOKEN:"A-njlzGfKMbZrWxk4u5Bob0Ka0r",NEXT_PUBLIC_ASSET_CDN:"https://cdn-anubis.vyro.ai",NEXT_PUBLIC_YOUTUBE_THUMBNAIL_URL:"https://i.ytimg.com/vi/",NEXT_PUBLIC_AGENT_API_PATH:"/agent",NEXT_PUBLIC_CDN_BUCKET_PATH:"/chatly-web",NEXT_PUBLIC_DOC_API_PATH:"/doc",NEXT_PUBLIC_TTS_API_PATH:"/tts",NEXT_PUBLIC_STT_API_PATH:"/stt",NEXT_PUBLIC_CHATLY_CHURNKEY_APP_ID:"plcm3qw4z",NEXT_PUBLIC_IMAGINE_CHURNKEY_APP_ID:"qg5mpwuvq",NEXT_PUBLIC_CHATLY_HELP_URL:"https://help.chatlyai.app"}})},35609:function(e,t,r){"use strict";r.d(t,{o:function(){return c}});var n=r(57331),o=r(21956),_=r(43192),a=r(1820),s=r(62819);let c=()=>{let e=(0,s.m)()(e=>e.subscription),t=(0,n.usePathname)(),r=(0,n.useSearchParams)(),c=(0,n.useRouter)();(0,o.useEffect)(()=>{let t=r.get(a.t.UTM_MODEL);if((null==e?void 0:e.isActive)&&t){let e=new URLSearchParams(r.toString());e.delete(a.t.UTM_MODEL),c.replace("?".concat(e.toString()),{scroll:!1})}},[e,r,c]);let i=(0,o.useMemo)(()=>{if(!0===t.includes(_.H7.IMAGE)){let e=r.get(a.t.UTM_MODEL);return null==e?void 0:e.replace(/^(a_|b_)/,"")}return r.get(a.t.UTM_MODEL)},[r,t]);return{isUtmModelFlow:!!i,utmModel:i,fullUtmModel:r.get(a.t.UTM_MODEL)}}},11012:function(e,t,r){"use strict";r.d(t,{PromptLayout:function(){return u}});var n=r(10250),o=r(8797),_=r(51897),a=r(21633),s=r(35609),c=r(62819);let i=()=>{var e;let{currentModelInfo:t}=(0,a.j)(),r=(0,c.m)()(e=>e.subscription),{isUtmModelFlow:n}=(0,s.o)();return{showModelDashboard:t&&n&&!(null==r?void 0:r.isActive),disclaimer:null!==(e=null==t?void 0:t.disclaimer)&&void 0!==e?e:""}},u=e=>{let{children:t}=e,{showModelDashboard:r,disclaimer:a}=i();return(0,n.jsx)(o.ChatFormProvider,{children:(0,n.jsxs)("div",{className:"flex size-full flex-col items-center justify-between overflow-hidden",children:[t,(0,n.jsx)("span",{className:"w-full text-wrap pb-2 text-center text-label-xs text-tertiary tablet:whitespace-nowrap tablet:text-label-sm",children:r?a:"".concat(_.x.NEXT_PUBLIC_BRAND_NAME," can make\n          mistakes. Check important info.")})]})})}},57914:function(e,t,r){"use strict";r.d(t,{A:function(){return _}});var n=r(9786),o=r(51594);let _=()=>{var e;let t={},r=null!==(e=n.Z.get(o.y.IMPERSONATE_USER_TOKEN))&&void 0!==e?e:n.Z.get(o.y.TOKEN);return r&&(t.Authorization="Bearer ".concat(r)),t}},20832:function(e,t,r){"use strict";r.d(t,{U:function(){return _}});var n=r(51897),o=r(57914);let _=new(r(65714)).h({baseURL:n.x.NEXT_PUBLIC_AUTH_API_URL,defaultHeadersGenerator:o.A})},89153:function(e,t,r){"use strict";var n,o;r.d(t,{f:function(){return n}}),(o=n||(n={}))[o.ABORTED=-1]="ABORTED",o[o.UNKNOWN=418]="UNKNOWN"},65714:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(51897),o=r(89153);class _{use(e,t,r){return this.handlers.push({onFulfilled:e,onRejected:t,...null!=r?r:{}}),this.handlers.length-1}eject(e){return!!this.handlers[e]&&(this.handlers[e]=null,!0)}clear(){this.handlers&&(this.handlers=[])}forEach(e){this.handlers.forEach(function(t){null!==t&&e(t)})}constructor(){this.handlers=[]}}class a{async processSuccessResponse(e){let t=e.headers.get("content-type"),r={data:(null==t?void 0:t.includes("image"))?await e.blob():await e.json(),response:e};for(let e=0;e<this.interceptors.response.handlers.length;e+=1){let t=this.interceptors.response.handlers[e];t&&t.onFulfilled&&(r=await t.onFulfilled(r))}return{code:"success",data:r.data}}async processErrorResponse(e){let t;let r=e.headers.get("content-type");try{if(null==r?void 0:r.includes("json"))t=await e.json();else if(null==r?void 0:r.includes("text/")){let r=await e.text();t=Error(r)}else t=Error("Error response was not JSON or HTML")}catch(e){t=Error("Could not parse error data from response")}let n={code:"error",error:t,statusCode:e.status},o=n;return this.interceptors.response.forEach(e=>{o=e.onRejected?e.onRejected(o):o}),n}async processResponse(e){return e.ok?this.processSuccessResponse(e):this.processErrorResponse(e)}prepareBody(e,t){return["GET","HEAD"].includes(e)?void 0:(null==t?void 0:t.body)===null||(null==t?void 0:t.body)===void 0||(null==t?void 0:t.body)instanceof FormData||(null==t?void 0:t.body)instanceof URLSearchParams||(null==t?void 0:t.body)instanceof Blob||(null==t?void 0:t.body)instanceof ArrayBuffer||(null==t?void 0:t.body)instanceof ReadableStream||ArrayBuffer.isView(null==t?void 0:t.body)?null==t?void 0:t.body:"object"==typeof(null==t?void 0:t.body)?JSON.stringify(t.body):t.body}prepareHeaders(e){var t;return{...this.defaultHeadersGenerator(),...null!==(t=null==e?void 0:e.headers)&&void 0!==t?t:{}}}createInitialRequestConfig(e,t){let r=this.prepareBody(e,t),n=this.prepareHeaders(t);return{...t,body:r,method:e,headers:n}}async prepareRequest(e,t){let r=this.createInitialRequestConfig(e,t);for(let e=0;e<this.interceptors.request.handlers.length;e+=1){let t=this.interceptors.request.handlers[e];t&&t.onFulfilled&&(r=await t.onFulfilled(r))}return r}prepareUrl(e,t){let r=new URLSearchParams(null==t?void 0:t.params);return"".concat(this._baseURL).concat(e).concat(r.toString().length>0?"?".concat(r):"")}async makeFetchRequest(e,t,r,_){try{let o=this.prepareUrl(t,r),_=await this.prepareRequest(e,r),a=await fetch(o,_),s=await this.processResponse(a);if(n.x.NEXT_PUBLIC_IS_DEBUG&&(console.log("\n\n======================================================\n\n"),console.log("fullUrl: ",o,"\n\n"),console.log("requestConfig: ",_,"\n\n"),console.log("headers: ",a.headers,"\n\n"),console.log("StatusCode: ",a.status,"\n\n"),console.log("result: ",s)),"error"===s.code)throw s;return s}catch(t){let e;if("error"===t.code)e=t;else{var a;e={code:"error",statusCode:(null==r?void 0:null===(a=r.signal)||void 0===a?void 0:a.aborted)?o.f.ABORTED:o.f.UNKNOWN,error:Error(t.message||"Something went wrong")}}if(null==_?void 0:_.throwOnError)throw e;return e}}get(e,t,r){return null==r||r.throwOnError,this.makeFetchRequest("GET",e,t,r)}post(e,t,r){return null==r||r.throwOnError,this.makeFetchRequest("POST",e,t,r)}put(e,t,r){return null==r||r.throwOnError,this.makeFetchRequest("PUT",e,t,r)}patch(e,t,r){return null==r||r.throwOnError,this.makeFetchRequest("PATCH",e,t,r)}delete(e,t,r){return null==r||r.throwOnError,this.makeFetchRequest("DELETE",e,t,r)}constructor(e){var t,r;this._baseURL=null!==(t=null==e?void 0:e.baseURL)&&void 0!==t?t:"",this.interceptors={request:new _,response:new _},this.defaultHeadersGenerator=null!==(r=null==e?void 0:e.defaultHeadersGenerator)&&void 0!==r?r:()=>({})}}},67226:function(e,t,r){"use strict";r.d(t,{Hg:function(){return i},mk:function(){return o}});var n,o,_=r(69325);let a=_.Ry({id:_.Z_(),name:_.Z_(),mimetype:_.Z_(),type:_.Km(["image_url","file"]),file_url:_.Ry({url:_.Z_().url(),meta_data:_.Ry({name:_.Z_()})})}),s=_.Z_().trim(),c=_.IX(a);(n=o||(o={})).PROMPT="prompt",n.FILES="files";let i=_.Ry({prompt:s,files:c.optional()})},91283:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var n=r(51897);let o=new(r(65714)).h({baseURL:n.x.NEXT_PUBLIC_AUTH_API_URL})},77177:function(e,t,r){"use strict";r.d(t,{Wb:function(){return s},Yp:function(){return u},kS:function(){return i},tc:function(){return c}});var n=r(20832),o=r(26982),_=r(91283);let a="/auth/other",s=async e=>{if(!e)throw Error("Refresh token is not available");return await _.l.post("".concat(a,"/refresh/web"),{headers:{Authorization:"Bearer ".concat(e)}})},c=async e=>{let{data:{result:t}}=await n.U.get("".concat(a,"/user-info/"),{params:{token:e}},{throwOnError:!0});return t},i=async()=>{await n.U.post("".concat(a,"/logout"),null,{throwOnError:!0})},u=async e=>{let t=(0,o.NZ)(e);return await n.U.post("".concat(a,"/impersonate"),{body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},77850:function(e,t,r){"use strict";r.d(t,{o:function(){return _}});var n=r(51897),o=r(91283);let _=async e=>{let{data:t}=await o.l.post("/auth/password/forget",{params:{redirect:n.x.NEXT_PUBLIC_APP_URL,product:n.x.NEXT_PUBLIC_APP_NAME.toLowerCase()},body:e,headers:{"Content-Type":"application/json"}},{throwOnError:!0});return t}},20225:function(e,t,r){"use strict";r.d(t,{Td:function(){return c},hO:function(){return i}});var n=r(10250),o=r(21956),_=r(79391);let a=e=>(0,_.Ue)(()=>({...e})),s=(0,o.createContext)(null),c=()=>{if(!s)throw Error("useRemoteConfigStoreContext must be used within a RemoteConfigStoreProvider");return(0,o.useContext)(s)},i=e=>{let{initialState:t,children:r}=e,[_]=(0,o.useState)(()=>a(t));return(0,n.jsx)(s.Provider,{value:_,children:r})}},62819:function(e,t,r){"use strict";r.d(t,{K:function(){return u},m:function(){return i}});var n=r(10250),o=r(21956),_=r(79391),a=r(16888);let s=e=>(0,_.Ue)()(t=>({...e,setUser:e=>t({user:e}),setSubscription:e=>{t({subscription:e})},loginUser:e=>{let{user:r}=e;t(()=>({user:r}))},logoutUser:()=>{(0,a.J5)(),t(()=>({user:null,subscription:null}))}})),c=(0,o.createContext)(null),i=()=>{if(!c)throw Error("useUser must be used within a UserStoreContext");return(0,o.useContext)(c)},u=e=>{let{initialState:t,children:r}=e,[_]=(0,o.useState)(()=>s(t));return(0,n.jsx)(c.Provider,{value:_,children:r})}},26982:function(e,t,r){"use strict";r.d(t,{Ek:function(){return _},LP:function(){return a},NZ:function(){return s}});var n=r(9786),o=r(51594);let _=e=>e?{Authorization:"Bearer ".concat(e)}:{},a=()=>{var e,t;return null!==(t=null!==(e=n.Z.get(o.y.IMPERSONATE_USER_TOKEN))&&void 0!==e?e:n.Z.get(o.y.TOKEN))&&void 0!==t?t:""},s=e=>{if("email"in e)return{email:e.email};if("userId"in e)return{userId:e.userId};if("stripeCustomerId"in e)return{stripeCustomerId:e.stripeCustomerId};throw Error("Invalid args")}},16888:function(e,t,r){"use strict";r.d(t,{Oj:function(){return l},Nh:function(){return E},UN:function(){return P},J5:function(){return u},Ml:function(){return s},oI:function(){return T}});var n=r(9786);r(88626),r(85578);var o=r(51594);r(43192),r(1820);var _=r(77177);r(77850);var a=r(26982);let s=e=>{let{cookies:t,...r}=e,n=new Date(Date.now()+6048e5),_=new Date(Date.now()+1e3*r[o.y.TOKEN_EXPIRES_IN]);if(r[o.y.REFRESH_TOKEN]&&t.set(o.y.REFRESH_TOKEN,r[o.y.REFRESH_TOKEN],{expires:n}),r[o.y.TOKEN]){var a,s;t.set(o.y.TOKEN,r[o.y.TOKEN],{expires:_}),t.set(o.y.TOKEN_EXPIRES_IN,_.getTime().toString(),{expires:_}),t.set(o.y.IS_PASSWORD,null!==(s=null===(a=r[o.y.IS_PASSWORD])||void 0===a?void 0:a.toString())&&void 0!==s?s:"false")}},c=(e,t)=>{if(!t||!e)return!0;let r=Number(t);return!!Number.isNaN(r)||new Date().getTime()>r},i=async(e,t,r)=>{if(!c(e,r)||!t)return;let n=await (0,_.Wb)(t);if("success"===n.code)return n.data.result;throw Error(n.error.message,{cause:{isRefreshTokenError:!0}})},u=e=>{let t=e?t=>{var r;return null==e?void 0:null===(r=e.delete)||void 0===r?void 0:r.call(e,t)}:e=>n.Z.remove(e);[o.y.TOKEN,o.y.REFRESH_TOKEN,o.y.TOKEN_EXPIRES_IN].forEach(t)},l=()=>{let e=(0,a.LP)();return e?"Bearer ".concat(e):""},E=()=>(0,a.LP)()||"",P=async e=>{let{logoutHandler:t,refreshRef:r}=e,_=(0,a.LP)(),u=n.Z.get(o.y.REFRESH_TOKEN),l=n.Z.get(o.y.TOKEN_EXPIRES_IN),E=_;if((!_||c(_,l))&&u){r&&(r.current=!0);try{let e=await i(_||"",u,null!=l?l:"");e?(s({token:e.sessionToken,refreshToken:e.refreshToken,tokenExpiresIn:e.tokenExpiresIn,cookies:n.Z}),E=e.sessionToken):t()}catch(e){t()}finally{r&&(r.current=!1)}}else _||u||t();return E},T=(e,t)=>{let r=e.get(o.y.UTM_PLAN);if(r){let e=t.find(e=>e.utmPlan===r);e&&n.Z.set(o.y.UTM_PLAN,e.utmPlan,{expires:e.validForDays})}}}},function(e){e.O(0,[9325,3076,8551,8463,5132,3585,1744],function(){return e(e.s=31648)}),_N_E=e.O()}]);