"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7287],{95767:function(t,e,n){n.d(e,{VY:function(){return R},aV:function(){return L},fC:function(){return x},xz:function(){return E}});var o=n(21956),i=n(87192),r=n(96182),l=n(66538),s=n(71114),a=n(35450),d=n(77671),u=n(2171),h=n(84995),p=n(10250),c="Tabs",[f,m]=(0,r.b)(c,[l.Pc]),g=(0,l.Pc)(),[b,y]=f(c),w=o.forwardRef((t,e)=>{let{__scopeTabs:n,value:o,onValueChange:i,defaultValue:r,orientation:l="horizontal",dir:s,activationMode:c="automatic",...f}=t,m=(0,d.gm)(s),[g,y]=(0,u.T)({prop:o,onChange:i,defaultProp:r});return(0,p.jsx)(b,{scope:n,baseId:(0,h.M)(),value:g,onValueChange:y,orientation:l,dir:m,activationMode:c,children:(0,p.jsx)(a.WV.div,{dir:m,"data-orientation":l,...f,ref:e})})});w.displayName=c;var v="TabsList",k=o.forwardRef((t,e)=>{let{__scopeTabs:n,loop:o=!0,...i}=t,r=y(v,n),s=g(n);return(0,p.jsx)(l.fC,{asChild:!0,...s,orientation:r.orientation,dir:r.dir,loop:o,children:(0,p.jsx)(a.WV.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:e})})});k.displayName=v;var C="TabsTrigger",A=o.forwardRef((t,e)=>{let{__scopeTabs:n,value:o,disabled:r=!1,...s}=t,d=y(C,n),u=g(n),h=T(d.baseId,o),c=H(d.baseId,o),f=o===d.value;return(0,p.jsx)(l.ck,{asChild:!0,...u,focusable:!r,active:f,children:(0,p.jsx)(a.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:h,...s,ref:e,onMouseDown:(0,i.M)(t.onMouseDown,t=>{r||0!==t.button||!1!==t.ctrlKey?t.preventDefault():d.onValueChange(o)}),onKeyDown:(0,i.M)(t.onKeyDown,t=>{[" ","Enter"].includes(t.key)&&d.onValueChange(o)}),onFocus:(0,i.M)(t.onFocus,()=>{let t="manual"!==d.activationMode;f||r||!t||d.onValueChange(o)})})})});A.displayName=C;var M="TabsContent",S=o.forwardRef((t,e)=>{let{__scopeTabs:n,value:i,forceMount:r,children:l,...d}=t,u=y(M,n),h=T(u.baseId,i),c=H(u.baseId,i),f=i===u.value,m=o.useRef(f);return o.useEffect(()=>{let t=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(t)},[]),(0,p.jsx)(s.z,{present:r||f,children:n=>{let{present:o}=n;return(0,p.jsx)(a.WV.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!o,id:c,tabIndex:0,...d,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:o&&l})}})});function T(t,e){return"".concat(t,"-trigger-").concat(e)}function H(t,e){return"".concat(t,"-content-").concat(e)}S.displayName=M;var x=w,L=k,E=A,R=S},14948:function(t,e,n){n.d(e,{tZ:function(){return o}});var o=(t,e)=>{if("slot"===t)return 0;if(t instanceof Function)return t(e);let{children:n,...o}=null!=e?e:{};if("svg"===t)throw Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,o,n]}},41094:function(t,e,n){n.d(e,{ZP:function(){return u},d8:function(){return d}});var o=n(85587),i=n(14948),r=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,s=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,a=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,d=o.vc.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return(0,i.tZ)("strong",{...(0,o.P1)(this.options.HTMLAttributes,t),children:(0,i.tZ)("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,o.Cf)({find:r,type:this.type}),(0,o.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,o.K9)({find:l,type:this.type}),(0,o.K9)({find:a,type:this.type})]}}),u=d},65661:function(t,e,n){n.d(e,{NM:function(){return d},q3:function(){return a}});var o=n(85587),i=n(97683),r=n(28030),l=n(86879),s=class{constructor({editor:t,element:e,view:n,updateDelay:i=250,resizeDelay:r=60,shouldShow:l,appendTo:s,getReferencedVirtualElement:a,options:d}){var u;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:t,state:e,from:n,to:i})=>{let{doc:r,selection:l}=e,{empty:s}=l,a=!r.textBetween(n,i).length&&(0,o.xh)(e.selection),d=this.element.contains(document.activeElement);return!!(t.hasFocus()||d)&&!s&&!a&&!!this.editor.isEditable},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:t})=>{var e;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}(null==t?void 0:t.relatedTarget)&&(null==(e=this.element.parentNode)?void 0:e.contains(t.relatedTarget))||(null==t?void 0:t.relatedTarget)===this.editor.view.dom||this.hide()},this.handleDebouncedUpdate=(t,e)=>{let n=!(null==e?void 0:e.selection.eq(t.state.selection)),o=!(null==e?void 0:e.doc.eq(t.state.doc));(n||o)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(t,n,o,e)},this.updateDelay))},this.updateHandler=(t,e,n,o)=>{let{composing:i}=t;if(!i&&(e||n)){if(!this.getShouldShow(o)){this.hide();return}this.updatePosition(),this.show()}},this.transactionHandler=({transaction:t})=>{"updatePosition"===t.getMeta("bubbleMenu")&&this.updatePosition()},this.editor=t,this.element=e,this.view=n,this.updateDelay=i,this.resizeDelay=r,this.appendTo=s,this.scrollTarget=null!=(u=null==d?void 0:d.scrollTarget)?u:window,this.getReferencedVirtualElement=a,this.floatingUIOptions={...this.floatingUIOptions,...d},this.element.tabIndex=0,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){let t=[];return this.floatingUIOptions.flip&&t.push((0,i.RR)("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push((0,i.uY)("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push((0,i.cv)("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push((0,i.x7)(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push((0,i.dp)("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push((0,i.X5)("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push((0,i.Cp)("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push((0,i.Qo)("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),t}get virtualElement(){var t;let{selection:e}=this.editor.state,n=null==(t=this.getReferencedVirtualElement)?void 0:t.call(this);if(n)return n;let i=(0,o.pr)(this.view,e.from,e.to),s={getBoundingClientRect:()=>i,getClientRects:()=>[i]};if(e instanceof r.qv){let t=this.view.nodeDOM(e.from),n=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");n&&(t=n),t&&(s={getBoundingClientRect:()=>t.getBoundingClientRect(),getClientRects:()=>[t.getBoundingClientRect()]})}if(e instanceof l.Xc){let{$anchorCell:t,$headCell:n}=e,o=t?t.pos:n.pos,i=n?n.pos:t.pos,r=this.view.nodeDOM(o),l=this.view.nodeDOM(i);if(!r||!l)return;let a=r===l?r.getBoundingClientRect():function(t,e){let n=Math.min(t.top,e.top),o=Math.max(t.bottom,e.bottom),i=Math.min(t.left,e.left);return new DOMRect(i,n,Math.max(t.right,e.right)-i,o-n)}(r.getBoundingClientRect(),l.getBoundingClientRect());s={getBoundingClientRect:()=>a,getClientRects:()=>[a]}}return s}updatePosition(){let t=this.virtualElement;t&&(0,i.oo)(t,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:t,y:e,strategy:n})=>{this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${t}px`,this.element.style.top=`${e}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){let{state:n}=t,o=n.selection.from!==n.selection.to;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(t,e);return}let i=!(null==e?void 0:e.selection.eq(t.state.selection)),r=!(null==e?void 0:e.doc.eq(t.state.doc));this.updateHandler(t,i,r,e)}getShouldShow(t){var e;let{state:n}=this.view,{selection:o}=n,{ranges:i}=o,r=Math.min(...i.map(t=>t.$from.pos)),l=Math.max(...i.map(t=>t.$to.pos));return(null==(e=this.shouldShow)?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:t,from:r,to:l}))||!1}show(){var t;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";let e="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(t=null!=e?e:this.view.dom.parentElement)||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},a=t=>new r.Sy({key:"string"==typeof t.pluginKey?new r.H$(t.pluginKey):t.pluginKey,view:e=>new s({view:e,...t})}),d=o.hj.create({name:"bubbleMenu",addOptions:()=>({element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}})},22278:function(t,e,n){n.d(e,{Z:function(){return o}});var o=n(17900).Ht},9423:function(t,e,n){n.d(e,{X:function(){return i}});var o=n(85587),i=o.NB.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){let n=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return[`h${n}`,(0,o.P1)(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;let o=(null==(n=t.attrs)?void 0:n.level)?parseInt(t.attrs.level,10):1,i="#".repeat(o);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>(0,o.zK)({find:RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}})},73809:function(t,e,n){n.d(e,{ZP:function(){return r}});var o=n(85587),i=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,r=o.NB.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",(0,o.P1)(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,o,i,r,l;let s=null!=(n=null==(e=t.attrs)?void 0:e.src)?n:"",a=null!=(i=null==(o=t.attrs)?void 0:o.alt)?i:"",d=null!=(l=null==(r=t.attrs)?void 0:r.title)?l:"";return d?`![${a}](${s} "${d}")`:`![${a}](${s})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||"undefined"==typeof document||!this.editor.isEditable)return null;let{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:i}=this.options.resize;return({node:r,getPos:l,HTMLAttributes:s})=>{let a=document.createElement("img");Object.entries(s).forEach(([t,e])=>{if(null!=e)switch(t){case"width":case"height":break;default:a.setAttribute(t,e)}}),a.src=s.src;let d=new o.fy({element:a,node:r,getPos:l,onResize:(t,e)=>{a.style.width=`${t}px`,a.style.height=`${e}px`},onCommit:(t,e)=>{let n=l();void 0!==n&&this.editor.chain().setNodeSelection(n).updateAttributes(this.name,{width:t,height:e}).run()},onUpdate:(t,e,n)=>t.type===r.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:!0===i}}),u=d.dom;return u.style.visibility="hidden",u.style.pointerEvents="none",a.onload=()=>{u.style.visibility="",u.style.pointerEvents=""},d}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,o.x2)({find:i,type:this.type,getAttributes:t=>{let[,,e,n,o]=t;return{src:n,alt:e,title:o}}})]}})},31247:function(t,e,n){n.d(e,{Tx:function(){return a},ZP:function(){return d}});var o=n(85587),i=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,r=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,l=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,s=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,a=o.vc.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,o.Cf)({find:i,type:this.type}),(0,o.Cf)({find:l,type:this.type})]},addPasteRules(){return[(0,o.K9)({find:r,type:this.type}),(0,o.K9)({find:s,type:this.type})]}}),d=a},3081:function(t,e,n){n.d(e,{rU:function(){return tF},ZP:function(){return tq}});var o=n(85587);let i="numeric",r="ascii",l="alpha",s="asciinumeric",a="alphanumeric",d="domain",u="emoji",h="whitespace";function p(t,e,n){for(let o in e[i]&&(e[s]=!0,e[a]=!0),e[r]&&(e[s]=!0,e[l]=!0),e[s]&&(e[a]=!0),e[l]&&(e[a]=!0),e[a]&&(e[d]=!0),e[u]&&(e[d]=!0),e){let e=(o in n||(n[o]=[]),n[o]);0>e.indexOf(t)&&e.push(t)}}function c(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}c.groups={},c.prototype={accepts(){return!!this.t},go(t){let e=this.j[t];if(e)return e;for(let e=0;e<this.jr.length;e++){let n=this.jr[e][0],o=this.jr[e][1];if(o&&n.test(t))return o}return this.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,o)},tr(t,e,n,o){let i;return o=o||c.groups,e&&e.j?i=e:(i=new c(e),n&&o&&p(e,n,o)),this.jr.push([t,i]),i},ts(t,e,n,o){let i=this,r=t.length;if(!r)return i;for(let e=0;e<r-1;e++)i=i.tt(t[e]);return i.tt(t[r-1],e,n,o)},tt(t,e,n,o){if(o=o||c.groups,e&&e.j)return this.j[t]=e,e;let i,r=this.go(t);return r?(Object.assign((i=new c).j,r.j),i.jr.push.apply(i.jr,r.jr),i.jd=r.jd,i.t=r.t):i=new c,e&&(o&&(i.t&&"string"==typeof i.t?p(e,Object.assign(function(t,e){let n={};for(let o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}(i.t,o),n),o):n&&p(e,n,o)),i.t=e),this.j[t]=i,i}};let f=(t,e,n,o,i)=>t.ta(e,n,o,i),m=(t,e,n,o,i)=>t.tr(e,n,o,i),g=(t,e,n,o,i)=>t.ts(e,n,o,i),b=(t,e,n,o,i)=>t.tt(e,n,o,i),y="WORD",w="UWORD",v="ASCIINUMERICAL",k="ALPHANUMERICAL",C="LOCALHOST",A="UTLD",M="SCHEME",S="SLASH_SCHEME",T="OPENBRACE",H="CLOSEBRACE",x="OPENBRACKET",L="CLOSEBRACKET",E="OPENPAREN",R="CLOSEPAREN",$="OPENANGLEBRACKET",O="CLOSEANGLEBRACKET",N="FULLWIDTHLEFTPAREN",I="FULLWIDTHRIGHTPAREN",D="LEFTCORNERBRACKET",z="RIGHTCORNERBRACKET",P="LEFTWHITECORNERBRACKET",B="RIGHTWHITECORNERBRACKET",j="FULLWIDTHLESSTHAN",U="FULLWIDTHGREATERTHAN",W="AMPERSAND",_="APOSTROPHE",K="ASTERISK",F="BACKSLASH",q="BACKTICK",V="CARET",Q="COLON",Y="COMMA",G="DOLLAR",X="EQUALS",Z="EXCLAMATION",J="HYPHEN",tt="PERCENT",te="PIPE",tn="PLUS",to="POUND",ti="QUERY",tr="QUOTE",tl="FULLWIDTHMIDDLEDOT",ts="SEMI",ta="SLASH",td="TILDE",tu="UNDERSCORE",th="EMOJI";var tp=Object.freeze({__proto__:null,ALPHANUMERICAL:k,AMPERSAND:W,APOSTROPHE:_,ASCIINUMERICAL:v,ASTERISK:K,AT:"AT",BACKSLASH:F,BACKTICK:q,CARET:V,CLOSEANGLEBRACKET:O,CLOSEBRACE:H,CLOSEBRACKET:L,CLOSEPAREN:R,COLON:Q,COMMA:Y,DOLLAR:G,DOT:"DOT",EMOJI:th,EQUALS:X,EXCLAMATION:Z,FULLWIDTHGREATERTHAN:U,FULLWIDTHLEFTPAREN:N,FULLWIDTHLESSTHAN:j,FULLWIDTHMIDDLEDOT:tl,FULLWIDTHRIGHTPAREN:I,HYPHEN:J,LEFTCORNERBRACKET:D,LEFTWHITECORNERBRACKET:P,LOCALHOST:C,NL:"NL",NUM:"NUM",OPENANGLEBRACKET:$,OPENBRACE:T,OPENBRACKET:x,OPENPAREN:E,PERCENT:tt,PIPE:te,PLUS:tn,POUND:to,QUERY:ti,QUOTE:tr,RIGHTCORNERBRACKET:z,RIGHTWHITECORNERBRACKET:B,SCHEME:M,SEMI:ts,SLASH:ta,SLASH_SCHEME:S,SYM:"SYM",TILDE:td,TLD:"TLD",UNDERSCORE:tu,UTLD:A,UWORD:w,WORD:y,WS:"WS"});let tc=/[a-z]/,tf=/\p{L}/u,tm=/\p{Emoji}/u,tg=/\d/,tb=/\s/,ty=null,tw=null;function tv(t,e){let n=function(t){let e=[],n=t.length,o=0;for(;o<n;){let i,r=t.charCodeAt(o),l=r<55296||r>56319||o+1===n||(i=t.charCodeAt(o+1))<56320||i>57343?t[o]:t.slice(o,o+2);e.push(l),o+=l.length}return e}(e.replace(/[A-Z]/g,t=>t.toLowerCase())),o=n.length,i=[],r=0,l=0;for(;l<o;){let s=t,a=null,d=0,u=null,h=-1,p=-1;for(;l<o&&(a=s.go(n[l]));)(s=a).accepts()?(h=0,p=0,u=s):h>=0&&(h+=n[l].length,p++),d+=n[l].length,r+=n[l].length,l++;r-=h,l-=p,d-=h,i.push({t:u.t,v:e.slice(r-d,r),s:r-d,e:r})}return i}function tk(t,e,n,o,i){let r;let l=e.length;for(let n=0;n<l-1;n++){let l=e[n];t.j[l]?r=t.j[l]:((r=new c(o)).jr=i.slice(),t.j[l]=r),t=r}return(r=new c(n)).jr=i.slice(),t.j[e[l-1]]=r,r}function tC(t){let e=[],n=[],o=0;for(;o<t.length;){let i=0;for(;"0123456789".indexOf(t[o+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let e=parseInt(t.substring(o,o+i),10);e>0;e--)n.pop();o+=i}else n.push(t[o]),o++}return e}let tA={defaultProtocol:"http",events:null,format:tS,formatHref:tS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tM(t,e=null){let n=Object.assign({},tA);t&&(n=Object.assign(n,t instanceof tM?t.o:t));let o=n.ignoreTags,i=[];for(let t=0;t<o.length;t++)i.push(o[t].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}function tS(t){return t}function tT(t,e){this.t="token",this.v=t,this.tk=e}function tH(t,e){class n extends tT{constructor(e,n){super(e,n),this.t=t}}for(let t in e)n.prototype[t]=e[t];return n.t=t,n}tM.prototype={o:tA,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){let o=null!=e,i=this.o[t];return i&&("object"==typeof i?"function"==typeof(i=n.t in i?i[n.t]:tA[t])&&o&&(i=i(e,n)):"function"==typeof i&&o&&(i=i(e,n.t,n))),i},getObj(t,e,n){let o=this.o[t];return"function"==typeof o&&null!=e&&(o=o(e,n.t,n)),o},render(t){let e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},tT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){let e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"…":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=tA.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){let e=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",e,this),o=t.get("tagName",e,this),i=this.toFormattedString(t),r={},l=t.get("className",e,this),s=t.get("target",e,this),a=t.get("rel",e,this),d=t.getObj("attributes",e,this),u=t.getObj("events",e,this);return r.href=n,l&&(r.class=l),s&&(r.target=s),a&&(r.rel=a),d&&Object.assign(r,d),{tagName:o,attributes:r,content:i,eventListeners:u}}};let tx=tH("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),tL=tH("text"),tE=tH("nl"),tR=tH("url",{isLink:!0,toHref(t=tA.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){let t=this.tk;return t.length>=2&&t[0].t!==C&&t[1].t===Q}}),t$=t=>new c(t);function tO(t,e,n){let o=n[0].s,i=n[n.length-1].e;return new t(e.slice(o,i),n)}let tN="undefined"!=typeof console&&console&&console.warn||(()=>{}),tI={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function tD(t,e=!1){if(tI.initialized&&tN(`linkifyjs: already initialized - will not register custom scheme "${t}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);tI.customSchemes.push([t,e])}function tz(t){return tI.initialized||function(){tI.scanner=function(t=[]){let e={};c.groups=e;let n=new c;null==ty&&(ty=tC("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==tw&&(tw=tC("ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2")),b(n,"'",_),b(n,"{",T),b(n,"}",H),b(n,"[",x),b(n,"]",L),b(n,"(",E),b(n,")",R),b(n,"<",$),b(n,">",O),b(n,"（",N),b(n,"）",I),b(n,"「",D),b(n,"」",z),b(n,"『",P),b(n,"』",B),b(n,"＜",j),b(n,"＞",U),b(n,"&",W),b(n,"*",K),b(n,"@","AT"),b(n,"`",q),b(n,"^",V),b(n,":",Q),b(n,",",Y),b(n,"$",G),b(n,".","DOT"),b(n,"=",X),b(n,"!",Z),b(n,"-",J),b(n,"%",tt),b(n,"|",te),b(n,"+",tn),b(n,"#",to),b(n,"?",ti),b(n,'"',tr),b(n,"/",ta),b(n,";",ts),b(n,"~",td),b(n,"_",tu),b(n,"\\",F),b(n,"・",tl);let o=m(n,tg,"NUM",{[i]:!0});m(o,tg,o);let f=m(o,tc,v,{[s]:!0}),tv=m(o,tf,k,{[a]:!0}),tA=m(n,tc,y,{[r]:!0});m(tA,tg,f),m(tA,tc,tA),m(f,tg,f),m(f,tc,f);let tM=m(n,tf,w,{[l]:!0});m(tM,tc),m(tM,tg,tv),m(tM,tf,tM),m(tv,tg,tv),m(tv,tc),m(tv,tf,tv);let tS=b(n,"\n","NL",{[h]:!0}),tT=b(n,"\r","WS",{[h]:!0}),tH=m(n,tb,"WS",{[h]:!0});b(n,"￼",tH),b(tT,"\n",tS),b(tT,"￼",tH),m(tT,tb,tH),b(tH,"\r"),b(tH,"\n"),m(tH,tb,tH),b(tH,"￼",tH);let tx=m(n,tm,th,{[u]:!0});b(tx,"#"),m(tx,tm,tx),b(tx,"️",tx);let tL=b(tx,"‍");b(tL,"#"),m(tL,tm,tx);let tE=[[tc,tA],[tg,f]],tR=[[tc,null],[tf,tM],[tg,tv]];for(let t=0;t<ty.length;t++)tk(n,ty[t],"TLD",y,tE);for(let t=0;t<tw.length;t++)tk(n,tw[t],A,w,tR);p("TLD",{tld:!0,ascii:!0},e),p(A,{utld:!0,alpha:!0},e),tk(n,"file",M,y,tE),tk(n,"mailto",M,y,tE),tk(n,"http",S,y,tE),tk(n,"https",S,y,tE),tk(n,"ftp",S,y,tE),tk(n,"ftps",S,y,tE),p(M,{scheme:!0,ascii:!0},e),p(S,{slashscheme:!0,ascii:!0},e),t=t.sort((t,e)=>t[0]>e[0]?1:-1);for(let e=0;e<t.length;e++){let o=t[e][0],l=t[e][1]?{scheme:!0}:{slashscheme:!0};o.indexOf("-")>=0?l[d]=!0:tc.test(o)?tg.test(o)?l[s]=!0:l[r]=!0:l[i]=!0,g(n,o,o,l)}return g(n,"localhost",C,{ascii:!0}),n.jd=new c("SYM"),{start:n,tokens:Object.assign({groups:e},tp)}}(tI.customSchemes);for(let t=0;t<tI.tokenQueue.length;t++)tI.tokenQueue[t][1]({scanner:tI.scanner});tI.parser=function({groups:t}){let e=t.domain.concat([W,K,"AT",F,q,V,G,X,J,"NUM",tt,te,tn,to,ta,"SYM",td,tu]),n=[_,Q,Y,"DOT",Z,tt,ti,tr,ts,$,O,T,H,L,x,E,R,N,I,D,z,P,B,j,U],o=[W,_,K,F,q,V,G,X,J,T,H,tt,te,tn,to,ti,ta,"SYM",td,tu],i=t$(),r=b(i,td);f(r,o,r),f(r,t.domain,r);let l=t$(),s=t$(),a=t$();f(i,t.domain,l),f(i,t.scheme,s),f(i,t.slashscheme,a),f(l,o,r),f(l,t.domain,l);let d=b(l,"AT");b(r,"AT",d),b(s,"AT",d),b(a,"AT",d);let u=b(r,"DOT");f(u,o,r),f(u,t.domain,r);let h=t$();f(d,t.domain,h),f(h,t.domain,h);let p=b(h,"DOT");f(p,t.domain,h);let c=t$(tx);f(p,t.tld,c),f(p,t.utld,c),b(d,C,c);let m=b(h,J);b(m,J,m),f(m,t.domain,h),f(c,t.domain,h),b(c,"DOT",p),b(c,J,m),f(b(c,Q),t.numeric,tx);let g=b(l,J),y=b(l,"DOT");b(g,J,g),f(g,t.domain,l),f(y,o,r),f(y,t.domain,l);let w=t$(tR);f(y,t.tld,w),f(y,t.utld,w),f(w,t.domain,l),f(w,o,r),b(w,"DOT",y),b(w,J,g),b(w,"AT",d);let v=b(w,Q),k=t$(tR);f(v,t.numeric,k);let A=t$(tR),M=t$();f(A,e,A),f(A,n,M),f(M,e,A),f(M,n,M),b(w,ta,A),b(k,ta,A);let S=b(s,Q),tl=b(a,Q),th=b(tl,ta),tc=b(th,ta);f(s,t.domain,l),b(s,"DOT",y),b(s,J,g),f(a,t.domain,l),b(a,"DOT",y),b(a,J,g),f(S,t.domain,A),b(S,ta,A),b(S,ti,A),f(tc,t.domain,A),f(tc,e,A),b(tc,ta,A);let tf=[[T,H],[x,L],[E,R],[$,O],[N,I],[D,z],[P,B],[j,U]];for(let t=0;t<tf.length;t++){let[o,i]=tf[t],r=b(A,o);b(M,o,r),b(r,i,A);let l=t$(tR);f(r,e,l);let s=t$();f(r,n),f(l,e,l),f(l,n,s),f(s,e,l),f(s,n,s),b(l,i,A),b(s,i,A)}return b(i,C,w),b(i,"NL",tE),{start:i,tokens:tp}}(tI.scanner.tokens);for(let t=0;t<tI.pluginQueue.length;t++)tI.pluginQueue[t][1]({scanner:tI.scanner,parser:tI.parser});tI.initialized=!0}(),function(t,e,n){let o=n.length,i=0,r=[],l=[];for(;i<o;){let s=t,a=null,d=null,u=0,h=null,p=-1;for(;i<o&&!(a=s.go(n[i].t));)l.push(n[i++]);for(;i<o&&(d=a||s.go(n[i].t));)a=null,(s=d).accepts()?(p=0,h=s):p>=0&&p++,i++,u++;if(p<0)(i-=u)<o&&(l.push(n[i]),i++);else{l.length>0&&(r.push(tO(tL,e,l)),l=[]),i-=p,u-=p;let t=h.t,o=n.slice(i-u,i);r.push(tO(t,e,o))}}return l.length>0&&r.push(tO(tL,e,l)),r}(tI.parser.start,t,tv(tI.scanner.start,t))}function tP(t,e=null,n=null){if(e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}let o=new tM(n),i=tz(t),r=[];for(let t=0;t<i.length;t++){let n=i[t];n.isLink&&(!e||n.t===e)&&o.check(n)&&r.push(n.toFormattedObject(o))}return r}tz.scan=tv;var tB=n(28030),tj="[\0- \xa0 ᠎ -\u2029 　]",tU=new RegExp(tj),tW=RegExp(`${tj}$`),t_=RegExp(tj,"g");function tK(t,e){let n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(t=>{let e="string"==typeof t?t:t.scheme;e&&n.push(e)}),!t||t.replace(t_,"").match(RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var tF=o.vc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if("string"==typeof t){tD(t);return}tD(t.scheme,t.optionalSlashes)})},onDestroy(){c.groups={},tI.scanner=null,tI.parser=null,tI.tokenQueue=[],tI.pluginQueue=[],tI.customSchemes=[],tI.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!tK(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}),addAttributes(){return{href:{default:null,parseHTML:t=>t.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{let e=t.getAttribute("href");return!!(e&&this.options.isAllowedUri(e,{defaultValidate:t=>!!tK(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:t=>!!tK(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",(0,o.P1)(this.options.HTMLAttributes,t),0]:["a",(0,o.P1)(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;let o=(null==(n=t.attrs)?void 0:n.href)||"",i=e.renderChildren(t);return`[${i}](${o})`},addCommands(){return{setLink:t=>({chain:e})=>{let{href:n}=t;return!!this.options.isAllowedUri(n,{defaultValidate:t=>!!tK(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&e().setMark(this.name,t).setMeta("preventAutolink",!0).run()},toggleLink:t=>({chain:e})=>{let{href:n}=t||{};return(!n||!!this.options.isAllowedUri(n,{defaultValidate:t=>!!tK(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,o.K9)({find:t=>{let e=[];if(t){let{protocols:n,defaultProtocol:o}=this.options,i=tP(t).filter(t=>t.isLink&&this.options.isAllowedUri(t.value,{defaultValidate:t=>!!tK(t,n),protocols:n,defaultProtocol:o}));i.length&&i.forEach(t=>{this.options.shouldAutoLink(t.value)&&e.push({text:t.value,data:{href:t.href},index:t.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:null==(e=t.data)?void 0:e.href}}})]},addProseMirrorPlugins(){var t,e,n;let i=[],{protocols:r,defaultProtocol:l}=this.options;return this.options.autolink&&i.push((t={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:t=>this.options.isAllowedUri(t,{defaultValidate:t=>!!tK(t,r),protocols:r,defaultProtocol:l}),shouldAutoLink:this.options.shouldAutoLink},new tB.Sy({key:new tB.H$("autolink"),appendTransaction:(e,n,i)=>{let r=e.some(t=>t.docChanged)&&!n.doc.eq(i.doc),l=e.some(t=>t.getMeta("preventAutolink"));if(!r||l)return;let{tr:s}=i,a=(0,o.XP)(n.doc,[...e]);if((0,o.QC)(a).forEach(({newRange:e})=>{let n,r;let l=(0,o.b5)(i.doc,e,t=>t.isTextblock);if(l.length>1)n=l[0],r=i.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ");else if(l.length){let t=i.doc.textBetween(e.from,e.to," "," ");if(!tW.test(t))return;n=l[0],r=i.doc.textBetween(n.pos,e.to,void 0," ")}if(n&&r){let e=r.split(tU).filter(Boolean);if(e.length<=0)return!1;let l=e[e.length-1],a=n.pos+r.lastIndexOf(l);if(!l)return!1;let d=tz(l).map(e=>e.toObject(t.defaultProtocol));if(!(1===d.length?d[0].isLink:3===d.length&&!!d[1].isLink&&["()","[]"].includes(d[0].value+d[2].value)))return!1;d.filter(t=>t.isLink).map(t=>({...t,from:a+t.start+1,to:a+t.end+1})).filter(t=>!i.schema.marks.code||!i.doc.rangeHasMark(t.from,t.to,i.schema.marks.code)).filter(e=>t.validate(e.value)).filter(e=>t.shouldAutoLink(e.value)).forEach(e=>{(0,o.tI)(e.from,e.to,i.doc).some(e=>e.mark.type===t.type)||s.addMark(e.from,e.to,t.type.create({href:e.href}))})}}),s.steps.length)return s}}))),!0===this.options.openOnClick&&i.push((e={type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection},new tB.Sy({key:new tB.H$("handleClickLink"),props:{handleClick:(t,n,i)=>{var r,l;if(0!==i.button||!t.editable)return!1;let s=null;if(i.target instanceof HTMLAnchorElement)s=i.target;else{let t=i.target,e=[];for(;"DIV"!==t.nodeName;)e.push(t),t=t.parentNode;s=e.find(t=>"A"===t.nodeName)}if(!s)return!1;let a=(0,o.u9)(t.state,e.type.name),d=null!=(r=null==s?void 0:s.href)?r:a.href,u=null!=(l=null==s?void 0:s.target)?l:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!!s&&!!d&&(window.open(d,u),!0)}}}))),this.options.linkOnPaste&&i.push((n={editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink},new tB.Sy({key:new tB.H$("handlePasteLink"),props:{handlePaste:(t,e,o)=>{let{shouldAutoLink:i}=n,{state:r}=t,{selection:l}=r,{empty:s}=l;if(s)return!1;let a="";o.content.forEach(t=>{a+=t.textContent});let d=tP(a,{defaultProtocol:n.defaultProtocol}).find(t=>t.isLink&&t.value===a);return!!(a&&d&&(void 0===i||i(d.href)))&&n.editor.commands.setMark(n.type,{href:d.href})}}}))),i}}),tq=tF},55946:function(t,e,n){n.d(e,{Re:function(){return l},ZP:function(){return s}});var o=n(85587),i=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,r=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,l=o.vc.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,o.P1)(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,o.Cf)({find:i,type:this.type})]},addPasteRules(){return[(0,o.K9)({find:r,type:this.type})]}}),s=l},60836:function(t,e,n){n.d(e,{SC:function(){return a},bZ:function(){return g},iA:function(){return m},pj:function(){return l},xD:function(){return s}});var o=n(85587),i=n(28030),r=n(86879),l=o.NB.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;let o=t.getAttribute("colwidth"),i=o?o.split(",").map(t=>parseInt(t,10)):null;if(!i){let o=null==(e=t.closest("table"))?void 0:e.querySelectorAll("colgroup > col"),i=Array.from((null==(n=t.parentElement)?void 0:n.children)||[]).indexOf(t);if(i&&i>-1&&o&&o[i]){let t=o[i].getAttribute("width");return t?[parseInt(t,10)]:null}}return i}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:t}){return["td",(0,o.P1)(this.options.HTMLAttributes,t),0]}}),s=o.NB.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{let e=t.getAttribute("colwidth");return e?e.split(",").map(t=>parseInt(t,10)):null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:t}){return["th",(0,o.P1)(this.options.HTMLAttributes,t),0]}}),a=o.NB.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:t}){return["tr",(0,o.P1)(this.options.HTMLAttributes,t),0]}});function d(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function u(t,e,n,o,i,r){var l;let s=0,a=!0,u=e.firstChild,h=t.firstChild;if(null!==h)for(let t=0,n=0;t<h.childCount;t+=1){let{colspan:l,colwidth:p}=h.child(t).attrs;for(let t=0;t<l;t+=1,n+=1){let l=i===n?r:p&&p[t],h=l?`${l}px`:"";if(s+=l||o,l||(a=!1),u){if(u.style.width!==h){let[t,e]=d(o,l);u.style.setProperty(t,e)}u=u.nextSibling}else{let t=document.createElement("col"),[n,i]=d(o,l);t.style.setProperty(n,i),e.appendChild(t)}}}for(;u;){let t=u.nextSibling;null==(l=u.parentNode)||l.removeChild(u),u=t}let p=t.attrs.style&&"string"==typeof t.attrs.style&&/\bwidth\s*:/i.test(t.attrs.style);a&&!p?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}var h=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),u(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type===this.node.type&&(this.node=t,u(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){let e=t.target,n=this.dom.contains(e),o=this.contentDOM.contains(e);return!!n&&!o&&("attributes"===t.type||"childList"===t.type||"characterData"===t.type)}};function p(t,e){return e?t.createChecked(null,e):t.createAndFill()}var c=({editor:t})=>{let{selection:e}=t.state;if(!(e instanceof r.Xc))return!1;let n=0,i=(0,o.qv)(e.ranges[0].$from,t=>"table"===t.type.name);return null==i||i.node.descendants(t=>{if("table"===t.type.name)return!1;["tableCell","tableHeader"].includes(t.type.name)&&(n+=1)}),n===e.ranges.length&&(t.commands.deleteTable(),!0)},f=function(t,e,n={}){var o;let i=null!=(o=n.cellLineSeparator)?o:"\x1f";if(!t||!t.content||0===t.content.length)return"";let r=[];t.content.forEach(t=>{let n=[];t.content&&t.content.forEach(t=>{let o=((t.content&&Array.isArray(t.content)&&t.content.length>1?t.content.map(t=>e.renderChildren(t)).join(i):t.content?e.renderChildren(t.content):"")||"").replace(/\s+/g," ").trim(),r="tableHeader"===t.type;n.push({text:o,isHeader:r})}),r.push(n)});let l=r.reduce((t,e)=>Math.max(t,e.length),0);if(0===l)return"";let s=Array(l).fill(0);r.forEach(t=>{var e;for(let n=0;n<l;n+=1){let o=((null==(e=t[n])?void 0:e.text)||"").length;o>s[n]&&(s[n]=o),s[n]<3&&(s[n]=3)}});let a=(t,e)=>t+" ".repeat(Math.max(0,e-t.length)),d=r[0],u=d.some(t=>t.isHeader),h="\n",p=Array(l).fill(0).map((t,e)=>u&&d[e]&&d[e].text||"");return h+=`| ${p.map((t,e)=>a(t,s[e])).join(" | ")} |
| ${s.map(t=>"-".repeat(Math.max(3,t))).join(" | ")} |
`,(u?r.slice(1):r).forEach(t=>{h+=`| ${Array(l).fill(0).map((e,n)=>a(t[n]&&t[n].text||"",s[n])).join(" | ")} |
`}),h},m=o.NB.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:h,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({node:t,HTMLAttributes:e}){let{colgroup:n,tableWidth:i,tableMinWidth:r}=function(t,e,n,o){let i=0,r=!0,l=[],s=t.firstChild;if(!s)return{};for(let t=0,n=0;t<s.childCount;t+=1){let{colspan:o,colwidth:a}=s.child(t).attrs;for(let t=0;t<o;t+=1,n+=1){let o=void 0===n?void 0:a&&a[t];i+=o||e,o||(r=!1);let[s,u]=d(e,o);l.push(["col",{style:`${s}: ${u}`}])}}return{colgroup:["colgroup",{},...l],tableWidth:r?`${i}px`:"",tableMinWidth:r?"":`${i}px`}}(t,this.options.cellMinWidth),l=e.style,s=["table",(0,o.P1)(this.options.HTMLAttributes,e,{style:l||(i?`width: ${i}`:`min-width: ${r}`)}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},s]:s},parseMarkdown:(t,e)=>{let n=[];if(t.header){let o=[];t.header.forEach(t=>{o.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(t.tokens)}]))}),n.push(e.createNode("tableRow",{},o))}return t.rows&&t.rows.forEach(t=>{let o=[];t.forEach(t=>{o.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(t.tokens)}]))}),n.push(e.createNode("tableRow",{},o))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>f(t,e),addCommands:()=>({insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:o,dispatch:r,editor:l})=>{let s=function(t,e,n,o,i){let r=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;let e={};return Object.keys(t.nodes).forEach(n=>{let o=t.nodes[n];o.spec.tableRole&&(e[o.spec.tableRole]=o)}),t.cached.tableNodeTypes=e,e}(t),l=[],s=[];for(let t=0;t<n;t+=1){let t=p(r.cell,void 0);if(t&&s.push(t),o){let t=p(r.header_cell,void 0);t&&l.push(t)}}let a=[];for(let t=0;t<e;t+=1)a.push(r.row.createChecked(null,o&&0===t?l:s));return r.table.createChecked(null,a)}(l.schema,t,e,n);if(r){let t=o.selection.from+1;o.replaceSelectionWith(s).scrollIntoView().setSelection(i.Bs.near(o.doc.resolve(t)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>(0,r.I_)(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>(0,r.e2)(t,e),deleteColumn:()=>({state:t,dispatch:e})=>(0,r.eA)(t,e),addRowBefore:()=>({state:t,dispatch:e})=>(0,r.z2)(t,e),addRowAfter:()=>({state:t,dispatch:e})=>(0,r.dl)(t,e),deleteRow:()=>({state:t,dispatch:e})=>(0,r.qK)(t,e),deleteTable:()=>({state:t,dispatch:e})=>(0,r.WQ)(t,e),mergeCells:()=>({state:t,dispatch:e})=>(0,r.JX)(t,e),splitCell:()=>({state:t,dispatch:e})=>(0,r.Cr)(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>(0,r.dO)("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>(0,r.dO)("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>(0,r.II)(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>!!(0,r.JX)(t,e)||(0,r.Cr)(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:o})=>(0,r.wb)(t,e)(n,o),goToNextCell:()=>({state:t,dispatch:e})=>(0,r.nA)(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>(0,r.nA)(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&(0,r.tp)(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){let n=r.Xc.create(e.doc,t.anchorCell,t.headCell);e.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:c,"Mod-Backspace":c,Delete:c,"Mod-Delete":c}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[(0,r.VH)({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],(0,r.G3)({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){let e={name:t.name,options:t.options,storage:t.storage};return{tableRole:(0,o.nU)((0,o.Nl)(t,"tableRole",e))}}}),g=o.hj.create({name:"tableKit",addExtensions(){let t=[];return!1!==this.options.table&&t.push(m.configure(this.options.table)),!1!==this.options.tableCell&&t.push(l.configure(this.options.tableCell)),!1!==this.options.tableHeader&&t.push(s.configure(this.options.tableHeader)),!1!==this.options.tableRow&&t.push(a.configure(this.options.tableRow)),t}})},81822:function(t,e,n){n.d(e,{Z:function(){return o}});var o=n(85587).hj.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{let e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>!!this.options.alignments.includes(t)&&this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(t=>t),unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(t=>t),toggleTextAlign:t=>({editor:e,commands:n})=>!!this.options.alignments.includes(t)&&(e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}})},36942:function(t,e,n){n.d(e,{Tb:function(){return p}});var o=n(85587),i=(t,e=0)=>{let n=[];return!t.children.length||e>20||Array.from(t.children).forEach(t=>{"SPAN"===t.tagName?n.push(t):t.children.length&&n.push(...i(t,e+1))}),n},r=t=>{if(!t.children.length)return;let e=i(t);e&&e.forEach(t=>{var e,n;let o=t.getAttribute("style"),i=null==(n=null==(e=t.parentElement)?void 0:e.closest("span"))?void 0:n.getAttribute("style");t.setAttribute("style",`${i};${o}`)})},l=o.vc.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>!!t.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&r(t),{})}]},renderHTML({HTMLAttributes:t}){return["span",(0,o.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{let{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(e,n)=>{if(e.isTextblock)return!0;e.marks.filter(t=>t.type===this.type).some(t=>Object.values(t.attrs).some(t=>!!t))||t.removeMark(n,n+e.nodeSize,this.type)}),!0}}}}),s=o.hj.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;let n=t.getAttribute("style");if(n){let t=n.split(";").map(t=>t.trim()).filter(Boolean);for(let e=t.length-1;e>=0;e-=1){let n=t[e].split(":");if(n.length>=2){let t=n[0].trim().toLowerCase(),e=n.slice(1).join(":").trim();if("background-color"===t)return e.replace(/['"]+/g,"")}}}return null==(e=t.style.backgroundColor)?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),a=o.hj.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;let n=t.getAttribute("style");if(n){let t=n.split(";").map(t=>t.trim()).filter(Boolean);for(let e=t.length-1;e>=0;e-=1){let n=t[e].split(":");if(n.length>=2){let t=n[0].trim().toLowerCase(),e=n.slice(1).join(":").trim();if("color"===t)return e.replace(/['"]+/g,"")}}}return null==(e=t.style.color)?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands:()=>({setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),d=o.hj.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})}),u=o.hj.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),h=o.hj.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands:()=>({setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()})}),p=o.hj.create({name:"textStyleKit",addExtensions(){let t=[];return!1!==this.options.backgroundColor&&t.push(s.configure(this.options.backgroundColor)),!1!==this.options.color&&t.push(a.configure(this.options.color)),!1!==this.options.fontFamily&&t.push(d.configure(this.options.fontFamily)),!1!==this.options.fontSize&&t.push(u.configure(this.options.fontSize)),!1!==this.options.lineHeight&&t.push(h.configure(this.options.lineHeight)),!1!==this.options.textStyle&&t.push(l.configure(this.options.textStyle)),t}})},20857:function(t,e,n){n.d(e,{ZP:function(){return T}});var o=n(85587),i=t=>(0,o.DS)({find:/--$/,replace:null!=t?t:"—"}),r=t=>(0,o.DS)({find:/\.\.\.$/,replace:null!=t?t:"…"}),l=t=>(0,o.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:null!=t?t:"“"}),s=t=>(0,o.DS)({find:/"$/,replace:null!=t?t:"”"}),a=t=>(0,o.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:null!=t?t:"‘"}),d=t=>(0,o.DS)({find:/'$/,replace:null!=t?t:"’"}),u=t=>(0,o.DS)({find:/<-$/,replace:null!=t?t:"←"}),h=t=>(0,o.DS)({find:/->$/,replace:null!=t?t:"→"}),p=t=>(0,o.DS)({find:/\(c\)$/,replace:null!=t?t:"\xa9"}),c=t=>(0,o.DS)({find:/\(tm\)$/,replace:null!=t?t:"™"}),f=t=>(0,o.DS)({find:/\(sm\)$/,replace:null!=t?t:"℠"}),m=t=>(0,o.DS)({find:/\(r\)$/,replace:null!=t?t:"\xae"}),g=t=>(0,o.DS)({find:/(?:^|\s)(1\/2)\s$/,replace:null!=t?t:"\xbd"}),b=t=>(0,o.DS)({find:/\+\/-$/,replace:null!=t?t:"\xb1"}),y=t=>(0,o.DS)({find:/!=$/,replace:null!=t?t:"≠"}),w=t=>(0,o.DS)({find:/<<$/,replace:null!=t?t:"\xab"}),v=t=>(0,o.DS)({find:/>>$/,replace:null!=t?t:"\xbb"}),k=t=>(0,o.DS)({find:/\d+\s?([*x])\s?\d+$/,replace:null!=t?t:"\xd7"}),C=t=>(0,o.DS)({find:/\^2$/,replace:null!=t?t:"\xb2"}),A=t=>(0,o.DS)({find:/\^3$/,replace:null!=t?t:"\xb3"}),M=t=>(0,o.DS)({find:/(?:^|\s)(1\/4)\s$/,replace:null!=t?t:"\xbc"}),S=t=>(0,o.DS)({find:/(?:^|\s)(3\/4)\s$/,replace:null!=t?t:"\xbe"}),T=o.hj.create({name:"typography",addOptions:()=>({closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"\xa9",ellipsis:"…",emDash:"—",laquo:"\xab",leftArrow:"←",multiplication:"\xd7",notEqual:"≠",oneHalf:"\xbd",oneQuarter:"\xbc",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"\xb1",raquo:"\xbb",registeredTrademark:"\xae",rightArrow:"→",servicemark:"℠",superscriptThree:"\xb3",superscriptTwo:"\xb2",threeQuarters:"\xbe",trademark:"™"}),addInputRules(){let t=[];return!1!==this.options.emDash&&t.push(i(this.options.emDash)),!1!==this.options.ellipsis&&t.push(r(this.options.ellipsis)),!1!==this.options.openDoubleQuote&&t.push(l(this.options.openDoubleQuote)),!1!==this.options.closeDoubleQuote&&t.push(s(this.options.closeDoubleQuote)),!1!==this.options.openSingleQuote&&t.push(a(this.options.openSingleQuote)),!1!==this.options.closeSingleQuote&&t.push(d(this.options.closeSingleQuote)),!1!==this.options.leftArrow&&t.push(u(this.options.leftArrow)),!1!==this.options.rightArrow&&t.push(h(this.options.rightArrow)),!1!==this.options.copyright&&t.push(p(this.options.copyright)),!1!==this.options.trademark&&t.push(c(this.options.trademark)),!1!==this.options.servicemark&&t.push(f(this.options.servicemark)),!1!==this.options.registeredTrademark&&t.push(m(this.options.registeredTrademark)),!1!==this.options.oneHalf&&t.push(g(this.options.oneHalf)),!1!==this.options.plusMinus&&t.push(b(this.options.plusMinus)),!1!==this.options.notEqual&&t.push(y(this.options.notEqual)),!1!==this.options.laquo&&t.push(w(this.options.laquo)),!1!==this.options.raquo&&t.push(v(this.options.raquo)),!1!==this.options.multiplication&&t.push(k(this.options.multiplication)),!1!==this.options.superscriptTwo&&t.push(C(this.options.superscriptTwo)),!1!==this.options.superscriptThree&&t.push(A(this.options.superscriptThree)),!1!==this.options.oneQuarter&&t.push(M(this.options.oneQuarter)),!1!==this.options.threeQuarters&&t.push(S(this.options.threeQuarters)),t}})},33258:function(t,e,n){n.d(e,{Z:function(){return r},v:function(){return i}});var o=n(85587),i=o.vc.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("underline")&&{}}],renderHTML({HTMLAttributes:t}){return["u",(0,o.P1)(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown:(t,e)=>`++${e.renderChildren(t)}++`,markdownTokenizer:{name:"underline",level:"inline",start:t=>t.indexOf("++"),tokenize(t,e,n){let o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;let i=o[2].trim();return{type:"underline",raw:o[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),r=i},86879:function(t,e,n){n.d(e,{Xc:function(){return k},e2:function(){return L},I_:function(){return x},dl:function(){return O},z2:function(){return $},VH:function(){return ta},eA:function(){return E},qK:function(){return N},WQ:function(){return _},tp:function(){return S},nA:function(){return W},JX:function(){return D},wb:function(){return P},Cr:function(){return z},G3:function(){return tf},dO:function(){return j},II:function(){return U}});var o,i,r=n(28030),l=n(92337),s=n(54267),a=n(83709),d=n(3735);if("undefined"!=typeof WeakMap){let t=new WeakMap;o=e=>t.get(e),i=(e,n)=>(t.set(e,n),n)}else{let t=[],e=0;o=e=>{for(let n=0;n<t.length;n+=2)if(t[n]==e)return t[n+1]},i=(n,o)=>(10==e&&(e=0),t[e++]=n,t[e++]=o)}var u=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){let n=this.map[e];if(n!=t)continue;let o=e%this.width,i=e/this.width|0,r=o+1,l=i+1;for(let t=1;r<this.width&&this.map[e+t]==n;t++)r++;for(let t=1;l<this.height&&this.map[e+this.width*t]==n;t++)l++;return{left:o,top:i,right:r,bottom:l}}throw RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){let{left:o,right:i,top:r,bottom:l}=this.findCell(t);return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[r*this.width+(n<0?o-1:i)]:(n<0?0==r:l==this.height)?null:this.map[o+this.width*(n<0?r-1:l)]}rectBetween(t,e){let{left:n,right:o,top:i,bottom:r}=this.findCell(t),{left:l,right:s,top:a,bottom:d}=this.findCell(e);return{left:Math.min(n,l),top:Math.min(i,a),right:Math.max(o,s),bottom:Math.max(r,d)}}cellsInRect(t){let e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let i=t.left;i<t.right;i++){let r=o*this.width+i,l=this.map[r];if(!n[l]){if(n[l]=!0,i==t.left&&i&&this.map[r-1]==l||o==t.top&&o&&this.map[r-this.width]==l)continue;e.push(l)}}return e}positionAt(t,e,n){for(let o=0,i=0;;o++){let r=i+n.child(o).nodeSize;if(o==t){let n=e+t*this.width,o=(t+1)*this.width;for(;n<o&&this.map[n]<i;)n++;return n==o?r-1:this.map[n]}i=r}}static get(t){return o(t)||i(t,function(t){if("table"!=t.type.spec.tableRole)throw RangeError("Not a table node: "+t.type.name);let e=function(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){let i=t.child(o),r=0;if(n)for(let e=0;e<o;e++){let n=t.child(e);for(let t=0;t<n.childCount;t++){let i=n.child(t);e+i.attrs.rowspan>o&&(r+=i.attrs.colspan)}}for(let t=0;t<i.childCount;t++){let e=i.child(t);r+=e.attrs.colspan,e.attrs.rowspan>1&&(n=!0)}-1==e?e=r:e!=r&&(e=Math.max(e,r))}return e}(t),n=t.childCount,o=[],i=0,r=null,l=[];for(let t=0,i=e*n;t<i;t++)o[t]=0;for(let s=0,a=0;s<n;s++){let d=t.child(s);a++;for(let t=0;;t++){for(;i<o.length&&0!=o[i];)i++;if(t==d.childCount)break;let u=d.child(t),{colspan:h,rowspan:p,colwidth:c}=u.attrs;for(let t=0;t<p;t++){if(t+s>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:a,n:p-t});break}let d=i+t*e;for(let t=0;t<h;t++){0==o[d+t]?o[d+t]=a:(r||(r=[])).push({type:"collision",row:s,pos:a,n:h-t});let n=c&&c[t];if(n){let o=(d+t)%e*2,i=l[o];null==i||i!=n&&1==l[o+1]?(l[o]=n,l[o+1]=1):i==n&&l[o+1]++}}}i+=h,a+=u.nodeSize}let u=(s+1)*e,h=0;for(;i<u;)0==o[i++]&&h++;h&&(r||(r=[])).push({type:"missing",row:s,n:h}),a++}(0===e||0===n)&&(r||(r=[])).push({type:"zero_sized"});let s=new u(e,n,o,r),a=!1;for(let t=0;!a&&t<l.length;t+=2)null!=l[t]&&l[t+1]<n&&(a=!0);return a&&function(t,e,n){t.problems||(t.problems=[]);let o={};for(let i=0;i<t.map.length;i++){let r=t.map[i];if(o[r])continue;o[r]=!0;let l=n.nodeAt(r);if(!l)throw RangeError(`No cell with offset ${r} found`);let s=null,a=l.attrs;for(let n=0;n<a.colspan;n++){let o=e[(i+n)%t.width*2];null==o||a.colwidth&&a.colwidth[n]==o||((s||(s=function(t){if(t.colwidth)return t.colwidth.slice();let e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}(a)))[n]=o)}s&&t.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:s})}}(s,l,t),s}(t))}};function h(t){let e=t.cached.tableNodeTypes;if(!e)for(let n in e=t.cached.tableNodeTypes={},t.nodes){let o=t.nodes[n],i=o.spec.tableRole;i&&(e[i]=o)}return e}var p=new r.H$("selectingCells");function c(t){for(let e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function f(t){let e=t.selection.$head;for(let t=e.depth;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return!0;return!1}function m(t){let e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&"cell"==e.node.type.spec.tableRole)return e.$anchor;let n=c(e.$head)||function(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){let o=e.type.spec.tableRole;if("cell"==o||"header_cell"==o)return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){let o=e.type.spec.tableRole;if("cell"==o||"header_cell"==o)return t.doc.resolve(n-e.nodeSize)}}(e.$head);if(n)return n;throw RangeError(`No cell found around position ${e.head}`)}function g(t){return"row"==t.parent.type.spec.tableRole&&!!t.nodeAfter}function b(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function y(t,e,n){let o=t.node(-1),i=u.get(o),r=t.start(-1),l=i.nextCell(t.pos-r,e,n);return null==l?null:t.node(0).resolve(r+l)}function w(t,e,n=1){let o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(t=>t>0)||(o.colwidth=null)),o}function v(t,e,n=1){let o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let t=0;t<n;t++)o.colwidth.splice(e,0,0)}return o}var k=class t extends r.Y1{constructor(t,e=t){let n=t.node(-1),o=u.get(n),i=t.start(-1),l=o.rectBetween(t.pos-i,e.pos-i),s=t.node(0),a=o.cellsInRect(l).filter(t=>t!=e.pos-i);a.unshift(e.pos-i);let d=a.map(t=>{let e=n.nodeAt(t);if(!e)throw RangeError(`No cell with offset ${t} found`);let o=i+t+1;return new r.xm(s.resolve(o),s.resolve(o+e.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=t,this.$headCell=e}map(e,n){let o=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(g(o)&&g(i)&&b(o,i)){let e=this.$anchorCell.node(-1)!=o.node(-1);return e&&this.isRowSelection()?t.rowSelection(o,i):e&&this.isColSelection()?t.colSelection(o,i):new t(o,i)}return r.Bs.between(o,i)}content(){let t=this.$anchorCell.node(-1),e=u.get(t),n=this.$anchorCell.start(-1),o=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},r=[];for(let n=o.top;n<o.bottom;n++){let s=[];for(let r=n*e.width+o.left,l=o.left;l<o.right;l++,r++){let n=e.map[r];if(i[n])continue;i[n]=!0;let l=e.findCell(n),a=t.nodeAt(n);if(!a)throw RangeError(`No cell with offset ${n} found`);let d=o.left-l.left,u=l.right-o.right;if(d>0||u>0){let t=a.attrs;if(d>0&&(t=w(t,0,d)),u>0&&(t=w(t,t.colspan-u,u)),l.left<o.left){if(!(a=a.type.createAndFill(t)))throw RangeError(`Could not create cell with attrs ${JSON.stringify(t)}`)}else a=a.type.create(t,a.content)}if(l.top<o.top||l.bottom>o.bottom){let t={...a.attrs,rowspan:Math.min(l.bottom,o.bottom)-Math.max(l.top,o.top)};a=l.top<o.top?a.type.createAndFill(t):a.type.create(t,a.content)}s.push(a)}r.push(t.child(n).copy(l.HY.from(s)))}let s=this.isColSelection()&&this.isRowSelection()?t:r;return new l.p2(l.HY.from(s),1,1)}replace(t,e=l.p2.empty){let n=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:r,$to:s}=o[i],a=t.mapping.slice(n);t.replace(a.map(r.pos),a.map(s.pos),i?l.p2.empty:e)}let i=r.Y1.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,e){this.replace(t,new l.p2(l.HY.from(e),0,0))}forEachCell(t){let e=this.$anchorCell.node(-1),n=u.get(e),o=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let n=0;n<i.length;n++)t(e.nodeAt(i[n]),o+i[n])}isColSelection(){let t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);return!(Math.min(t,e)>0)&&Math.max(t+this.$anchorCell.nodeAfter.attrs.rowspan,e+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){let o=e.node(-1),i=u.get(o),r=e.start(-1),l=i.findCell(e.pos-r),s=i.findCell(n.pos-r),a=e.node(0);return l.top<=s.top?(l.top>0&&(e=a.resolve(r+i.map[l.left])),s.bottom<i.height&&(n=a.resolve(r+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(r+i.map[s.left])),l.bottom<i.height&&(e=a.resolve(r+i.map[i.width*(i.height-1)+l.right-1]))),new t(e,n)}isRowSelection(){let t=this.$anchorCell.node(-1),e=u.get(t),n=this.$anchorCell.start(-1),o=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);return!(Math.min(o,i)>0)&&Math.max(o+this.$anchorCell.nodeAfter.attrs.colspan,i+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){let o=e.node(-1),i=u.get(o),r=e.start(-1),l=i.findCell(e.pos-r),s=i.findCell(n.pos-r),a=e.node(0);return l.left<=s.left?(l.left>0&&(e=a.resolve(r+i.map[l.top*i.width])),s.right<i.width&&(n=a.resolve(r+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(r+i.map[s.top*i.width])),l.right<i.width&&(e=a.resolve(r+i.map[i.width*(l.top+1)-1]))),new t(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new t(e.resolve(n),e.resolve(o))}getBookmark(){return new C(this.$anchorCell.pos,this.$headCell.pos)}};k.prototype.visible=!1,r.Y1.jsonID("cell",k);var C=class t{constructor(t,e){this.anchor=t,this.head=e}map(e){return new t(e.map(this.anchor),e.map(this.head))}resolve(t){let e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&b(e,n)?new k(e,n):r.Y1.near(n,1)}};function A(t){if(!(t.selection instanceof k))return null;let e=[];return t.selection.forEachCell((t,n)=>{e.push(s.p.node(n,n+t.nodeSize,{class:"selectedCell"}))}),s.EH.create(t.doc,e)}var M=new r.H$("fix-tables");function S(t,e){let n;let o=(e,o)=>{"table"==e.type.spec.tableRole&&(n=function(t,e,n,o){let i,r;let l=u.get(e);if(!l.problems)return o;o||(o=t.tr);let s=[];for(let t=0;t<l.height;t++)s.push(0);for(let t=0;t<l.problems.length;t++){let i=l.problems[t];if("collision"==i.type){let t=e.nodeAt(i.pos);if(!t)continue;let r=t.attrs;for(let t=0;t<r.rowspan;t++)s[i.row+t]+=i.n;o.setNodeMarkup(o.mapping.map(n+1+i.pos),null,w(r,r.colspan-i.n,i.n))}else if("missing"==i.type)s[i.row]+=i.n;else if("overlong_rowspan"==i.type){let t=e.nodeAt(i.pos);if(!t)continue;o.setNodeMarkup(o.mapping.map(n+1+i.pos),null,{...t.attrs,rowspan:t.attrs.rowspan-i.n})}else if("colwidth mismatch"==i.type){let t=e.nodeAt(i.pos);if(!t)continue;o.setNodeMarkup(o.mapping.map(n+1+i.pos),null,{...t.attrs,colwidth:i.colwidth})}else if("zero_sized"==i.type){let t=o.mapping.map(n);o.delete(t,t+e.nodeSize)}}for(let t=0;t<s.length;t++)s[t]&&(null==i&&(i=t),r=t);for(let a=0,d=n+1;a<l.height;a++){let n=e.child(a),l=d+n.nodeSize,u=s[a];if(u>0){let e="cell";n.firstChild&&(e=n.firstChild.type.spec.tableRole);let s=[];for(let n=0;n<u;n++){let n=h(t.schema)[e].createAndFill();n&&s.push(n)}let p=(0==a||i==a-1)&&r==a?d+1:l-1;o.insert(o.mapping.map(p),s)}d=l}return o.setMeta(M,{fixTables:!0})}(t,e,o,n))};return e?e.doc!=t.doc&&function t(e,n,o,i){let r=e.childCount,l=n.childCount;t:for(let s=0,a=0;s<l;s++){let l=n.child(s);for(let t=a,n=Math.min(r,s+3);t<n;t++)if(e.child(t)==l){a=t+1,o+=l.nodeSize;continue t}i(l,o),a<r&&e.child(a).sameMarkup(l)?t(e.child(a),l,o+1,i):l.nodesBetween(0,l.content.size,i,o+1),o+=l.nodeSize}}(e.doc,t.doc,0,o):t.doc.descendants(o),n}function T(t){let e=t.selection,n=m(t),o=n.node(-1),i=n.start(-1),r=u.get(o);return{...e instanceof k?r.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):r.findCell(n.pos-i),tableStart:i,map:r,table:o}}function H(t,{map:e,tableStart:n,table:o},i){let r=i>0?-1:0;(function(t,e,n){let o=h(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=o)return!1;return!0})(e,o,i+r)&&(r=0==i||i==e.width?null:0);for(let l=0;l<e.height;l++){let s=l*e.width+i;if(i>0&&i<e.width&&e.map[s-1]==e.map[s]){let r=e.map[s],a=o.nodeAt(r);t.setNodeMarkup(t.mapping.map(n+r),null,v(a.attrs,i-e.colCount(r))),l+=a.attrs.rowspan-1}else{let a=null==r?h(o.type.schema).cell:o.nodeAt(e.map[s+r]).type,d=e.positionAt(l,i,o);t.insert(t.mapping.map(n+d),a.createAndFill())}}return t}function x(t,e){if(!f(t))return!1;if(e){let n=T(t);e(H(t.tr,n,n.left))}return!0}function L(t,e){if(!f(t))return!1;if(e){let n=T(t);e(H(t.tr,n,n.right))}return!0}function E(t,e){if(!f(t))return!1;if(e){let n=T(t),o=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let t=n.right-1;!function(t,{map:e,table:n,tableStart:o},i){let r=t.mapping.maps.length;for(let l=0;l<e.height;){let s=l*e.width+i,a=e.map[s],d=n.nodeAt(a),u=d.attrs;if(i>0&&e.map[s-1]==a||i<e.width-1&&e.map[s+1]==a)t.setNodeMarkup(t.mapping.slice(r).map(o+a),null,w(u,i-e.colCount(a)));else{let e=t.mapping.slice(r).map(o+a);t.delete(e,e+d.nodeSize)}l+=u.rowspan}}(o,n,t),t!=n.left;t--){let t=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!t)throw RangeError("No table found");n.table=t,n.map=u.get(t)}e(o)}return!0}function R(t,{map:e,tableStart:n,table:o},i){var r;let l=n;for(let t=0;t<i;t++)l+=o.child(t).nodeSize;let s=[],a=i>0?-1:0;(function(t,e,n){var o;let i=h(e.type.schema).header_cell;for(let r=0;r<t.width;r++)if((null==(o=e.nodeAt(t.map[r+n*t.width]))?void 0:o.type)!=i)return!1;return!0})(e,o,i+a)&&(a=0==i||i==e.height?null:0);for(let l=0,d=e.width*i;l<e.width;l++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){let i=e.map[d],r=o.nodeAt(i).attrs;t.setNodeMarkup(n+i,null,{...r,rowspan:r.rowspan+1}),l+=r.colspan-1}else{let t=null==a?h(o.type.schema).cell:null==(r=o.nodeAt(e.map[d+a*e.width]))?void 0:r.type,n=null==t?void 0:t.createAndFill();n&&s.push(n)}return t.insert(l,h(o.type.schema).row.create(null,s)),t}function $(t,e){if(!f(t))return!1;if(e){let n=T(t);e(R(t.tr,n,n.top))}return!0}function O(t,e){if(!f(t))return!1;if(e){let n=T(t);e(R(t.tr,n,n.bottom))}return!0}function N(t,e){if(!f(t))return!1;if(e){let n=T(t),o=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let t=n.bottom-1;!function(t,{map:e,table:n,tableStart:o},i){let r=0;for(let t=0;t<i;t++)r+=n.child(t).nodeSize;let l=r+n.child(i).nodeSize,s=t.mapping.maps.length;t.delete(r+o,l+o);let a=new Set;for(let r=0,l=i*e.width;r<e.width;r++,l++){let d=e.map[l];if(!a.has(d)){if(a.add(d),i>0&&d==e.map[l-e.width]){let e=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(s).map(d+o),null,{...e,rowspan:e.rowspan-1}),r+=e.colspan-1}else if(i<e.height&&d==e.map[l+e.width]){let l=n.nodeAt(d),a=l.attrs,u=l.type.create({...a,rowspan:l.attrs.rowspan-1},l.content),h=e.positionAt(i+1,r,n);t.insert(t.mapping.slice(s).map(o+h),u),r+=a.colspan-1}}}}(o,n,t),t!=n.top;t--){let t=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!t)throw RangeError("No table found");n.table=t,n.map=u.get(n.table)}e(o)}return!0}function I(t){let e=t.content;return 1==e.childCount&&e.child(0).isTextblock&&0==e.child(0).childCount}function D(t,e){let n=t.selection;if(!(n instanceof k)||n.$anchorCell.pos==n.$headCell.pos)return!1;let o=T(t),{map:i}=o;if(function({width:t,height:e,map:n},o){let i=o.top*t+o.left,r=i,l=(o.bottom-1)*t+o.left,s=i+(o.right-o.left-1);for(let e=o.top;e<o.bottom;e++){if(o.left>0&&n[r]==n[r-1]||o.right<t&&n[s]==n[s+1])return!0;r+=t,s+=t}for(let r=o.left;r<o.right;r++){if(o.top>0&&n[i]==n[i-t]||o.bottom<e&&n[l]==n[l+t])return!0;i++,l++}return!1}(i,o))return!1;if(e){let n,r;let s=t.tr,a={},d=l.HY.empty;for(let t=o.top;t<o.bottom;t++)for(let e=o.left;e<o.right;e++){let l=i.map[t*i.width+e],u=o.table.nodeAt(l);if(!a[l]&&u){if(a[l]=!0,null==n)n=l,r=u;else{I(u)||(d=d.append(u.content));let t=s.mapping.map(l+o.tableStart);s.delete(t,t+u.nodeSize)}}}if(null==n||null==r)return!0;if(s.setNodeMarkup(n+o.tableStart,null,{...v(r.attrs,r.attrs.colspan,o.right-o.left-r.attrs.colspan),rowspan:o.bottom-o.top}),d.size){let t=n+1+r.content.size,e=I(r)?n+1:t;s.replaceWith(e+o.tableStart,t+o.tableStart,d)}s.setSelection(new k(s.doc.resolve(n+o.tableStart))),e(s)}return!0}function z(t,e){var n;let o=h(t.schema);return(n=({node:t})=>o[t.type.spec.tableRole],(t,e)=>{var o;let i,r;let l=t.selection;if(l instanceof k){if(l.$anchorCell.pos!=l.$headCell.pos)return!1;i=l.$anchorCell.nodeAfter,r=l.$anchorCell.pos}else{if(!(i=function(t){for(let e=t.depth;e>0;e--){let n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(l.$from)))return!1;r=null==(o=c(l.$from))?void 0:o.pos}if(null==i||null==r||1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(e){let o,s=i.attrs,a=[],d=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});let u=T(t),h=t.tr;for(let t=0;t<u.right-u.left;t++)a.push(d?{...s,colwidth:d&&d[t]?[d[t]]:null}:s);for(let t=u.top;t<u.bottom;t++){let e=u.map.positionAt(t,u.left,u.table);t==u.top&&(e+=i.nodeSize);for(let r=u.left,l=0;r<u.right;r++,l++)(r!=u.left||t!=u.top)&&h.insert(o=h.mapping.map(e+u.tableStart,1),n({node:i,row:t,col:r}).createAndFill(a[l]))}h.setNodeMarkup(r,n({node:i,row:u.top,col:u.left}),a[0]),l instanceof k&&h.setSelection(new k(h.doc.resolve(l.$anchorCell.pos),o?h.doc.resolve(o):void 0)),e(h)}return!0})(t,e)}function P(t,e){return function(n,o){if(!f(n))return!1;let i=m(n);if(i.nodeAfter.attrs[t]===e)return!1;if(o){let r=n.tr;n.selection instanceof k?n.selection.forEachCell((n,o)=>{n.attrs[t]!==e&&r.setNodeMarkup(o,null,{...n.attrs,[t]:e})}):r.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),o(r)}return!0}}function B(t,e,n){let o=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1});for(let t=0;t<o.length;t++){let i=e.table.nodeAt(o[t]);if(i&&i.type!==n.header_cell)return!1}return!0}function j(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e,n){if(!f(e))return!1;if(n){let o=h(e.schema),i=T(e),r=e.tr,l=i.map.cellsInRect("column"==t?{left:i.left,top:0,right:i.right,bottom:i.map.height}:"row"==t?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=l.map(t=>i.table.nodeAt(t));for(let t=0;t<l.length;t++)s[t].type==o.header_cell&&r.setNodeMarkup(i.tableStart+l[t],o.cell,s[t].attrs);if(0==r.steps.length)for(let t=0;t<l.length;t++)r.setNodeMarkup(i.tableStart+l[t],o.header_cell,s[t].attrs);n(r)}return!0}:function(e,n){if(!f(e))return!1;if(n){let o=h(e.schema),i=T(e),r=e.tr,l=B("row",i,o),s=B("column",i,o),a=("column"===t?l:"row"===t&&s)?1:0,d="column"==t?{left:0,top:a,right:1,bottom:i.map.height}:"row"==t?{left:a,top:0,right:i.map.width,bottom:1}:i,u="column"==t?s?o.cell:o.header_cell:"row"==t?l?o.cell:o.header_cell:o.cell;i.map.cellsInRect(d).forEach(t=>{let e=t+i.tableStart,n=r.doc.nodeAt(e);n&&r.setNodeMarkup(e,u,n.attrs)}),n(r)}return!0}}j("row",{useDeprecatedLogic:!0}),j("column",{useDeprecatedLogic:!0});var U=j("cell",{useDeprecatedLogic:!0});function W(t){return function(e,n){if(!f(e))return!1;let o=function(t,e){if(e<0){let e=t.nodeBefore;if(e)return t.pos-e.nodeSize;for(let e=t.index(-1)-1,n=t.before();e>=0;e--){let o=t.node(-1).child(e),i=o.lastChild;if(i)return n-1-i.nodeSize;n-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;let e=t.node(-1);for(let n=t.indexAfter(-1),o=t.after();n<e.childCount;n++){let t=e.child(n);if(t.childCount)return o+1;o+=t.nodeSize}}return null}(m(e),t);if(null==o)return!1;if(n){let t=e.doc.resolve(o);n(e.tr.setSelection(r.Bs.between(t,t.node(0).resolve(t.pos+t.nodeAfter.nodeSize))).scrollIntoView())}return!0}}function _(t,e){let n=t.selection.$anchor;for(let o=n.depth;o>0;o--)if("table"==n.node(o).type.spec.tableRole)return e&&e(t.tr.delete(n.before(o),n.after(o)).scrollIntoView()),!0;return!1}function K(t,e){let n=t.selection;if(!(n instanceof k))return!1;if(e){let o=t.tr,i=h(t.schema).cell.createAndFill().content;n.forEachCell((t,e)=>{t.content.eq(i)||o.replace(o.mapping.map(e+1),o.mapping.map(e+t.nodeSize-1),new l.p2(i,0,0))}),o.docChanged&&e(o)}return!0}function F(t,e){let n=t.createAndFill();return new d.wx(n).replace(0,n.content.size,e).doc}function q(t,e,n,o,i,r,l,s){if(0==l||l==e.height)return!1;let a=!1;for(let d=i;d<r;d++){let i=l*e.width+d,r=e.map[i];if(e.map[i-e.width]==r){a=!0;let i=n.nodeAt(r),{top:u,left:h}=e.findCell(r);t.setNodeMarkup(t.mapping.slice(s).map(r+o),null,{...i.attrs,rowspan:l-u}),t.insert(t.mapping.slice(s).map(e.positionAt(l,h,n)),i.type.createAndFill({...i.attrs,rowspan:u+i.attrs.rowspan-l})),d+=i.attrs.colspan-1}}return a}function V(t,e,n,o,i,r,l,s){if(0==l||l==e.width)return!1;let a=!1;for(let d=i;d<r;d++){let i=d*e.width+l,r=e.map[i];if(e.map[i-1]==r){a=!0;let i=n.nodeAt(r),u=e.colCount(r),h=t.mapping.slice(s).map(r+o);t.setNodeMarkup(h,null,w(i.attrs,l-u,i.attrs.colspan-(l-u))),t.insert(h+i.nodeSize,i.type.createAndFill(w(i.attrs,0,l-u))),d+=i.attrs.rowspan-1}}return a}function Q(t,e,n,o,i){let r=n?t.doc.nodeAt(n-1):t.doc;if(!r)throw Error("No table found");let s=u.get(r),{top:a,left:d}=o,p=d+i.width,c=a+i.height,f=t.tr,m=0;function g(){if(!(r=n?f.doc.nodeAt(n-1):f.doc))throw Error("No table found");s=u.get(r),m=f.mapping.maps.length}(function(t,e,n,o,i,r,s){let a,d;let u=h(t.doc.type.schema);if(i>e.width)for(let r=0,l=0;r<e.height;r++){let s;let h=n.child(r);l+=h.nodeSize;let p=[];s=null==h.lastChild||h.lastChild.type==u.cell?a||(a=u.cell.createAndFill()):d||(d=u.header_cell.createAndFill());for(let t=e.width;t<i;t++)p.push(s);t.insert(t.mapping.slice(0).map(l-1+o),p)}if(r>e.height){let s=[];for(let t=0,o=(e.height-1)*e.width;t<Math.max(e.width,i);t++){let i=!(t>=e.width)&&n.nodeAt(e.map[o+t]).type==u.header_cell;s.push(i?d||(d=u.header_cell.createAndFill()):a||(a=u.cell.createAndFill()))}let h=u.row.create(null,l.HY.from(s)),p=[];for(let t=e.height;t<r;t++)p.push(h);t.insert(t.mapping.slice(0).map(o+n.nodeSize-2),p)}return!!(a||d)})(f,s,r,n,p,c,0)&&g(),q(f,s,r,n,d,p,a,m)&&g(),q(f,s,r,n,d,p,c,m)&&g(),V(f,s,r,n,a,c,d,m)&&g(),V(f,s,r,n,a,c,p,m)&&g();for(let t=a;t<c;t++){let e=s.positionAt(t,d,r),o=s.positionAt(t,p,r);f.replace(f.mapping.slice(m).map(e+n),f.mapping.slice(m).map(o+n),new l.p2(i.rows[t-a],0,0))}g(),f.setSelection(new k(f.doc.resolve(n+s.positionAt(a,d,r)),f.doc.resolve(n+s.positionAt(c-1,p-1,r)))),e(f)}var Y=(0,a.$)({ArrowLeft:X("horiz",-1),ArrowRight:X("horiz",1),ArrowUp:X("vert",-1),ArrowDown:X("vert",1),"Shift-ArrowLeft":Z("horiz",-1),"Shift-ArrowRight":Z("horiz",1),"Shift-ArrowUp":Z("vert",-1),"Shift-ArrowDown":Z("vert",1),Backspace:K,"Mod-Backspace":K,Delete:K,"Mod-Delete":K});function G(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function X(t,e){return(n,o,i)=>{if(!i)return!1;let l=n.selection;if(l instanceof k)return G(n,o,r.Y1.near(l.$headCell,e));if("horiz"!=t&&!l.empty)return!1;let s=tn(i,t,e);if(null==s)return!1;if("horiz"==t)return G(n,o,r.Y1.near(n.doc.resolve(l.head+e),e));{let i;let l=n.doc.resolve(s),a=y(l,t,e);return i=a?r.Y1.near(a,1):e<0?r.Y1.near(n.doc.resolve(l.before(-1)),-1):r.Y1.near(n.doc.resolve(l.after(-1)),1),G(n,o,i)}}}function Z(t,e){return(n,o,i)=>{let r;if(!i)return!1;let l=n.selection;if(l instanceof k)r=l;else{let o=tn(i,t,e);if(null==o)return!1;r=new k(n.doc.resolve(o))}let s=y(r.$headCell,t,e);return!!s&&G(n,o,new k(r.$anchorCell,s))}}function J(t,e){let n=c(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new k(n))),!0)}function tt(t,e,n){if(!f(t.state))return!1;let o=function(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;1==e.childCount&&(n>0&&o>0||"table"==e.child(0).type.spec.tableRole);)n--,o--,e=e.child(0).content;let i=e.child(0),r=i.type.spec.tableRole,s=i.type.schema,a=[];if("row"==r)for(let t=0;t<e.childCount;t++){let i=e.child(t).content,r=t?0:Math.max(0,n-1),d=t<e.childCount-1?0:Math.max(0,o-1);(r||d)&&(i=F(h(s).row,new l.p2(i,r,d)).content),a.push(i)}else{if("cell"!=r&&"header_cell"!=r)return null;a.push(n||o?F(h(s).row,new l.p2(e,n,o)).content:e)}return function(t,e){let n=[];for(let t=0;t<e.length;t++){let o=e[t];for(let e=o.childCount-1;e>=0;e--){let{rowspan:i,colspan:r}=o.child(e).attrs;for(let e=t;e<t+i;e++)n[e]=(n[e]||0)+r}}let o=0;for(let t=0;t<n.length;t++)o=Math.max(o,n[t]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(l.HY.empty),n[i]<o){let r=h(t).cell.createAndFill(),s=[];for(let t=n[i];t<o;t++)s.push(r);e[i]=e[i].append(l.HY.from(s))}return{height:e.length,width:o,rows:e}}(s,a)}(n),i=t.state.selection;if(i instanceof k){o||(o={width:1,height:1,rows:[l.HY.from(F(h(t.state.schema).cell,n))]});let e=i.$anchorCell.node(-1),r=i.$anchorCell.start(-1),s=u.get(e).rectBetween(i.$anchorCell.pos-r,i.$headCell.pos-r);return o=function({width:t,height:e,rows:n},o,i){if(t!=o){let e=[],i=[];for(let t=0;t<n.length;t++){let r=n[t],s=[];for(let n=e[t]||0,i=0;n<o;i++){let l=r.child(i%r.childCount);n+l.attrs.colspan>o&&(l=l.type.createChecked(w(l.attrs,l.attrs.colspan,n+l.attrs.colspan-o),l.content)),s.push(l),n+=l.attrs.colspan;for(let n=1;n<l.attrs.rowspan;n++)e[t+n]=(e[t+n]||0)+l.attrs.colspan}i.push(l.HY.from(s))}n=i,t=o}if(e!=i){let t=[];for(let o=0,r=0;o<i;o++,r++){let s=[],a=n[r%e];for(let t=0;t<a.childCount;t++){let e=a.child(t);o+e.attrs.rowspan>i&&(e=e.type.create({...e.attrs,rowspan:Math.max(1,i-e.attrs.rowspan)},e.content)),s.push(e)}t.push(l.HY.from(s))}n=t,e=i}return{width:t,height:e,rows:n}}(o,s.right-s.left,s.bottom-s.top),Q(t.state,t.dispatch,r,s,o),!0}if(!o)return!1;{let e=m(t.state),n=e.start(-1);return Q(t.state,t.dispatch,n,u.get(e.node(-1)).findCell(e.pos-n),o),!0}}function te(t,e){var n;let o;if(e.ctrlKey||e.metaKey)return;let i=to(t,e.target);if(e.shiftKey&&t.state.selection instanceof k)r(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&null!=(o=c(t.state.selection.$anchor))&&(null==(n=ti(t,e))?void 0:n.pos)!=o.pos)r(o,e),e.preventDefault();else if(!i)return;function r(e,n){let o=ti(t,n),i=null==p.getState(t.state);if(!o||!b(e,o)){if(!i)return;o=e}let r=new k(e,o);if(i||!t.state.selection.eq(r)){let n=t.state.tr.setSelection(r);i&&n.setMeta(p,e.pos),t.dispatch(n)}}function l(){t.root.removeEventListener("mouseup",l),t.root.removeEventListener("dragstart",l),t.root.removeEventListener("mousemove",s),null!=p.getState(t.state)&&t.dispatch(t.state.tr.setMeta(p,-1))}function s(n){let o;let s=p.getState(t.state);if(null!=s)o=t.state.doc.resolve(s);else if(to(t,n.target)!=i&&!(o=ti(t,e)))return l();o&&r(o,n)}t.root.addEventListener("mouseup",l),t.root.addEventListener("dragstart",l),t.root.addEventListener("mousemove",s)}function tn(t,e,n){if(!(t.state.selection instanceof r.Bs))return null;let{$head:o}=t.state.selection;for(let i=o.depth-1;i>=0;i--){let r=o.node(i);if((n<0?o.index(i):o.indexAfter(i))!=(n<0?0:r.childCount))break;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){let r=o.before(i),l="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?r:null}}return null}function to(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e;return null}function ti(t,e){let n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?c(t.state.doc.resolve(n.pos)):null}var tr=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),tl(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type==this.node.type&&(this.node=t,tl(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))}};function tl(t,e,n,o,i,r){var l;let s=0,a=!0,d=e.firstChild,u=t.firstChild;if(u){for(let t=0,n=0;t<u.childCount;t++){let{colspan:l,colwidth:h}=u.child(t).attrs;for(let t=0;t<l;t++,n++){let l=i==n?r:h&&h[t],u=l?l+"px":"";if(s+=l||o,l||(a=!1),d)d.style.width!=u&&(d.style.width=u),d=d.nextSibling;else{let t=document.createElement("col");t.style.width=u,e.appendChild(t)}}}for(;d;){let t=d.nextSibling;null==(l=d.parentNode)||l.removeChild(d),d=t}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var ts=new r.H$("tableColumnResizing");function ta({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=tr,lastColumnResizable:i=!0}={}){let l=new r.Sy({key:ts,state:{init(t,e){var i,r;let s=null==(r=null==(i=l.spec)?void 0:i.props)?void 0:r.nodeViews,a=h(e.schema).table.name;return o&&s&&(s[a]=(t,e)=>new o(t,n,e)),new td(-1,!1)},apply:(t,e)=>e.apply(t)},props:{attributes:t=>{let e=ts.getState(t);return e&&e.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(e,n)=>{!function(t,e,n,o){if(!t.editable)return;let i=ts.getState(t.state);if(i&&!i.dragging){let r=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target),l=-1;if(r){let{left:o,right:i}=r.getBoundingClientRect();e.clientX-o<=n?l=tu(t,e,"left",n):i-e.clientX<=n&&(l=tu(t,e,"right",n))}if(l!=i.activeHandle){if(!o&&-1!==l){let e=t.state.doc.resolve(l),n=e.node(-1),o=u.get(n),i=e.start(-1);if(o.colCount(e.pos-i)+e.nodeAfter.attrs.colspan-1==o.width-1)return}tp(t,l)}}}(e,n,t,i)},mouseleave:t=>{!function(t){if(!t.editable)return;let e=ts.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&tp(t,-1)}(t)},mousedown:(t,o)=>{!function(t,e,n,o){var i;if(!t.editable)return;let r=null!=(i=t.dom.ownerDocument.defaultView)?i:window,l=ts.getState(t.state);if(!l||-1==l.activeHandle||l.dragging)return;let s=t.state.doc.nodeAt(l.activeHandle),a=function(t,e,{colspan:n,colwidth:o}){let i=o&&o[o.length-1];if(i)return i;let r=t.domAtPos(e),l=r.node.childNodes[r.offset].offsetWidth,s=n;if(o)for(let t=0;t<n;t++)o[t]&&(l-=o[t],s--);return l/s}(t,l.activeHandle,s.attrs);function d(e){r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",h);let o=ts.getState(t.state);(null==o?void 0:o.dragging)&&(function(t,e,n){let o=t.state.doc.resolve(e),i=o.node(-1),r=u.get(i),l=o.start(-1),s=r.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1,a=t.state.tr;for(let t=0;t<r.height;t++){let e=t*r.width+s;if(t&&r.map[e]==r.map[e-r.width])continue;let o=r.map[e],d=i.nodeAt(o).attrs,u=1==d.colspan?0:s-r.colCount(o);if(d.colwidth&&d.colwidth[u]==n)continue;let h=d.colwidth?d.colwidth.slice():Array(d.colspan).fill(0);h[u]=n,a.setNodeMarkup(l+o,null,{...d,colwidth:h})}a.docChanged&&t.dispatch(a)}(t,o.activeHandle,th(o.dragging,e,n)),t.dispatch(t.state.tr.setMeta(ts,{setDragging:null})))}function h(e){if(!e.which)return d(e);let i=ts.getState(t.state);if(i&&i.dragging){let r=th(i.dragging,e,n);tc(t,i.activeHandle,r,o)}}t.dispatch(t.state.tr.setMeta(ts,{setDragging:{startX:e.clientX,startWidth:a}})),tc(t,l.activeHandle,a,o),r.addEventListener("mouseup",d),r.addEventListener("mousemove",h),e.preventDefault()}(t,o,e,n)}},decorations:t=>{let e=ts.getState(t);if(e&&e.activeHandle>-1)return function(t,e){var n;let o=[],i=t.doc.resolve(e),r=i.node(-1);if(!r)return s.EH.empty;let l=u.get(r),a=i.start(-1),d=l.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let e=0;e<l.height;e++){let i=d+e*l.width;if((d==l.width-1||l.map[i]!=l.map[i+1])&&(0==e||l.map[i]!=l.map[i-l.width])){let e=l.map[i],d=a+e+r.nodeAt(e).nodeSize-1,u=document.createElement("div");u.className="column-resize-handle",(null==(n=ts.getState(t))?void 0:n.dragging)&&o.push(s.p.node(a+e,a+e+r.nodeAt(e).nodeSize,{class:"column-resize-dragging"})),o.push(s.p.widget(d,u))}}return s.EH.create(t.doc,o)}(t,e.activeHandle)},nodeViews:{}}});return l}var td=class t{constructor(t,e){this.activeHandle=t,this.dragging=e}apply(e){let n=e.getMeta(ts);if(n&&null!=n.setHandle)return new t(n.setHandle,!1);if(n&&void 0!==n.setDragging)return new t(this.activeHandle,n.setDragging);if(this.activeHandle>-1&&e.docChanged){let n=e.mapping.map(this.activeHandle,-1);return g(e.doc.resolve(n))||(n=-1),new t(n,this.dragging)}return this}};function tu(t,e,n,o){let i=t.posAtCoords({left:e.clientX+("right"==n?-o:o),top:e.clientY});if(!i)return -1;let{pos:r}=i,l=c(t.state.doc.resolve(r));if(!l)return -1;if("right"==n)return l.pos;let s=u.get(l.node(-1)),a=l.start(-1),d=s.map.indexOf(l.pos-a);return d%s.width==0?-1:a+s.map[d-1]}function th(t,e,n){let o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function tp(t,e){t.dispatch(t.state.tr.setMeta(ts,{setHandle:e}))}function tc(t,e,n,o){let i=t.state.doc.resolve(e),r=i.node(-1),l=i.start(-1),s=u.get(r).colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1,a=t.domAtPos(i.start(-1)).node;for(;a&&"TABLE"!=a.nodeName;)a=a.parentNode;a&&tl(r,a.firstChild,a,o,s,n)}function tf({allowTableNodeSelection:t=!1}={}){return new r.Sy({key:p,state:{init:()=>null,apply(t,e){let n=t.getMeta(p);if(null!=n)return -1==n?null:n;if(null==e||!t.docChanged)return e;let{deleted:o,pos:i}=t.mapping.mapResult(e);return o?null:i}},props:{decorations:A,handleDOMEvents:{mousedown:te},createSelectionBetween:t=>null!=p.getState(t.state)?t.state.selection:null,handleTripleClick:J,handleKeyDown:Y,handlePaste:tt},appendTransaction:(e,n,o)=>(function(t,e,n){let o,i;let l=(e||t).selection,s=(e||t).doc;if(l instanceof r.qv&&(i=l.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)o=k.create(s,l.from);else if("row"==i){let t=s.resolve(l.from+1);o=k.rowSelection(t,t)}else if(!n){let t=u.get(l.node),e=l.from+1,n=e+t.map[t.width*t.height-1];o=k.create(s,e+1,n)}}else l instanceof r.Bs&&function({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let t=e.depth;t>=0&&!(e.before(t+1)>e.start(t));t--,o--);return n==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(l)?o=r.Bs.create(s,l.from):l instanceof r.Bs&&function({$from:t,$to:e}){let n,o;for(let e=t.depth;e>0;e--){let o=t.node(e);if("cell"===o.type.spec.tableRole||"header_cell"===o.type.spec.tableRole){n=o;break}}for(let t=e.depth;t>0;t--){let n=e.node(t);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){o=n;break}}return n!==o&&0===e.parentOffset}(l)&&(o=r.Bs.create(s,l.$from.start(),l.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e})(o,S(o,n),t)})}},68580:function(t,e,n){n.d(e,{Z:function(){return H}});var o=n(85587),i=n(14948),r=/^\s*>\s$/,l=o.NB.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return(0,i.tZ)("blockquote",{...(0,o.P1)(this.options.HTMLAttributes,t),children:(0,i.tZ)("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";let n=[];return t.content.forEach(t=>{let o=e.renderChildren([t]).split("\n").map(t=>""===t.trim()?">":`> ${t}`);n.push(o.join("\n"))}),n.join(`
>
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,o.S0)({find:r,type:this.type})]}}),s=n(41094),a=/(^|[^`])`([^`]+)`(?!`)$/,d=/(^|[^`])`([^`]+)`(?!`)/g,u=o.vc.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,o.P1)(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,o.Cf)({find:a,type:this.type})]},addPasteRules(){return[(0,o.K9)({find:d,type:this.type})]}}),h=n(28030),p=/^```([a-z]+)?[\s\n]$/,c=/^~~~([a-z]+)?[\s\n]$/,f=o.NB.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;let{languageClassPrefix:n}=this.options;return n&&[...(null==(e=t.firstElementChild)?void 0:e.classList)||[]].filter(t=>t.startsWith(n)).map(t=>t.replace(n,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",(0,o.P1)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return(null==(n=t.raw)?void 0:n.startsWith("```"))===!1&&"indented"!==t.codeBlockStyle?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let o=(null==(n=t.attrs)?void 0:n.language)||"";return t.content?[`\`\`\`${o}`,e.renderChildren(t.content),"```"].join("\n"):`\`\`\`${o}

\`\`\``},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!!t&&e.parent.type.name===this.name&&(!!n||!e.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;let n=null!=(e=this.options.tabSize)?e:4,{state:o}=t,{selection:i}=o,{$from:r,empty:l}=i;if(r.parent.type!==this.type)return!1;let s=" ".repeat(n);return l?t.commands.insertContent(s):t.commands.command(({tr:t})=>{let{from:e,to:n}=i,r=o.doc.textBetween(e,n,"\n","\n").split("\n").map(t=>s+t).join("\n");return t.replaceWith(e,n,o.schema.text(r)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;let n=null!=(e=this.options.tabSize)?e:4,{state:o}=t,{selection:i}=o,{$from:r,empty:l}=i;return r.parent.type===this.type&&(l?t.commands.command(({tr:t})=>{var e;let{pos:i}=r,l=r.start(),s=r.end(),a=o.doc.textBetween(l,s,"\n","\n").split("\n"),d=0,u=0,p=i-l;for(let t=0;t<a.length;t+=1){if(u+a[t].length>=p){d=t;break}u+=a[t].length+1}let c=Math.min(((null==(e=a[d].match(/^ */))?void 0:e[0])||"").length,n);if(0===c)return!0;let f=l;for(let t=0;t<d;t+=1)f+=a[t].length+1;return t.delete(f,f+c),i-f<=c&&t.setSelection(h.Bs.create(t.doc,f)),!0}):t.commands.command(({tr:t})=>{let{from:e,to:r}=i,l=o.doc.textBetween(e,r,"\n","\n").split("\n").map(t=>{var e;let o=Math.min(((null==(e=t.match(/^ */))?void 0:e[0])||"").length,n);return t.slice(o)}).join("\n");return t.replaceWith(e,r,o.schema.text(l)),!0}))},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:n}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;let r=o.parentOffset===o.parent.nodeSize-2,l=o.parent.textContent.endsWith("\n\n");return!!r&&!!l&&t.chain().command(({tr:t})=>(t.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:n,doc:o}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;let l=i.after();return void 0!==l&&(o.nodeAt(l)?t.commands.command(({tr:t})=>(t.setSelection(h.Y1.near(o.resolve(l))),!0)):t.commands.exitCode())}}},addInputRules(){return[(0,o.zK)({find:p,type:this.type,getAttributes:t=>({language:t[1]})}),(0,o.zK)({find:c,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new h.Sy({key:new h.H$("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let n=e.clipboardData.getData("text/plain"),o=e.clipboardData.getData("vscode-editor-data"),i=o?JSON.parse(o):void 0,r=null==i?void 0:i.mode;if(!n||!r)return!1;let{tr:l,schema:s}=t.state,a=s.text(n.replace(/\r\n?/g,"\n"));return l.replaceSelectionWith(this.type.create({language:r},a)),l.selection.$from.parent.type!==this.type&&l.setSelection(h.Bs.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),m=n(92937),g=o.NB.create({name:"hardBreak",markdownTokenName:"br",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,o.P1)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:t,storedMarks:i}=n;if(t.$from.parent.type.spec.isolating)return!1;let{keepMarks:r}=this.options,{splittableMarks:l}=o.extensionManager,s=i||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{if(e&&s&&r){let e=s.filter(t=>l.includes(t.type.name));t.ensureMarks(e)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),b=n(9423),y=o.NB.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,o.P1)(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!(0,o.FZ)(e,e.schema.nodes[this.name]))return!1;let{selection:n}=e,{$to:i}=n,r=t();return(0,o.EG)(n)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:t,tr:e,dispatch:n})=>{if(n){let{$to:n}=e.selection,o=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?e.setSelection(h.Bs.create(e.doc,n.pos+1)):n.nodeAfter.isBlock?e.setSelection(h.qv.create(e.doc,n.pos)):e.setSelection(h.Bs.create(e.doc,n.pos));else{let i=t.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,r=null==i?void 0:i.create();r&&(e.insert(o,r),e.setSelection(h.Bs.create(e.doc,o+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,o.x2)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),w=n(31247),v=n(3081),k=n(6185),C=n(18616),A=n(55946),M=n(99518),S=n(33258),T=n(17900),H=o.hj.create({name:"starterKit",addExtensions(){var t,e,n,o;let i=[];return!1!==this.options.bold&&i.push(s.d8.configure(this.options.bold)),!1!==this.options.blockquote&&i.push(l.configure(this.options.blockquote)),!1!==this.options.bulletList&&i.push(k.DY.configure(this.options.bulletList)),!1!==this.options.code&&i.push(u.configure(this.options.code)),!1!==this.options.codeBlock&&i.push(f.configure(this.options.codeBlock)),!1!==this.options.document&&i.push(m.B.configure(this.options.document)),!1!==this.options.dropcursor&&i.push(T.m$.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&i.push(T.fj.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&i.push(g.configure(this.options.hardBreak)),!1!==this.options.heading&&i.push(b.X.configure(this.options.heading)),!1!==this.options.undoRedo&&i.push(T.QA.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&i.push(y.configure(this.options.horizontalRule)),!1!==this.options.italic&&i.push(w.Tx.configure(this.options.italic)),!1!==this.options.listItem&&i.push(k.HC.configure(this.options.listItem)),!1!==this.options.listKeymap&&i.push(k.ev.configure(null==(t=this.options)?void 0:t.listKeymap)),!1!==this.options.link&&i.push(v.rU.configure(null==(e=this.options)?void 0:e.link)),!1!==this.options.orderedList&&i.push(k.GS.configure(this.options.orderedList)),!1!==this.options.paragraph&&i.push(C.n.configure(this.options.paragraph)),!1!==this.options.strike&&i.push(A.Re.configure(this.options.strike)),!1!==this.options.text&&i.push(M.x.configure(this.options.text)),!1!==this.options.underline&&i.push(S.v.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&i.push(T.eh.configure(null==(o=this.options)?void 0:o.trailingNode)),i}})}}]);